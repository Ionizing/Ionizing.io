{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/images/2017-7-1/fig1.svg","path":"images/2017-7-1/fig1.svg","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"aecdc4f40e88a842509cf24b938906753ae08c86","modified":1507799537000},{"_id":"source/CNAME","hash":"5213b9a2e96cef6ecc10fb4fd7fa10b81819f758","modified":1506002987000},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1506005417000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1506005417000},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1506005417000},{"_id":"themes/next/.gitignore","hash":"32ea93f21d8693d5d8fa4eef1c51a21ad0670047","modified":1506005417000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1506005417000},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1506005417000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1506005417000},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1506005417000},{"_id":"themes/next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1506005417000},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1506005417000},{"_id":"themes/next/README.cn.md","hash":"6d9177e7dad87e6129760e4b559bd3f7a15429d7","modified":1506005417000},{"_id":"themes/next/README.md","hash":"950ca6e9c0fa607d290a5b1fd883df44725b36b2","modified":1506005417000},{"_id":"themes/next/_config.yml","hash":"28664ed2ff4791db240da05b9af867f5f65fa1dc","modified":1506058375000},{"_id":"themes/next/bower.json","hash":"7d7938f9da896fe710aa0e9120140e528bf058df","modified":1506005417000},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1506005417000},{"_id":"themes/next/package.json","hash":"193dad6f59a588908fac082cc46fe067dac1b84d","modified":1506005417000},{"_id":"source/_drafts/.DS_Store","hash":"a2eb92ac96963b9fea750cdab37a5753954a9666","modified":1522229183000},{"_id":"source/_drafts/Quantum-Physics-Learning-Log-2.md","hash":"c23c0c260fc6c4b3a8cefae7f0847e92896b8a02","modified":1506348204000},{"_id":"source/_drafts/calculate-hydrogen-atom-from-zero.md","hash":"fe7d70380df2f906c4fcb2da030479de76bb1dba","modified":1506914598000},{"_id":"source/_drafts/how-to-solve-angular-frequency.md","hash":"85501c3b5aec71b7153d256d5ed89b198a739931","modified":1506482033000},{"_id":"source/_drafts/solve-Schrodinger-equation-in-one-dimension.md","hash":"5fbb117c81c5d1ed113ae8a0040eea6fbcf8304e","modified":1508233585000},{"_id":"source/_posts/.DS_Store","hash":"31610cba1874e65a6d5a5271f917a0f6ff6fcea4","modified":1507799504000},{"_id":"source/_posts/Coriolis-Force.md","hash":"53f2ca0402a0265d14abeeee409a644fcd6b6196","modified":1506059859000},{"_id":"source/_posts/PAT题解-B-1035.md","hash":"aff0b0601427a1821e481a8977ea33e834ae872d","modified":1506002987000},{"_id":"source/_posts/PhysChem-Revise-1.md","hash":"3935ce61849f90b64d47af024946469e4998dd14","modified":1506002987000},{"_id":"source/_posts/Quantum-Physics-Learning-Log-1.md","hash":"78827810e0b61ebe6e0c1cb282a36fe0df711404","modified":1506059079000},{"_id":"source/_posts/how-to-solve-viberation-1.md","hash":"1362ed204ff6d903bed91b72e09ebc8fad3f7cf0","modified":1506911595000},{"_id":"source/_posts/how-to-struggle-with-vasp.md","hash":"cc15eb135dc6e56b4927c6fe981741895ec02c49","modified":1522229339000},{"_id":"source/about/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1506055449000},{"_id":"source/about/index.md","hash":"f465647256abe3c375de3fdfde55780bffdb164f","modified":1506002987000},{"_id":"source/categories/index.md","hash":"fbc6a1b6407790a9500047ae87b88bbc7d73d200","modified":1506002987000},{"_id":"source/tags/index.md","hash":"3f6646b75d49097b05293d24683b188867a2dce4","modified":1506002987000},{"_id":"themes/next/.git_back/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1506005417000},{"_id":"themes/next/.git_back/config","hash":"bf7d1df65cf34d0f25a7184a58c37a09f72e4be7","modified":1506005417000},{"_id":"themes/next/.git_back/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1506004651000},{"_id":"themes/next/.git_back/index","hash":"c3540a24b60e6a9b06d213a17fc03f6e9bf9c153","modified":1506005417000},{"_id":"themes/next/.git_back/packed-refs","hash":"c6da25768ee2b8f70e8cc74009ae1d5e683a17ed","modified":1506005417000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1506005417000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"213d0f6c9c7ed9b035d84486b540a57e24869909","modified":1506005417000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"c970b2525b2ea572af63c2ffbb3ad878d760e773","modified":1506005417000},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1506005417000},{"_id":"themes/next/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1506005417000},{"_id":"themes/next/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1506005417000},{"_id":"themes/next/languages/en.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1506005417000},{"_id":"themes/next/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1506005417000},{"_id":"themes/next/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1506005417000},{"_id":"themes/next/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1506005417000},{"_id":"themes/next/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1506005417000},{"_id":"themes/next/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1506005417000},{"_id":"themes/next/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1506005417000},{"_id":"themes/next/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1506005417000},{"_id":"themes/next/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1506005417000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"b342544b715da19d982349017bd56c5aaca11f71","modified":1506005417000},{"_id":"themes/next/languages/zh-hk.yml","hash":"2ef272bcb1f325480f59f1e2ab95584de3c6b8da","modified":1506005417000},{"_id":"themes/next/languages/zh-tw.yml","hash":"c53941a2eaac8e3a2f8dacc73ed555d3c6c5bd59","modified":1506005417000},{"_id":"themes/next/layout/_layout.swig","hash":"ada7ffc71cf05e7236a19e0648bce6d6d6cbc7dc","modified":1506005417000},{"_id":"themes/next/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1506005417000},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1506005417000},{"_id":"themes/next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1506005417000},{"_id":"themes/next/layout/page.swig","hash":"37c874cd720acf0eda8d26e063278f2b6ae8d3a6","modified":1506005417000},{"_id":"themes/next/layout/post.swig","hash":"f8221725bfe3fe52723405b524077973121f17ba","modified":1506005417000},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1506005417000},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1506005417000},{"_id":"themes/next/scripts/merge-configs.js","hash":"cb617ddf692f56e6b6129564d52e302f50b28243","modified":1506005417000},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1506005417000},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1506005417000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1506005417000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1506005417000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506005417000},{"_id":"source/_posts/Coriolis-Force/Sagiri.jpg","hash":"9487482a1afd9950afa873966c9d981d90257718","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig1.ggb","hash":"53a661e27c39efc0adfbe41139f67bf86f249eba","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig2.ggb","hash":"17f1b68399857c67bdd181bbd561bd2db33814f6","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig1.png","hash":"585a6530adf1c4fddc913c06eccaae834b5df760","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig2.svg","hash":"105def3bfdbbf5d0ed38a68b94ee0e204b6cc8c9","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig2.png","hash":"35f34c021f4c31864310ca1e1b4a842c6201caf6","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig3.ggb","hash":"f4e48c1dcaca0a8fb832a017288ffd73d98a500f","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig3.png","hash":"ebbc22b5e562274ac25dfcd61d054efff186946b","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig4.ggb","hash":"3de20a287bb4c98f7b5c9dd0818387052a763eff","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig4.png","hash":"64c40e0b7e71bda265cf1d9346301511edd29f57","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig5.ggb","hash":"23d6e2b0ccd1fd833a233865fa0212202aa114c7","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig6.ggb","hash":"38d6f1504116699e92d481262beed875d40355e7","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig6_2.pdf","hash":"a34907fe9ee1fc4ffb63e3dd930a411501db9295","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig6_2.svg","hash":"dfe0b3b491a73091eb179d78bda7cd89ade71183","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig6_3.svg","hash":"4b38faa9ad9b773b9878111226e6776defb135b1","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig6_3.pdf","hash":"710dfcec26925b2485a9889aab9565908c99e511","modified":1506002987000},{"_id":"source/_posts/Quantum-Physics-Learning-Log-1/.DS_Store","hash":"ef0b49ffff4cd3af0b74765a420db5a1f1ae2e1b","modified":1506002987000},{"_id":"source/_posts/Quantum-Physics-Learning-Log-1/fig.svg","hash":"340f4f32acc6728db7953fae0e05a2b855b0d1eb","modified":1506002987000},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.aux","hash":"6b43e311dfae9a1bb7e75dbd93f9efc541355db7","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.pdf","hash":"81143413a737502b1cb311ecda3d0759ed6f3d76","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.log","hash":"67006a595515f0e8548ed1dde05ea43e6cc7ef45","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.synctex.gz","hash":"1d4dceaac150816f26ebc4a435cf6824225dee65","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.tex","hash":"e3d6b8e86962cb85e28e80c41a7ab96b257a02aa","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.aux","hash":"6b43e311dfae9a1bb7e75dbd93f9efc541355db7","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.log","hash":"e96ee94d45b03376bfba9e4b6c91e6841870dfd5","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.pdf","hash":"5c581fc5abe1943a8a9382ac69f135ee1131a0fa","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.synctex.gz","hash":"a08597bf2b25a82196bf2e4474c756a584b6809d","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.tex","hash":"c5b61592fd9544c3fd02ad3b9f373396369276ad","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/vib1.ggb","hash":"4322a112c7fc8cb5a58ce221ffc89f2d328d1135","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/vib1.svg","hash":"01d09e1034c9d35e028218f892fdbe68d705b39e","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/vib2.ggb","hash":"344ead147ac72d7f43578029967b6a39b6f47bfa","modified":1506781297000},{"_id":"source/_posts/how-to-solve-viberation-1/vib2.svg","hash":"65253cf844905c49fe0fa6ea16f4e38b03389b1e","modified":1506781297000},{"_id":"source/_posts/how-to-struggle-with-vasp/lattice1.ggb","hash":"2aef0a4ba821878c167d3fc04adcda3c808942b6","modified":1522229339000},{"_id":"source/images/2017-7-1/fig1.svg","hash":"340f4f32acc6728db7953fae0e05a2b855b0d1eb","modified":1506002987000},{"_id":"themes/next/.git_back/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1506004651000},{"_id":"themes/next/.git_back/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1506004651000},{"_id":"themes/next/.git_back/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1506004651000},{"_id":"themes/next/.git_back/logs/HEAD","hash":"ec9f015965a39c5392a5a7f41f38059c3f655ec9","modified":1506005417000},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1506005417000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1506005417000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1506005417000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"53d4f83b2b7fb4387dfc9fe81519abd56fbce4ae","modified":1506005417000},{"_id":"themes/next/layout/_macro/post.swig","hash":"767e1d5503ecce85f577c8fb673a3503b65484ce","modified":1506005417000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1506005417000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"3e01900762d889a04379abba37b419972e366698","modified":1506005417000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1506005417000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"010ef8c42d2e1a95abc60caf757293ca8eb4a68b","modified":1506005417000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"b20c769d4dc360daf8e0e0cb1b8df88bf42d6728","modified":1506347621000},{"_id":"themes/next/layout/_partials/head.swig","hash":"3b389087939b4c6488f5d1a980346cf62a5f1b31","modified":1506056456000},{"_id":"themes/next/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1506007679000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1506005417000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1506005417000},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1506005417000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1506005417000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1506005417000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9baf90f7c40b3b10f288e9268c3191e895890cea","modified":1506005417000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1506005417000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1506005417000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1506005417000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1506005417000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1506005417000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1506005417000},{"_id":"themes/next/scripts/tags/button.js","hash":"62e6dbeb53d07627a048132c79630b45d9a8f2cc","modified":1506005417000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1506005417000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1506005417000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1506005417000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1506005417000},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1506005417000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1506005417000},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1506005417000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1506005417000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1506005417000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1506005417000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1506005417000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1506005417000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1506005417000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1506005417000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1506005417000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1506005417000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1506005417000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1506005417000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1506005417000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1506005417000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1506005417000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1506005417000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1506005417000},{"_id":"source/_posts/Coriolis-Force/fig5.png","hash":"2e6a309ad30e43be3a338ad9ea09a88949cea19c","modified":1506002987000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506005417000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506005417000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506005417000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506005417000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506005417000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506005417000},{"_id":"source/_posts/Coriolis-Force/fig6_1.png","hash":"e14d92f9475048343e813ab265520e11f93428a3","modified":1506002987000},{"_id":"themes/next/.git_back/refs/heads/master","hash":"39e2034b9876abd9811f8ece4d3d5682d70021c2","modified":1506005417000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1506005417000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1506005417000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1506005417000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1506005417000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1506005417000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1506005417000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1506005417000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1506005417000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1506005417000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1506005417000},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1506005417000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1506005417000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"576e716893153a855eaf6d136fad7cb6d4065e09","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"9f4ed36c73e890909b8ebbe601fb60e13d048288","modified":1506005417000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1506005417000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1506005417000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1506005417000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1506005417000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1506005417000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1506005417000},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1506005417000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1506005417000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1506005417000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"6359c84aaa02c90be60b22abe638b737ddd69c9c","modified":1506005417000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1506005417000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"cfee25d790e4f9b7d57f0dc7e2ea9c1649f08f11","modified":1506005417000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"666a32952adff1396b0d241569c6df71d83ead24","modified":1506005417000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"d270c67b78ad4fafd3dbaeef3a612210637c88d7","modified":1506007007000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1506005417000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1506005417000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1506005417000},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1506005417000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1506005417000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1506005417000},{"_id":"themes/next/source/js/src/motion.js","hash":"da146caf488078a634d961debf2a71ce4106018c","modified":1506005417000},{"_id":"themes/next/source/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1506005417000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1506005417000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1506005417000},{"_id":"themes/next/source/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1506005417000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1506005417000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1506005417000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1506005417000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1506005417000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1506005417000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1506005417000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1506005417000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1506005417000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1506005417000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1506005417000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1506005417000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1506005417000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1506005417000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1506005417000},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1506005417000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1506005417000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1506005417000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1506005417000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1506005417000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1506005417000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1506005417000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1506005417000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1506005417000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1506005417000},{"_id":"themes/next/.git_back/logs/refs/heads/master","hash":"ec9f015965a39c5392a5a7f41f38059c3f655ec9","modified":1506005417000},{"_id":"themes/next/.git_back/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1506005417000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1506005417000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"d026c8489f66ab6c12ad04bd37f1d5b6f2f3f0d1","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1506005417000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1506005417000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1506005417000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1506005417000},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"86b6fd7f1b1be3ae98f8af6b23a6b1299c670ce9","modified":1506005417000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1506005417000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1506005417000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"bc8c388553bbcf95897459a466ba35bffd5ec5f0","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"5e6c9f8a730b78c7ce5572d327c2a7311c3609b9","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"82bbaa6322764779a1ac2e2c8390ce901c7972e2","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"264a52c0a7877381f9a6a87d495757a0ba7e29d6","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1506005417000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1506005417000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1506005417000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1506005417000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1506005417000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1506005417000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1506005417000},{"_id":"themes/next/.git_back/logs/refs/remotes/origin/HEAD","hash":"ec9f015965a39c5392a5a7f41f38059c3f655ec9","modified":1506005417000},{"_id":"themes/next/.git_back/objects/pack/pack-e2fefe85e5ad98bd40d2882611a29cccfe6fee11.idx","hash":"031dcf1dec6b648f1929ba38cbda986090badfaa","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"7905a7f625702b45645d8be1268cb8af3f698c70","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"740d37f428b8f4574a76fc95cc25e50e0565f45e","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"beccb53dcd658136fb91a0c5678dea8f37d6e0b6","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"8bb08dcb8e5c5dcc5044ef1d8981d8dc16ec6036","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"08a500b2984f109b751f3697ca33172d1340591a","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"8c15f9a179c47c3f61e56577ece63fa8c9393ac6","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"77c92a449ce84d558d26d052681f2e0dd77c70c9","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"57d2c8a060f5e4e1a0aef9aae11a0016cf7ac5ba","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"45df0cf4c97b47e05573bcd41028ee50f3fdf432","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1506005417000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"aeff0e6e23725e8baea27c890ccbbf466024f767","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1506005417000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1506005417000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1506005417000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1506005417000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1506005417000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1506005417000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1506005417000},{"_id":"source/_posts/Coriolis-Force/animated.gif","hash":"341a59cdf86c0b674aea57a89a660c31099d17f6","modified":1506002987000},{"_id":"source/_posts/Coriolis-Force/fig5.gif","hash":"6620991bce153782b46e3d3b404dca7adaeb0db7","modified":1506002987000},{"_id":"themes/next/.git_back/objects/pack/pack-e2fefe85e5ad98bd40d2882611a29cccfe6fee11.pack","hash":"84fe6caec9bca7b13c0a0ec9f265c5482400f112","modified":1506005417000}],"Category":[{"name":"Quantum Mechanics","_id":"cjfaw3swx0004o1jmzfwhudgq"},{"name":"Physics","_id":"cjfaw3sx9000go1jm27nn6jcx"},{"name":"Data Structure & Algorithm","_id":"cjfaw3sxf000qo1jmurpmazpv"},{"name":"Physical Chemistry","_id":"cjfaw3sxg000uo1jm2prfxq6p"},{"name":"First Principle Calculation","_id":"cjfaw3sxh0010o1jm81y44g99"}],"Data":[],"Page":[{"title":"关于","date":"2017-06-22T09:35:05.000Z","type":"about","comments":0,"_content":"\n# 关于本渣\n即将毕业去搬砖的伪化生，就读于帝国能源男子高中应用化学专业。\n\n# 计算机\n曾梦想成为一名黑客，现在只是想低调地搬砖写代码。`C++`、`MATLAB`、`Mathematica`入门水平。\n\n酷爱折腾，并无数次拆开手机更换零件；也喜欢折腾电脑工作环境。忠实的`Vim`党、大括号不换行党以及驼峰党。\n\n正版 `Micro$oft Window$` 的受害者以及 `Arch Linux` 的受益者。\n\n# 化学\n有机化学学渣，物理化学学渣。　嗯，还是众多具有帝国能源男子高中特色课程的学渣。\n\n# 职业生涯\n未来只想低调做科研，少装X，多做事。\n\n# 为什么没有贴出头像？\n因为太丑。\n\n# 联系方式\nEmail: `PeterSmith_9@outlook.com`","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2017-06-22 17:35:05\ntype: \"about\"\ncomments: false\n---\n\n# 关于本渣\n即将毕业去搬砖的伪化生，就读于帝国能源男子高中应用化学专业。\n\n# 计算机\n曾梦想成为一名黑客，现在只是想低调地搬砖写代码。`C++`、`MATLAB`、`Mathematica`入门水平。\n\n酷爱折腾，并无数次拆开手机更换零件；也喜欢折腾电脑工作环境。忠实的`Vim`党、大括号不换行党以及驼峰党。\n\n正版 `Micro$oft Window$` 的受害者以及 `Arch Linux` 的受益者。\n\n# 化学\n有机化学学渣，物理化学学渣。　嗯，还是众多具有帝国能源男子高中特色课程的学渣。\n\n# 职业生涯\n未来只想低调做科研，少装X，多做事。\n\n# 为什么没有贴出头像？\n因为太丑。\n\n# 联系方式\nEmail: `PeterSmith_9@outlook.com`","updated":"2017-09-21T14:09:47.000Z","path":"about/index.html","layout":"page","_id":"cjfaw3sws0001o1jmqqbc44vf","content":"<h1 id=\"关于本渣\"><a href=\"#关于本渣\" class=\"headerlink\" title=\"关于本渣\"></a>关于本渣</h1><p>即将毕业去搬砖的伪化生，就读于帝国能源男子高中应用化学专业。</p>\n<h1 id=\"计算机\"><a href=\"#计算机\" class=\"headerlink\" title=\"计算机\"></a>计算机</h1><p>曾梦想成为一名黑客，现在只是想低调地搬砖写代码。<code>C++</code>、<code>MATLAB</code>、<code>Mathematica</code>入门水平。</p>\n<p>酷爱折腾，并无数次拆开手机更换零件；也喜欢折腾电脑工作环境。忠实的<code>Vim</code>党、大括号不换行党以及驼峰党。</p>\n<p>正版 <code>Micro$oft Window$</code> 的受害者以及 <code>Arch Linux</code> 的受益者。</p>\n<h1 id=\"化学\"><a href=\"#化学\" class=\"headerlink\" title=\"化学\"></a>化学</h1><p>有机化学学渣，物理化学学渣。　嗯，还是众多具有帝国能源男子高中特色课程的学渣。</p>\n<h1 id=\"职业生涯\"><a href=\"#职业生涯\" class=\"headerlink\" title=\"职业生涯\"></a>职业生涯</h1><p>未来只想低调做科研，少装X，多做事。</p>\n<h1 id=\"为什么没有贴出头像？\"><a href=\"#为什么没有贴出头像？\" class=\"headerlink\" title=\"为什么没有贴出头像？\"></a>为什么没有贴出头像？</h1><p>因为太丑。</p>\n<h1 id=\"联系方式\"><a href=\"#联系方式\" class=\"headerlink\" title=\"联系方式\"></a>联系方式</h1><p>Email: <code>PeterSmith_9@outlook.com</code></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"关于本渣\"><a href=\"#关于本渣\" class=\"headerlink\" title=\"关于本渣\"></a>关于本渣</h1><p>即将毕业去搬砖的伪化生，就读于帝国能源男子高中应用化学专业。</p>\n<h1 id=\"计算机\"><a href=\"#计算机\" class=\"headerlink\" title=\"计算机\"></a>计算机</h1><p>曾梦想成为一名黑客，现在只是想低调地搬砖写代码。<code>C++</code>、<code>MATLAB</code>、<code>Mathematica</code>入门水平。</p>\n<p>酷爱折腾，并无数次拆开手机更换零件；也喜欢折腾电脑工作环境。忠实的<code>Vim</code>党、大括号不换行党以及驼峰党。</p>\n<p>正版 <code>Micro$oft Window$</code> 的受害者以及 <code>Arch Linux</code> 的受益者。</p>\n<h1 id=\"化学\"><a href=\"#化学\" class=\"headerlink\" title=\"化学\"></a>化学</h1><p>有机化学学渣，物理化学学渣。　嗯，还是众多具有帝国能源男子高中特色课程的学渣。</p>\n<h1 id=\"职业生涯\"><a href=\"#职业生涯\" class=\"headerlink\" title=\"职业生涯\"></a>职业生涯</h1><p>未来只想低调做科研，少装X，多做事。</p>\n<h1 id=\"为什么没有贴出头像？\"><a href=\"#为什么没有贴出头像？\" class=\"headerlink\" title=\"为什么没有贴出头像？\"></a>为什么没有贴出头像？</h1><p>因为太丑。</p>\n<h1 id=\"联系方式\"><a href=\"#联系方式\" class=\"headerlink\" title=\"联系方式\"></a>联系方式</h1><p>Email: <code>PeterSmith_9@outlook.com</code></p>\n"},{"title":"分类","date":"2017-06-22T08:39:46.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2017-06-22 16:39:46\ntype: \"categories\"\ncomments: false\n---\n","updated":"2017-09-21T14:09:47.000Z","path":"categories/index.html","layout":"page","_id":"cjfaw3swv0003o1jmpsh656nw","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"标签","date":"2017-06-22T08:33:53.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: 标签 \ndate: 2017-06-22 16:33:53\ntype: \"tags\"\ncomments: false\n---\n","updated":"2017-09-21T14:09:47.000Z","path":"tags/index.html","layout":"page","_id":"cjfaw3swz0007o1jmv9ly0dmg","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"量子力学学习手记（二）——量子力学假设","date":"2017-08-15T08:08:32.000Z","_content":"\n# 量子力学学习手记（2）—量子力学假设\n\n**以下是在不考虑相对论的情况下进行的量子力学假设。** \n\n为了使问题简化，我们会先讨论自由度为 **1** 的系统状况，很自然地，这个系统包含一个粒子，并且该粒子存在于一维空间中，此时我们会进行一些假设，根据假设对这个系统进行相应的计算，取其结果与经典力学的结果进行对比；之后，我们会将假设推广到多维系统以及多个粒子的系统中去。\n\n-----\n\n接下来要阐述的是量子力学的四个基本假设与经典力学假设的对比：\n\n## 假设 I\n\n经典力学：\t一个粒子在任意时刻下的状态由两个变量决定：$x(t)$ 和 $p(t)$ ，这就像在一个二维空间确定一个点需要两个坐标一样；\n\n量子力学：\t粒子的状态用希尔伯特空间中的向量 $\\mid \\psi(t) \\rangle$ 表示。\n\n## 假设 II\n\n经典力学：\t任何动力学变量 $\\omega$ 都是 $x$ 和 $p$ 的函数： $\\omega = \\omega(x,p)$ ；\n\n量子力学：\t经典力学中的独立变量 $x$ 和 $p$ 在量子力学中由厄米算符 $X$ , $P$ 以及下面矩阵的元素代替：\n$$\n\\langle x\\mid X\\mid x'\\rangle = x\\delta(x-x') \\\\\\\\\n\\langle x\\mid P\\mid x'\\rangle = -i\\hbar\\delta(x-x')\n$$\n​\t\t\t而经典力学中的非独立变量如$\\omega(x,p)$ 则用下面的厄米算符表示：\n$$\n\\Omega(X,P) = \\omega(x\\rightarrow X, p\\rightarrow P)\n$$\n\n## 假设 III\n\n经典力学：\t如果粒子的状态由给定的 $x​$ 和 $p​$ 所确定，则对 $\\omega​$ 的测量将产生一个值 $\\omega(x,p)​$ ，并且该系统的状态不会被改变；\n\n量子力学：\t如果粒子的状态为 $\\mid \\psi \\rangle$ ，则外界对于 $\\Omega$ 的测量行为有 $P(\\omega) \\propto |\\langle \\omega \\mid \\psi\\rangle|^2$ 的概率得到 $\\Omega$ 的一个特征值 $\\omega$ 。**并且由于测量行为，该系统的状态将会从 $\\mid\\psi\\rangle$ 变为 $\\mid \\omega \\rangle$ **。\n\n## 假设 IV\n\n经典力学：\t变量随时间的变化规律满足哈密顿方程：\n$$\n\\dot{x} = \\frac{\\partial \\mathscr{H} }{\\partial p} \\\\\\\\\n\\dot{p} = -\\frac{\\partial \\mathscr{H} }{\\partial x}\n$$\n量子力学：\t状态向量 $\\mid \\psi(t) \\rangle$ 服从薛定谔方程：\n$$\ni\\hbar \\frac{\\mathrm d}{\\mathrm dt}\\mid \\psi(t) \\rangle = H\\mid\\psi(t)\\rangle\n$$\n​\t\t\t其中 $H(X,P) = \\mathscr{H}(x\\rightarrow X, p\\rightarrow P)$ 是量子力学中的哈密顿算符，而 $\\mathscr{H}$ 是经典理论中的哈密顿算符。\n\n\n\n以上四个假设对于量子力学 **非常重要** ，每天早起背一遍都不为过。\n\n------\n\n下面我们来讨论这些假设。\n\n## ","source":"_drafts/Quantum-Physics-Learning-Log-2.md","raw":"---\ntitle: 量子力学学习手记（二）——量子力学假设\ndate: 2017-08-15 16:08:32\ntags:\n   - 量子力学\ncategories: Quantum Mechanics\n---\n\n# 量子力学学习手记（2）—量子力学假设\n\n**以下是在不考虑相对论的情况下进行的量子力学假设。** \n\n为了使问题简化，我们会先讨论自由度为 **1** 的系统状况，很自然地，这个系统包含一个粒子，并且该粒子存在于一维空间中，此时我们会进行一些假设，根据假设对这个系统进行相应的计算，取其结果与经典力学的结果进行对比；之后，我们会将假设推广到多维系统以及多个粒子的系统中去。\n\n-----\n\n接下来要阐述的是量子力学的四个基本假设与经典力学假设的对比：\n\n## 假设 I\n\n经典力学：\t一个粒子在任意时刻下的状态由两个变量决定：$x(t)$ 和 $p(t)$ ，这就像在一个二维空间确定一个点需要两个坐标一样；\n\n量子力学：\t粒子的状态用希尔伯特空间中的向量 $\\mid \\psi(t) \\rangle$ 表示。\n\n## 假设 II\n\n经典力学：\t任何动力学变量 $\\omega$ 都是 $x$ 和 $p$ 的函数： $\\omega = \\omega(x,p)$ ；\n\n量子力学：\t经典力学中的独立变量 $x$ 和 $p$ 在量子力学中由厄米算符 $X$ , $P$ 以及下面矩阵的元素代替：\n$$\n\\langle x\\mid X\\mid x'\\rangle = x\\delta(x-x') \\\\\\\\\n\\langle x\\mid P\\mid x'\\rangle = -i\\hbar\\delta(x-x')\n$$\n​\t\t\t而经典力学中的非独立变量如$\\omega(x,p)$ 则用下面的厄米算符表示：\n$$\n\\Omega(X,P) = \\omega(x\\rightarrow X, p\\rightarrow P)\n$$\n\n## 假设 III\n\n经典力学：\t如果粒子的状态由给定的 $x​$ 和 $p​$ 所确定，则对 $\\omega​$ 的测量将产生一个值 $\\omega(x,p)​$ ，并且该系统的状态不会被改变；\n\n量子力学：\t如果粒子的状态为 $\\mid \\psi \\rangle$ ，则外界对于 $\\Omega$ 的测量行为有 $P(\\omega) \\propto |\\langle \\omega \\mid \\psi\\rangle|^2$ 的概率得到 $\\Omega$ 的一个特征值 $\\omega$ 。**并且由于测量行为，该系统的状态将会从 $\\mid\\psi\\rangle$ 变为 $\\mid \\omega \\rangle$ **。\n\n## 假设 IV\n\n经典力学：\t变量随时间的变化规律满足哈密顿方程：\n$$\n\\dot{x} = \\frac{\\partial \\mathscr{H} }{\\partial p} \\\\\\\\\n\\dot{p} = -\\frac{\\partial \\mathscr{H} }{\\partial x}\n$$\n量子力学：\t状态向量 $\\mid \\psi(t) \\rangle$ 服从薛定谔方程：\n$$\ni\\hbar \\frac{\\mathrm d}{\\mathrm dt}\\mid \\psi(t) \\rangle = H\\mid\\psi(t)\\rangle\n$$\n​\t\t\t其中 $H(X,P) = \\mathscr{H}(x\\rightarrow X, p\\rightarrow P)$ 是量子力学中的哈密顿算符，而 $\\mathscr{H}$ 是经典理论中的哈密顿算符。\n\n\n\n以上四个假设对于量子力学 **非常重要** ，每天早起背一遍都不为过。\n\n------\n\n下面我们来讨论这些假设。\n\n## ","slug":"Quantum-Physics-Learning-Log-2","published":0,"updated":"2017-09-25T14:03:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3swo0000o1jmn5qkokpg","content":"<h1 id=\"量子力学学习手记（2）—量子力学假设\"><a href=\"#量子力学学习手记（2）—量子力学假设\" class=\"headerlink\" title=\"量子力学学习手记（2）—量子力学假设\"></a>量子力学学习手记（2）—量子力学假设</h1><p><strong>以下是在不考虑相对论的情况下进行的量子力学假设。</strong> </p>\n<p>为了使问题简化，我们会先讨论自由度为 <strong>1</strong> 的系统状况，很自然地，这个系统包含一个粒子，并且该粒子存在于一维空间中，此时我们会进行一些假设，根据假设对这个系统进行相应的计算，取其结果与经典力学的结果进行对比；之后，我们会将假设推广到多维系统以及多个粒子的系统中去。</p>\n<hr>\n<p>接下来要阐述的是量子力学的四个基本假设与经典力学假设的对比：</p>\n<h2 id=\"假设-I\"><a href=\"#假设-I\" class=\"headerlink\" title=\"假设 I\"></a>假设 I</h2><p>经典力学：    一个粒子在任意时刻下的状态由两个变量决定：$x(t)$ 和 $p(t)$ ，这就像在一个二维空间确定一个点需要两个坐标一样；</p>\n<p>量子力学：    粒子的状态用希尔伯特空间中的向量 $\\mid \\psi(t) \\rangle$ 表示。</p>\n<h2 id=\"假设-II\"><a href=\"#假设-II\" class=\"headerlink\" title=\"假设 II\"></a>假设 II</h2><p>经典力学：    任何动力学变量 $\\omega$ 都是 $x$ 和 $p$ 的函数： $\\omega = \\omega(x,p)$ ；</p>\n<p>量子力学：    经典力学中的独立变量 $x$ 和 $p$ 在量子力学中由厄米算符 $X$ , $P$ 以及下面矩阵的元素代替：<br>$$<br>\\langle x\\mid X\\mid x’\\rangle = x\\delta(x-x’) \\\\\\\\<br>\\langle x\\mid P\\mid x’\\rangle = -i\\hbar\\delta(x-x’)<br>$$<br>​            而经典力学中的非独立变量如$\\omega(x,p)$ 则用下面的厄米算符表示：<br>$$<br>\\Omega(X,P) = \\omega(x\\rightarrow X, p\\rightarrow P)<br>$$</p>\n<h2 id=\"假设-III\"><a href=\"#假设-III\" class=\"headerlink\" title=\"假设 III\"></a>假设 III</h2><p>经典力学：    如果粒子的状态由给定的 $x​$ 和 $p​$ 所确定，则对 $\\omega​$ 的测量将产生一个值 $\\omega(x,p)​$ ，并且该系统的状态不会被改变；</p>\n<p>量子力学：    如果粒子的状态为 $\\mid \\psi \\rangle$ ，则外界对于 $\\Omega$ 的测量行为有 $P(\\omega) \\propto |\\langle \\omega \\mid \\psi\\rangle|^2$ 的概率得到 $\\Omega$ 的一个特征值 $\\omega$ 。<strong>并且由于测量行为，该系统的状态将会从 $\\mid\\psi\\rangle$ 变为 $\\mid \\omega \\rangle$ </strong>。</p>\n<h2 id=\"假设-IV\"><a href=\"#假设-IV\" class=\"headerlink\" title=\"假设 IV\"></a>假设 IV</h2><p>经典力学：    变量随时间的变化规律满足哈密顿方程：<br>$$<br>\\dot{x} = \\frac{\\partial \\mathscr{H} }{\\partial p} \\\\\\\\<br>\\dot{p} = -\\frac{\\partial \\mathscr{H} }{\\partial x}<br>$$<br>量子力学：    状态向量 $\\mid \\psi(t) \\rangle$ 服从薛定谔方程：<br>$$<br>i\\hbar \\frac{\\mathrm d}{\\mathrm dt}\\mid \\psi(t) \\rangle = H\\mid\\psi(t)\\rangle<br>$$<br>​            其中 $H(X,P) = \\mathscr{H}(x\\rightarrow X, p\\rightarrow P)$ 是量子力学中的哈密顿算符，而 $\\mathscr{H}$ 是经典理论中的哈密顿算符。</p>\n<p>以上四个假设对于量子力学 <strong>非常重要</strong> ，每天早起背一遍都不为过。</p>\n<hr>\n<p>下面我们来讨论这些假设。</p>\n<p>## </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"量子力学学习手记（2）—量子力学假设\"><a href=\"#量子力学学习手记（2）—量子力学假设\" class=\"headerlink\" title=\"量子力学学习手记（2）—量子力学假设\"></a>量子力学学习手记（2）—量子力学假设</h1><p><strong>以下是在不考虑相对论的情况下进行的量子力学假设。</strong> </p>\n<p>为了使问题简化，我们会先讨论自由度为 <strong>1</strong> 的系统状况，很自然地，这个系统包含一个粒子，并且该粒子存在于一维空间中，此时我们会进行一些假设，根据假设对这个系统进行相应的计算，取其结果与经典力学的结果进行对比；之后，我们会将假设推广到多维系统以及多个粒子的系统中去。</p>\n<hr>\n<p>接下来要阐述的是量子力学的四个基本假设与经典力学假设的对比：</p>\n<h2 id=\"假设-I\"><a href=\"#假设-I\" class=\"headerlink\" title=\"假设 I\"></a>假设 I</h2><p>经典力学：    一个粒子在任意时刻下的状态由两个变量决定：$x(t)$ 和 $p(t)$ ，这就像在一个二维空间确定一个点需要两个坐标一样；</p>\n<p>量子力学：    粒子的状态用希尔伯特空间中的向量 $\\mid \\psi(t) \\rangle$ 表示。</p>\n<h2 id=\"假设-II\"><a href=\"#假设-II\" class=\"headerlink\" title=\"假设 II\"></a>假设 II</h2><p>经典力学：    任何动力学变量 $\\omega$ 都是 $x$ 和 $p$ 的函数： $\\omega = \\omega(x,p)$ ；</p>\n<p>量子力学：    经典力学中的独立变量 $x$ 和 $p$ 在量子力学中由厄米算符 $X$ , $P$ 以及下面矩阵的元素代替：<br>$$<br>\\langle x\\mid X\\mid x’\\rangle = x\\delta(x-x’) \\\\\\\\<br>\\langle x\\mid P\\mid x’\\rangle = -i\\hbar\\delta(x-x’)<br>$$<br>​            而经典力学中的非独立变量如$\\omega(x,p)$ 则用下面的厄米算符表示：<br>$$<br>\\Omega(X,P) = \\omega(x\\rightarrow X, p\\rightarrow P)<br>$$</p>\n<h2 id=\"假设-III\"><a href=\"#假设-III\" class=\"headerlink\" title=\"假设 III\"></a>假设 III</h2><p>经典力学：    如果粒子的状态由给定的 $x​$ 和 $p​$ 所确定，则对 $\\omega​$ 的测量将产生一个值 $\\omega(x,p)​$ ，并且该系统的状态不会被改变；</p>\n<p>量子力学：    如果粒子的状态为 $\\mid \\psi \\rangle$ ，则外界对于 $\\Omega$ 的测量行为有 $P(\\omega) \\propto |\\langle \\omega \\mid \\psi\\rangle|^2$ 的概率得到 $\\Omega$ 的一个特征值 $\\omega$ 。<strong>并且由于测量行为，该系统的状态将会从 $\\mid\\psi\\rangle$ 变为 $\\mid \\omega \\rangle$ </strong>。</p>\n<h2 id=\"假设-IV\"><a href=\"#假设-IV\" class=\"headerlink\" title=\"假设 IV\"></a>假设 IV</h2><p>经典力学：    变量随时间的变化规律满足哈密顿方程：<br>$$<br>\\dot{x} = \\frac{\\partial \\mathscr{H} }{\\partial p} \\\\\\\\<br>\\dot{p} = -\\frac{\\partial \\mathscr{H} }{\\partial x}<br>$$<br>量子力学：    状态向量 $\\mid \\psi(t) \\rangle$ 服从薛定谔方程：<br>$$<br>i\\hbar \\frac{\\mathrm d}{\\mathrm dt}\\mid \\psi(t) \\rangle = H\\mid\\psi(t)\\rangle<br>$$<br>​            其中 $H(X,P) = \\mathscr{H}(x\\rightarrow X, p\\rightarrow P)$ 是量子力学中的哈密顿算符，而 $\\mathscr{H}$ 是经典理论中的哈密顿算符。</p>\n<p>以上四个假设对于量子力学 <strong>非常重要</strong> ，每天早起背一遍都不为过。</p>\n<hr>\n<p>下面我们来讨论这些假设。</p>\n<p>## </p>\n"},{"title":"从零开始计算氢原子","_content":"\n","source":"_drafts/calculate-hydrogen-atom-from-zero.md","raw":"---\ntitle: 从零开始计算氢原子\ntags:\n    - 氢原子\n    - 薛定谔方程\n    - 波尔半径\n    - 量子力学\ncategories: Quantum Mechanics\n---\n\n","slug":"calculate-hydrogen-atom-from-zero","published":0,"date":"2017-10-02T03:19:46.000Z","updated":"2017-10-02T03:23:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3swt0002o1jm4xgtq0y7","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"如何求摆的角频率？","_content":"\n[TOC]\n\n# 什么是摆？\n\n## 什么样的运动称之为简谐运动？\n\n让我们来先看一个例子：\n\n<--有一单摆，即在一个细线下面悬挂一个可以视为质点的小球（忽略小球的自转），给小球一个很小的水平初速度，小球将在竖直平面内（忽略科里奥利力）做小角度的摆动并且忽略一切阻力。\n\n设细线长为 $l$ ，小球质量为 $m$ ，重力加速度为 $g$ ，画出示意图如下：\n\n\n\n很容易看出摆锤（小球）的重力势能是：\n$$\nE_{\\rm p重} = mgl(1-\\cos\\theta)\n$$\n摆锤的速度\n$$\nv = l \\omega = l\\cdot\\frac{\\mathrm d \\theta}{\\mathrm d t} = l\\dot{\\theta}\n$$\n摆锤的动能\n$$\nE_{k} = \\frac 12 m l^2 \\dot{\\theta}^2\n$$\n在摆动过程中没有外界能量输入，由能量守恒\n$$\n\\begin{aligned}\nE &= E_{\\rm k} + E_{\\rm p 重} \\\\\n&= \\frac 12 m l^2 \\dot{\\theta}^2 + mgl(1-\\cos\\theta)\\\\\n&= \\rm Constant\n\\end{aligned}\n$$\n\n即可解得\n$$\n\\dot{\\theta} = \\pm \\sqrt{\\frac{2g}{l} (\\frac{E}{mgl} - 1 + \\cos\\theta) }\n$$\n\n-->","source":"_drafts/how-to-solve-angular-frequency.md","raw":"---\ntitle: 如何求摆的角频率？\ntags:\n\t- 物理学\n\t- 振动\ncategories: Physics\n---\n\n[TOC]\n\n# 什么是摆？\n\n## 什么样的运动称之为简谐运动？\n\n让我们来先看一个例子：\n\n<--有一单摆，即在一个细线下面悬挂一个可以视为质点的小球（忽略小球的自转），给小球一个很小的水平初速度，小球将在竖直平面内（忽略科里奥利力）做小角度的摆动并且忽略一切阻力。\n\n设细线长为 $l$ ，小球质量为 $m$ ，重力加速度为 $g$ ，画出示意图如下：\n\n\n\n很容易看出摆锤（小球）的重力势能是：\n$$\nE_{\\rm p重} = mgl(1-\\cos\\theta)\n$$\n摆锤的速度\n$$\nv = l \\omega = l\\cdot\\frac{\\mathrm d \\theta}{\\mathrm d t} = l\\dot{\\theta}\n$$\n摆锤的动能\n$$\nE_{k} = \\frac 12 m l^2 \\dot{\\theta}^2\n$$\n在摆动过程中没有外界能量输入，由能量守恒\n$$\n\\begin{aligned}\nE &= E_{\\rm k} + E_{\\rm p 重} \\\\\n&= \\frac 12 m l^2 \\dot{\\theta}^2 + mgl(1-\\cos\\theta)\\\\\n&= \\rm Constant\n\\end{aligned}\n$$\n\n即可解得\n$$\n\\dot{\\theta} = \\pm \\sqrt{\\frac{2g}{l} (\\frac{E}{mgl} - 1 + \\cos\\theta) }\n$$\n\n-->","slug":"how-to-solve-angular-frequency","published":0,"date":"2017-09-25T13:56:04.000Z","updated":"2017-09-27T03:13:53.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3swy0006o1jmcah91r5a","content":"<p>[TOC]</p>\n<h1 id=\"什么是摆？\"><a href=\"#什么是摆？\" class=\"headerlink\" title=\"什么是摆？\"></a>什么是摆？</h1><h2 id=\"什么样的运动称之为简谐运动？\"><a href=\"#什么样的运动称之为简谐运动？\" class=\"headerlink\" title=\"什么样的运动称之为简谐运动？\"></a>什么样的运动称之为简谐运动？</h2><p>让我们来先看一个例子：</p>\n<p>&lt;–有一单摆，即在一个细线下面悬挂一个可以视为质点的小球（忽略小球的自转），给小球一个很小的水平初速度，小球将在竖直平面内（忽略科里奥利力）做小角度的摆动并且忽略一切阻力。</p>\n<p>设细线长为 $l$ ，小球质量为 $m$ ，重力加速度为 $g$ ，画出示意图如下：</p>\n<p>很容易看出摆锤（小球）的重力势能是：<br>$$<br>E_{\\rm p重} = mgl(1-\\cos\\theta)<br>$$<br>摆锤的速度<br>$$<br>v = l \\omega = l\\cdot\\frac{\\mathrm d \\theta}{\\mathrm d t} = l\\dot{\\theta}<br>$$<br>摆锤的动能<br>$$<br>E_{k} = \\frac 12 m l^2 \\dot{\\theta}^2<br>$$<br>在摆动过程中没有外界能量输入，由能量守恒<br>$$<br>\\begin{aligned}<br>E &amp;= E_{\\rm k} + E_{\\rm p 重} \\\\<br>&amp;= \\frac 12 m l^2 \\dot{\\theta}^2 + mgl(1-\\cos\\theta)\\\\<br>&amp;= \\rm Constant<br>\\end{aligned}<br>$$</p>\n<p>即可解得<br>$$<br>\\dot{\\theta} = \\pm \\sqrt{\\frac{2g}{l} (\\frac{E}{mgl} - 1 + \\cos\\theta) }<br>$$</p>\n<p>–&gt;</p>\n","site":{"data":{}},"excerpt":"","more":"<p>[TOC]</p>\n<h1 id=\"什么是摆？\"><a href=\"#什么是摆？\" class=\"headerlink\" title=\"什么是摆？\"></a>什么是摆？</h1><h2 id=\"什么样的运动称之为简谐运动？\"><a href=\"#什么样的运动称之为简谐运动？\" class=\"headerlink\" title=\"什么样的运动称之为简谐运动？\"></a>什么样的运动称之为简谐运动？</h2><p>让我们来先看一个例子：</p>\n<p>&lt;–有一单摆，即在一个细线下面悬挂一个可以视为质点的小球（忽略小球的自转），给小球一个很小的水平初速度，小球将在竖直平面内（忽略科里奥利力）做小角度的摆动并且忽略一切阻力。</p>\n<p>设细线长为 $l$ ，小球质量为 $m$ ，重力加速度为 $g$ ，画出示意图如下：</p>\n<p>很容易看出摆锤（小球）的重力势能是：<br>$$<br>E_{\\rm p重} = mgl(1-\\cos\\theta)<br>$$<br>摆锤的速度<br>$$<br>v = l \\omega = l\\cdot\\frac{\\mathrm d \\theta}{\\mathrm d t} = l\\dot{\\theta}<br>$$<br>摆锤的动能<br>$$<br>E_{k} = \\frac 12 m l^2 \\dot{\\theta}^2<br>$$<br>在摆动过程中没有外界能量输入，由能量守恒<br>$$<br>\\begin{aligned}<br>E &amp;= E_{\\rm k} + E_{\\rm p 重} \\\\<br>&amp;= \\frac 12 m l^2 \\dot{\\theta}^2 + mgl(1-\\cos\\theta)\\\\<br>&amp;= \\rm Constant<br>\\end{aligned}<br>$$</p>\n<p>即可解得<br>$$<br>\\dot{\\theta} = \\pm \\sqrt{\\frac{2g}{l} (\\frac{E}{mgl} - 1 + \\cos\\theta) }<br>$$</p>\n<p>–&gt;</p>\n"},{"title":"量子力学学习手记（二）----一维定态薛定谔方程的求解","draft":true,"_content":"\n# 量子力学假设\n\n## 1. 态的定义\n\n## 2. 算符的定义\n\n## 3. 测量行为\n\n## 4. 态的演化\n\n# 一维定态问题——薛定谔方程的简化\n\n# 求解薛定谔方程\n\n## 1. 方势阱\n\n## 2. $\\delta$ 势阱\n\n## 3. 一维谐振子","source":"_drafts/solve-Schrodinger-equation-in-one-dimension.md","raw":"---\ntitle: 量子力学学习手记（二）----一维定态薛定谔方程的求解\ndraft: true\ntags: \n\t- 量子力学\n\t- 物理学\n\t- 薛定谔方程\n\t- 定态\ncategories: Quantum Mechanics\n---\n\n# 量子力学假设\n\n## 1. 态的定义\n\n## 2. 算符的定义\n\n## 3. 测量行为\n\n## 4. 态的演化\n\n# 一维定态问题——薛定谔方程的简化\n\n# 求解薛定谔方程\n\n## 1. 方势阱\n\n## 2. $\\delta$ 势阱\n\n## 3. 一维谐振子","slug":"solve-Schrodinger-equation-in-one-dimension","published":0,"date":"2017-10-12T09:11:04.000Z","updated":"2017-10-17T09:46:25.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3sx00008o1jmw71rfwah","content":"<h1 id=\"量子力学假设\"><a href=\"#量子力学假设\" class=\"headerlink\" title=\"量子力学假设\"></a>量子力学假设</h1><h2 id=\"1-态的定义\"><a href=\"#1-态的定义\" class=\"headerlink\" title=\"1. 态的定义\"></a>1. 态的定义</h2><h2 id=\"2-算符的定义\"><a href=\"#2-算符的定义\" class=\"headerlink\" title=\"2. 算符的定义\"></a>2. 算符的定义</h2><h2 id=\"3-测量行为\"><a href=\"#3-测量行为\" class=\"headerlink\" title=\"3. 测量行为\"></a>3. 测量行为</h2><h2 id=\"4-态的演化\"><a href=\"#4-态的演化\" class=\"headerlink\" title=\"4. 态的演化\"></a>4. 态的演化</h2><h1 id=\"一维定态问题——薛定谔方程的简化\"><a href=\"#一维定态问题——薛定谔方程的简化\" class=\"headerlink\" title=\"一维定态问题——薛定谔方程的简化\"></a>一维定态问题——薛定谔方程的简化</h1><h1 id=\"求解薛定谔方程\"><a href=\"#求解薛定谔方程\" class=\"headerlink\" title=\"求解薛定谔方程\"></a>求解薛定谔方程</h1><h2 id=\"1-方势阱\"><a href=\"#1-方势阱\" class=\"headerlink\" title=\"1. 方势阱\"></a>1. 方势阱</h2><h2 id=\"2-delta-势阱\"><a href=\"#2-delta-势阱\" class=\"headerlink\" title=\"2. $\\delta$ 势阱\"></a>2. $\\delta$ 势阱</h2><h2 id=\"3-一维谐振子\"><a href=\"#3-一维谐振子\" class=\"headerlink\" title=\"3. 一维谐振子\"></a>3. 一维谐振子</h2>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"量子力学假设\"><a href=\"#量子力学假设\" class=\"headerlink\" title=\"量子力学假设\"></a>量子力学假设</h1><h2 id=\"1-态的定义\"><a href=\"#1-态的定义\" class=\"headerlink\" title=\"1. 态的定义\"></a>1. 态的定义</h2><h2 id=\"2-算符的定义\"><a href=\"#2-算符的定义\" class=\"headerlink\" title=\"2. 算符的定义\"></a>2. 算符的定义</h2><h2 id=\"3-测量行为\"><a href=\"#3-测量行为\" class=\"headerlink\" title=\"3. 测量行为\"></a>3. 测量行为</h2><h2 id=\"4-态的演化\"><a href=\"#4-态的演化\" class=\"headerlink\" title=\"4. 态的演化\"></a>4. 态的演化</h2><h1 id=\"一维定态问题——薛定谔方程的简化\"><a href=\"#一维定态问题——薛定谔方程的简化\" class=\"headerlink\" title=\"一维定态问题——薛定谔方程的简化\"></a>一维定态问题——薛定谔方程的简化</h1><h1 id=\"求解薛定谔方程\"><a href=\"#求解薛定谔方程\" class=\"headerlink\" title=\"求解薛定谔方程\"></a>求解薛定谔方程</h1><h2 id=\"1-方势阱\"><a href=\"#1-方势阱\" class=\"headerlink\" title=\"1. 方势阱\"></a>1. 方势阱</h2><h2 id=\"2-delta-势阱\"><a href=\"#2-delta-势阱\" class=\"headerlink\" title=\"2. $\\delta$ 势阱\"></a>2. $\\delta$ 势阱</h2><h2 id=\"3-一维谐振子\"><a href=\"#3-一维谐振子\" class=\"headerlink\" title=\"3. 一维谐振子\"></a>3. 一维谐振子</h2>"},{"title":"浅谈科里奥利力","date":"2017-08-23T05:25:06.000Z","_content":"\n\n## 简介\n\n苯渣在补力学时卡在了科氏力这一节，经过 Mr. Ren , 物吧大佬以及 [Wikipedia](https://en.wikipedia.org/wiki/Coriolis_force) 上的详细解释，我总算稍稍弄懂了这个家伙到底是怎么产生的了，于是写下本文分享一下愚见。\n\n# 引子\n\n坐过旋转木马的同学应该会有这样的体验：当坐在绕轴旋转的座位上向轴扔一个纸团（乱扔垃圾什么的最讨厌啦）时，纸团并不会砸到轴上，似乎纸团总是会偏离半径方向，并且总是偏向一个方向，这是为什么呢？这就要涉及到这篇文章要讲到的主角——科里奥利力。\n\n\n\n# 什么是科里奥利力？\n\n引用 Wikipedia 上的描述就是：\n\n> **科里奥利力**（简称：**科氏力**）是对旋转体系中进行直线运动的[质点](https://zh.wikipedia.org/wiki/%E8%B4%A8%E7%82%B9)由于[惯性](https://zh.wikipedia.org/wiki/%E6%85%A3%E6%80%A7)相对于旋转体系产生的直线运动的偏移的一种描述。此现象由法国著名数学家兼物理学家[古斯塔夫・科里奥利](https://zh.wikipedia.org/wiki/%E7%A7%91%E9%87%8C%E5%A5%A7%E5%88%A9)发现，因而得名；同时由于这种力在[地球自转](https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E8%87%AA%E8%BD%AC)下产生，因此又称为“**地转偏向力**”。\n\n个人理解：\n\n> 以一个旋转体系为参考系时，若研究对象相对于参考系的有非轴向运动的分量（或在垂直轴的平面内有运动分量）时，这个方向的运动分量会受到一个法向惯性力的作用而偏离原来的运动，这个力就是科里奥利力。\n\n上面的描述有两个要点：\n\n1. 参考体系为旋转体系，这也就意味着该参考系是一个非惯性系，其中必然要考虑惯性力的作用；\n2. 研究对象相对于参考系有相对运动，并且这个运动在垂直轴向的平面内有分量。\n\n# 科里奥利力如何产生？\n\n## 粗略的理解\n\n就拿引子里旋转木马的例子：\n\n假设旋转木马是做匀速圆周运动，角速度为 $ \\vec{\\omega} $ ，读者轨迹半径为 $\\vec{r}$ ，那么读者的公转线速度为\n$$\n\\vec{v}_t = \\vec{\\omega} \\times \\vec{r} \\notag\n$$\n如同这样：\n\n<img src=\"fig1.png\" width=\"400\" />\n\n（**注意这里的变量用矢量表示**）\n\n朝径向，也就是 $-\\vec{r}$ 方向扔一个纸团时，这个纸团既有朝向径向的速度 $\\vec{v}_n$ ，又有线速度 $\\vec{\\omega}\\times\\vec{r}$ ，当其运动到圆内侧时，内侧的线速度 \n$$\n\\vec{v}'_t = \\vec{\\omega}\\times\\vec{r}' < \\vec{\\omega}\\times\\vec{r} = \\vec{v}_t\n$$\n很自然地，纸团此时的切向速度比其所在圆上的的线速度更大，也就偏移了所谓的“直线”，读者视角俯视图见下图：\n\n<img src=\"fig2.svg\" width=\"300\">\n\n从这里也可以看出，所谓的“力”事实上并不存在，纸团的偏转完全是纸团的切向速度大于圆周运动线速度而偏离原来的位置，平面内没有任何力的作用使其真正偏转——假如纸团不受空气阻力，在观众看来，纸团应该做抛体运动，自然其轨迹的俯视图为一条直线，但是当我们置身于旋转木马中时，它的确看起来有一个“力”使其“偏转”，这又如何解释呢？\n\n问题出在我们**置身于旋转木马中**。\n\n## 更严格的推导\n\n继承上面的假设，旋转木马做匀速圆周运动，其可以看成一个[非惯性系](https://en.wikipedia.org/wiki/Inertial_frame_of_reference)，在这个参考系中，牛顿第一定律并不成立，为了使牛顿第一定律看起来成立，我们引入了[惯性力](https://en.wikipedia.org/wiki/Fictitious_force)。\n\n现在，让我们做回观众：\n\n<img src=\"fig3.png\" width=\"500\">\n\n显然有\n\n$$\n\\vec{R}=\\vec{r}_\\perp = \\vec{r} - \\vec{r}_\\parallel = \\vec{r} - \\frac{(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega}}{ {\\omega}^2}\n$$\n\n将其简单变形\n\n$$\n{\\omega}^2 \\vec{R} = {\\omega}^2 \\vec{r} -(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega} = -\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})\n$$\n\n此时的 ${\\omega}^2 \\vec{R}$ 就是我们熟知的惯性离心加速度，方向与 $\\vec{R}$ 一致，它也是惯性加速度的一种，但不是我们今天要研究的主角。\n\n取一小段时间 $\\Delta t$ ：\n\n<img src=\"fig4.png\" width=\"300\">\n\n矢量 $\\vec{P}$ 的增量为\n\n$$\n\\Delta P \\approx P\\sin\\theta\\omega\\Delta t=|\\vec{\\omega}\\times \\vec{P}|\\Delta t\n$$\n\n$\\Delta \\vec{P}$方向与 $\\vec{\\omega}$ 和 $\\vec{P}$ 的方向都垂直，即为 $\\vec{\\omega}\\times\\vec{P}$ 的方向，因此上式可以写为\n\n$$\n\\Delta \\vec{P} \\approx\\vec{\\omega}\\times \\vec{P}\\Delta t\n$$\n\n故 $\\vec{P}$ 的变化率可以表示为其对时间的导数\n\n$$\n\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P}\n$$\n上式中大写的 $\\mathrm D$ 表示以静止系统为参考系时各变量的微分，而小写的 $\\mathrm d$ 则表示以旋转系统为参考系时变量的微分。上面式子中我们假定 $\\vec{P}$ 在旋转体系中都是恒矢量，否则 $\\vec{P}$ 的导数应该表示为\n\n$$\n\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P} + \\frac{\\mathrm d \\vec{P}}{\\mathrm d t}\n$$\n\n上式适用于任何矢量 $\\vec{P}$ ，我们取一个质点的位矢 $\\vec{r} = \\vec{P}$ ，于是有\n\n$$\n\\frac{\\mathrm D \\vec{r}}{\\mathrm D t} = \\vec{\\omega}\\times \\vec{r} + \\frac{\\mathrm d\\vec{r}}{\\mathrm d t} = \\vec{\\omega}\\times \\vec{r} + \\vec{v}\n$$\n\n其中的 $\\vec{v}$ 表示质点相对于旋转体系的速度矢量。对上式再次求导，即得到加速度\n\n$$\\begin{aligned}\n\\vec{A} = \\frac{\\mathrm D^2 \\vec{r}}{\\mathrm D t^2} &= \\vec{\\omega}\\times\\frac{\\mathrm D\\vec{r}}{\\mathrm D t} + \\frac{\\mathrm d \\vec{v}}{\\mathrm dt} \\\\\n\t&= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} + \\vec{v}) + (\\vec{\\omega}\\times\\vec{v} + \\frac{\\mathrm d\\vec{v}}{\\mathrm d t}) \\\\\n\t&= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} ) + 2\\vec{\\omega}\\times\\vec{v} + \\vec{a}\n\\end{aligned}$$\n\n因此\n\n$$\n\\vec{a} =\\vec{A} - \\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r}) - 2\\vec{\\omega}\\times\\vec{v}\n$$\n上式中 $\\vec{a}$ 表示质点相对于旋转体系的加速度，$\\vec{A}$ 是由真实的力提供的加速度，后面两项都是“假想”存在的加速度，即惯性加速度。其中 $-\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})$ 是我们已知的惯性离心加速度，另一项 $-2\\vec{\\omega}\\times\\vec{r}$ 就是**科里奥利加速度**，我们用 $\\vec{a}_c$ 表示，有了科里奥利加速度，就得到科里奥利力 $\\vec{f}_c = m\\vec{a}_c$ 。\n\n根据右手定则，可以判断出其始终垂直于质点相对于旋转体系的速度，因此，质点相对于旋转体系运动时出现偏转也就很自然了。\n\n# 实际应用\n\n既然知道了科里奥利力是如何产生，那么知道这个东西对我们有什么用处呢？~~（可以拿来装X）~~ \n\n## 可以拿来侧纬度啦~\n\n我们所置身的地球就是一个旋转体系，只是它旋转得太慢了，平时难以察觉到科里奥利力的存在，但是有一种东西可以反映出科里奥利力的存在，那就是[傅科摆](https://en.wikipedia.org/wiki/Foucault_pendulum) ，如果你有足够的耐心观察它足够长的时间并确定它进动周期，你就可以很容易算出你所在位置的纬度，后面我们会给上推导这个公式的过程。\n\n为了理解如何通过傅科摆的进动角速度确定纬度，我们先来看一个简单的例子：\n\n<img src=\"fig5.png\" width=\"500\">\n\n一个可以旋转的圆盘上有一个单摆，当缓慢旋转圆盘时，我们假设惯性离心力很小，只有科里奥利力作用于单摆运动的切向。 当我们旋转圆盘 $90^\\circ$ 时，在静止体系观看单摆的摆平面没有任何变化，只是单纯的平移而已，没有任何转动，但是当以圆盘为参考系时（坐在 $C'$ 的位置向 $A$ 看），单摆的摆平面已经旋转了 $90^\\circ$ ，因此以圆盘的视角来观察这个现象时单摆进动的角速度就是圆盘转动的角速度。\n\n下面的动画应该很形象了：\n\n<img src=\"fig5.gif\">\n\n现在，我们让将摆线放大到67m长；将圆盘换成南极点的地面（相信这么做一定会有一群好奇的企鹅来围观）；讲缓慢转动圆盘换成地球大大的缓慢自转，这个上面的结论依然成立（当然如果你有上帝视角来看极点上的单摆进动，会更容易明白，就像看懂上面小圆盘上的单摆一样）。\n\n接下来，让我们把情况更加一般化，将这个巨大的单摆放到地球的任何可行的位置，问题变成了旋转球面上直线运动的进动问题，话不多说，看图：\n\n<img src=\"fig6_1.png\" width=\"400\"/>\n\n假设有一单摆在 $C$ 点（三个蓝点中最下面的那个），且在 $C$ 点建立一个坐标系（为了不使图更乱，我就不画了），平面 $CAE$ ~~（说得装X一些叫“C点所在子午面”）~~如下：\n\n<img src=\"fig6_2.svg\" width=\"150\">\n\n其中 $A$ 是球心， $AC$ 是半径， $CE \\perp CA$ 并且 $E$ 落在自转轴上，$\\angle \\psi$ 表示纬度，$\\angle \\theta$ 则是 $\\angle \\psi$ 的余角。\n\n我们取一小段时间 $\\Delta t$ ，由于地球的自转，单摆从 $C$ 点运动到 $D$ 点，那么 $D$ 点出坐标系的 $y'$ 轴与 $C$ 点处 $y$ 轴所成夹角即为坐标系偏转的角度 $\\angle \\text{看这里}$ （如下图），这个角度也就是在 $\\Delta t$ 时间内单摆进动的角度，现在只要求出 $\\angle \\text{看这里}$ 与 $\\omega \\Delta t$ 之间的关系即可求出单摆进动角速度与地球自转角速度的关系。\n\n<img src=\"fig6_3.svg\" width=\"300\">\n\n下面来求这个关系：\n\n$$\\begin{aligned}\n\\angle \\text{看这里} = \\angle CED  &=  \\frac {\\widehat{CD}}{CE} \\\\\n\t\t\t\t\t& = \\frac{ CE \\times \\sin\\psi \\times \\omega\\Delta t }{ CE } \\\\\n\t\t\t\t\t& = \\omega\\Delta t \\sin\\psi\n\\end{aligned}$$\n\n于是，单摆进动的角速度为\n\n$$\\begin{aligned}\n\\varOmega & = \\lim_{\\Delta t \\rightarrow 0} \\frac{\\angle \\text{看这里}} {\\Delta t} \\\\\n\t\t& = \\omega \\sin \\psi\n\\end{aligned}$$\n\n上面式子表明，当 $\\psi = \\pm 90 ^ \\circ$ 时，$\\varOmega = \\omega$ ，即当单摆处于极点时，其进动角速度等于地球自转角速度，也就是我们开始时提到单摆在圆盘时的情形。\n\n好了，现在回到傅科摆，只要我们观察足够长的时间，测量出其轨迹的进动角速度，又已知地球自转角速度，便可以轻松算出傅科摆所在的纬度。\n\n# 结语\n\n这是我在补《力学》时卡住的一个知识点，之前心中总把科里奥利力想象成惯性离心力那样，导致看到傅科摆时完全不知道如何理解，经过请教群友，老师以及动手画图实验，总算稍稍理解了，上面便是本渣的一点愚见，如有疏漏，还请在评论区指出，或邮件联系（联系方式见关于页面）。\n\n以上\n","source":"_posts/Coriolis-Force.md","raw":"---\ntitle: 浅谈科里奥利力\ntags:\n  - 物理学\n  - 经典力学\n  - 科里奥利力\ncategories:\n  - Physics\ndate: 2017-08-23 13:25:06\n---\n\n\n## 简介\n\n苯渣在补力学时卡在了科氏力这一节，经过 Mr. Ren , 物吧大佬以及 [Wikipedia](https://en.wikipedia.org/wiki/Coriolis_force) 上的详细解释，我总算稍稍弄懂了这个家伙到底是怎么产生的了，于是写下本文分享一下愚见。\n\n# 引子\n\n坐过旋转木马的同学应该会有这样的体验：当坐在绕轴旋转的座位上向轴扔一个纸团（乱扔垃圾什么的最讨厌啦）时，纸团并不会砸到轴上，似乎纸团总是会偏离半径方向，并且总是偏向一个方向，这是为什么呢？这就要涉及到这篇文章要讲到的主角——科里奥利力。\n\n\n\n# 什么是科里奥利力？\n\n引用 Wikipedia 上的描述就是：\n\n> **科里奥利力**（简称：**科氏力**）是对旋转体系中进行直线运动的[质点](https://zh.wikipedia.org/wiki/%E8%B4%A8%E7%82%B9)由于[惯性](https://zh.wikipedia.org/wiki/%E6%85%A3%E6%80%A7)相对于旋转体系产生的直线运动的偏移的一种描述。此现象由法国著名数学家兼物理学家[古斯塔夫・科里奥利](https://zh.wikipedia.org/wiki/%E7%A7%91%E9%87%8C%E5%A5%A7%E5%88%A9)发现，因而得名；同时由于这种力在[地球自转](https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E8%87%AA%E8%BD%AC)下产生，因此又称为“**地转偏向力**”。\n\n个人理解：\n\n> 以一个旋转体系为参考系时，若研究对象相对于参考系的有非轴向运动的分量（或在垂直轴的平面内有运动分量）时，这个方向的运动分量会受到一个法向惯性力的作用而偏离原来的运动，这个力就是科里奥利力。\n\n上面的描述有两个要点：\n\n1. 参考体系为旋转体系，这也就意味着该参考系是一个非惯性系，其中必然要考虑惯性力的作用；\n2. 研究对象相对于参考系有相对运动，并且这个运动在垂直轴向的平面内有分量。\n\n# 科里奥利力如何产生？\n\n## 粗略的理解\n\n就拿引子里旋转木马的例子：\n\n假设旋转木马是做匀速圆周运动，角速度为 $ \\vec{\\omega} $ ，读者轨迹半径为 $\\vec{r}$ ，那么读者的公转线速度为\n$$\n\\vec{v}_t = \\vec{\\omega} \\times \\vec{r} \\notag\n$$\n如同这样：\n\n<img src=\"fig1.png\" width=\"400\" />\n\n（**注意这里的变量用矢量表示**）\n\n朝径向，也就是 $-\\vec{r}$ 方向扔一个纸团时，这个纸团既有朝向径向的速度 $\\vec{v}_n$ ，又有线速度 $\\vec{\\omega}\\times\\vec{r}$ ，当其运动到圆内侧时，内侧的线速度 \n$$\n\\vec{v}'_t = \\vec{\\omega}\\times\\vec{r}' < \\vec{\\omega}\\times\\vec{r} = \\vec{v}_t\n$$\n很自然地，纸团此时的切向速度比其所在圆上的的线速度更大，也就偏移了所谓的“直线”，读者视角俯视图见下图：\n\n<img src=\"fig2.svg\" width=\"300\">\n\n从这里也可以看出，所谓的“力”事实上并不存在，纸团的偏转完全是纸团的切向速度大于圆周运动线速度而偏离原来的位置，平面内没有任何力的作用使其真正偏转——假如纸团不受空气阻力，在观众看来，纸团应该做抛体运动，自然其轨迹的俯视图为一条直线，但是当我们置身于旋转木马中时，它的确看起来有一个“力”使其“偏转”，这又如何解释呢？\n\n问题出在我们**置身于旋转木马中**。\n\n## 更严格的推导\n\n继承上面的假设，旋转木马做匀速圆周运动，其可以看成一个[非惯性系](https://en.wikipedia.org/wiki/Inertial_frame_of_reference)，在这个参考系中，牛顿第一定律并不成立，为了使牛顿第一定律看起来成立，我们引入了[惯性力](https://en.wikipedia.org/wiki/Fictitious_force)。\n\n现在，让我们做回观众：\n\n<img src=\"fig3.png\" width=\"500\">\n\n显然有\n\n$$\n\\vec{R}=\\vec{r}_\\perp = \\vec{r} - \\vec{r}_\\parallel = \\vec{r} - \\frac{(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega}}{ {\\omega}^2}\n$$\n\n将其简单变形\n\n$$\n{\\omega}^2 \\vec{R} = {\\omega}^2 \\vec{r} -(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega} = -\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})\n$$\n\n此时的 ${\\omega}^2 \\vec{R}$ 就是我们熟知的惯性离心加速度，方向与 $\\vec{R}$ 一致，它也是惯性加速度的一种，但不是我们今天要研究的主角。\n\n取一小段时间 $\\Delta t$ ：\n\n<img src=\"fig4.png\" width=\"300\">\n\n矢量 $\\vec{P}$ 的增量为\n\n$$\n\\Delta P \\approx P\\sin\\theta\\omega\\Delta t=|\\vec{\\omega}\\times \\vec{P}|\\Delta t\n$$\n\n$\\Delta \\vec{P}$方向与 $\\vec{\\omega}$ 和 $\\vec{P}$ 的方向都垂直，即为 $\\vec{\\omega}\\times\\vec{P}$ 的方向，因此上式可以写为\n\n$$\n\\Delta \\vec{P} \\approx\\vec{\\omega}\\times \\vec{P}\\Delta t\n$$\n\n故 $\\vec{P}$ 的变化率可以表示为其对时间的导数\n\n$$\n\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P}\n$$\n上式中大写的 $\\mathrm D$ 表示以静止系统为参考系时各变量的微分，而小写的 $\\mathrm d$ 则表示以旋转系统为参考系时变量的微分。上面式子中我们假定 $\\vec{P}$ 在旋转体系中都是恒矢量，否则 $\\vec{P}$ 的导数应该表示为\n\n$$\n\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P} + \\frac{\\mathrm d \\vec{P}}{\\mathrm d t}\n$$\n\n上式适用于任何矢量 $\\vec{P}$ ，我们取一个质点的位矢 $\\vec{r} = \\vec{P}$ ，于是有\n\n$$\n\\frac{\\mathrm D \\vec{r}}{\\mathrm D t} = \\vec{\\omega}\\times \\vec{r} + \\frac{\\mathrm d\\vec{r}}{\\mathrm d t} = \\vec{\\omega}\\times \\vec{r} + \\vec{v}\n$$\n\n其中的 $\\vec{v}$ 表示质点相对于旋转体系的速度矢量。对上式再次求导，即得到加速度\n\n$$\\begin{aligned}\n\\vec{A} = \\frac{\\mathrm D^2 \\vec{r}}{\\mathrm D t^2} &= \\vec{\\omega}\\times\\frac{\\mathrm D\\vec{r}}{\\mathrm D t} + \\frac{\\mathrm d \\vec{v}}{\\mathrm dt} \\\\\n\t&= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} + \\vec{v}) + (\\vec{\\omega}\\times\\vec{v} + \\frac{\\mathrm d\\vec{v}}{\\mathrm d t}) \\\\\n\t&= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} ) + 2\\vec{\\omega}\\times\\vec{v} + \\vec{a}\n\\end{aligned}$$\n\n因此\n\n$$\n\\vec{a} =\\vec{A} - \\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r}) - 2\\vec{\\omega}\\times\\vec{v}\n$$\n上式中 $\\vec{a}$ 表示质点相对于旋转体系的加速度，$\\vec{A}$ 是由真实的力提供的加速度，后面两项都是“假想”存在的加速度，即惯性加速度。其中 $-\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})$ 是我们已知的惯性离心加速度，另一项 $-2\\vec{\\omega}\\times\\vec{r}$ 就是**科里奥利加速度**，我们用 $\\vec{a}_c$ 表示，有了科里奥利加速度，就得到科里奥利力 $\\vec{f}_c = m\\vec{a}_c$ 。\n\n根据右手定则，可以判断出其始终垂直于质点相对于旋转体系的速度，因此，质点相对于旋转体系运动时出现偏转也就很自然了。\n\n# 实际应用\n\n既然知道了科里奥利力是如何产生，那么知道这个东西对我们有什么用处呢？~~（可以拿来装X）~~ \n\n## 可以拿来侧纬度啦~\n\n我们所置身的地球就是一个旋转体系，只是它旋转得太慢了，平时难以察觉到科里奥利力的存在，但是有一种东西可以反映出科里奥利力的存在，那就是[傅科摆](https://en.wikipedia.org/wiki/Foucault_pendulum) ，如果你有足够的耐心观察它足够长的时间并确定它进动周期，你就可以很容易算出你所在位置的纬度，后面我们会给上推导这个公式的过程。\n\n为了理解如何通过傅科摆的进动角速度确定纬度，我们先来看一个简单的例子：\n\n<img src=\"fig5.png\" width=\"500\">\n\n一个可以旋转的圆盘上有一个单摆，当缓慢旋转圆盘时，我们假设惯性离心力很小，只有科里奥利力作用于单摆运动的切向。 当我们旋转圆盘 $90^\\circ$ 时，在静止体系观看单摆的摆平面没有任何变化，只是单纯的平移而已，没有任何转动，但是当以圆盘为参考系时（坐在 $C'$ 的位置向 $A$ 看），单摆的摆平面已经旋转了 $90^\\circ$ ，因此以圆盘的视角来观察这个现象时单摆进动的角速度就是圆盘转动的角速度。\n\n下面的动画应该很形象了：\n\n<img src=\"fig5.gif\">\n\n现在，我们让将摆线放大到67m长；将圆盘换成南极点的地面（相信这么做一定会有一群好奇的企鹅来围观）；讲缓慢转动圆盘换成地球大大的缓慢自转，这个上面的结论依然成立（当然如果你有上帝视角来看极点上的单摆进动，会更容易明白，就像看懂上面小圆盘上的单摆一样）。\n\n接下来，让我们把情况更加一般化，将这个巨大的单摆放到地球的任何可行的位置，问题变成了旋转球面上直线运动的进动问题，话不多说，看图：\n\n<img src=\"fig6_1.png\" width=\"400\"/>\n\n假设有一单摆在 $C$ 点（三个蓝点中最下面的那个），且在 $C$ 点建立一个坐标系（为了不使图更乱，我就不画了），平面 $CAE$ ~~（说得装X一些叫“C点所在子午面”）~~如下：\n\n<img src=\"fig6_2.svg\" width=\"150\">\n\n其中 $A$ 是球心， $AC$ 是半径， $CE \\perp CA$ 并且 $E$ 落在自转轴上，$\\angle \\psi$ 表示纬度，$\\angle \\theta$ 则是 $\\angle \\psi$ 的余角。\n\n我们取一小段时间 $\\Delta t$ ，由于地球的自转，单摆从 $C$ 点运动到 $D$ 点，那么 $D$ 点出坐标系的 $y'$ 轴与 $C$ 点处 $y$ 轴所成夹角即为坐标系偏转的角度 $\\angle \\text{看这里}$ （如下图），这个角度也就是在 $\\Delta t$ 时间内单摆进动的角度，现在只要求出 $\\angle \\text{看这里}$ 与 $\\omega \\Delta t$ 之间的关系即可求出单摆进动角速度与地球自转角速度的关系。\n\n<img src=\"fig6_3.svg\" width=\"300\">\n\n下面来求这个关系：\n\n$$\\begin{aligned}\n\\angle \\text{看这里} = \\angle CED  &=  \\frac {\\widehat{CD}}{CE} \\\\\n\t\t\t\t\t& = \\frac{ CE \\times \\sin\\psi \\times \\omega\\Delta t }{ CE } \\\\\n\t\t\t\t\t& = \\omega\\Delta t \\sin\\psi\n\\end{aligned}$$\n\n于是，单摆进动的角速度为\n\n$$\\begin{aligned}\n\\varOmega & = \\lim_{\\Delta t \\rightarrow 0} \\frac{\\angle \\text{看这里}} {\\Delta t} \\\\\n\t\t& = \\omega \\sin \\psi\n\\end{aligned}$$\n\n上面式子表明，当 $\\psi = \\pm 90 ^ \\circ$ 时，$\\varOmega = \\omega$ ，即当单摆处于极点时，其进动角速度等于地球自转角速度，也就是我们开始时提到单摆在圆盘时的情形。\n\n好了，现在回到傅科摆，只要我们观察足够长的时间，测量出其轨迹的进动角速度，又已知地球自转角速度，便可以轻松算出傅科摆所在的纬度。\n\n# 结语\n\n这是我在补《力学》时卡住的一个知识点，之前心中总把科里奥利力想象成惯性离心力那样，导致看到傅科摆时完全不知道如何理解，经过请教群友，老师以及动手画图实验，总算稍稍理解了，上面便是本渣的一点愚见，如有疏漏，还请在评论区指出，或邮件联系（联系方式见关于页面）。\n\n以上\n","slug":"Coriolis-Force","published":1,"updated":"2017-09-22T05:57:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3sx10009o1jm0s89ixyi","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>苯渣在补力学时卡在了科氏力这一节，经过 Mr. Ren , 物吧大佬以及 <a href=\"https://en.wikipedia.org/wiki/Coriolis_force\" target=\"_blank\" rel=\"external\">Wikipedia</a> 上的详细解释，我总算稍稍弄懂了这个家伙到底是怎么产生的了，于是写下本文分享一下愚见。</p>\n<h1 id=\"引子\"><a href=\"#引子\" class=\"headerlink\" title=\"引子\"></a>引子</h1><p>坐过旋转木马的同学应该会有这样的体验：当坐在绕轴旋转的座位上向轴扔一个纸团（乱扔垃圾什么的最讨厌啦）时，纸团并不会砸到轴上，似乎纸团总是会偏离半径方向，并且总是偏向一个方向，这是为什么呢？这就要涉及到这篇文章要讲到的主角——科里奥利力。</p>\n<h1 id=\"什么是科里奥利力？\"><a href=\"#什么是科里奥利力？\" class=\"headerlink\" title=\"什么是科里奥利力？\"></a>什么是科里奥利力？</h1><p>引用 Wikipedia 上的描述就是：</p>\n<blockquote>\n<p><strong>科里奥利力</strong>（简称：<strong>科氏力</strong>）是对旋转体系中进行直线运动的<a href=\"https://zh.wikipedia.org/wiki/%E8%B4%A8%E7%82%B9\" target=\"_blank\" rel=\"external\">质点</a>由于<a href=\"https://zh.wikipedia.org/wiki/%E6%85%A3%E6%80%A7\" target=\"_blank\" rel=\"external\">惯性</a>相对于旋转体系产生的直线运动的偏移的一种描述。此现象由法国著名数学家兼物理学家<a href=\"https://zh.wikipedia.org/wiki/%E7%A7%91%E9%87%8C%E5%A5%A7%E5%88%A9\" target=\"_blank\" rel=\"external\">古斯塔夫・科里奥利</a>发现，因而得名；同时由于这种力在<a href=\"https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E8%87%AA%E8%BD%AC\" target=\"_blank\" rel=\"external\">地球自转</a>下产生，因此又称为“<strong>地转偏向力</strong>”。</p>\n</blockquote>\n<p>个人理解：</p>\n<blockquote>\n<p>以一个旋转体系为参考系时，若研究对象相对于参考系的有非轴向运动的分量（或在垂直轴的平面内有运动分量）时，这个方向的运动分量会受到一个法向惯性力的作用而偏离原来的运动，这个力就是科里奥利力。</p>\n</blockquote>\n<p>上面的描述有两个要点：</p>\n<ol>\n<li>参考体系为旋转体系，这也就意味着该参考系是一个非惯性系，其中必然要考虑惯性力的作用；</li>\n<li>研究对象相对于参考系有相对运动，并且这个运动在垂直轴向的平面内有分量。</li>\n</ol>\n<h1 id=\"科里奥利力如何产生？\"><a href=\"#科里奥利力如何产生？\" class=\"headerlink\" title=\"科里奥利力如何产生？\"></a>科里奥利力如何产生？</h1><h2 id=\"粗略的理解\"><a href=\"#粗略的理解\" class=\"headerlink\" title=\"粗略的理解\"></a>粗略的理解</h2><p>就拿引子里旋转木马的例子：</p>\n<p>假设旋转木马是做匀速圆周运动，角速度为 $ \\vec{\\omega} $ ，读者轨迹半径为 $\\vec{r}$ ，那么读者的公转线速度为<br>$$<br>\\vec{v}_t = \\vec{\\omega} \\times \\vec{r} \\notag<br>$$<br>如同这样：</p>\n<p><img src=\"fig1.png\" width=\"400\"></p>\n<p>（<strong>注意这里的变量用矢量表示</strong>）</p>\n<p>朝径向，也就是 $-\\vec{r}$ 方向扔一个纸团时，这个纸团既有朝向径向的速度 $\\vec{v}_n$ ，又有线速度 $\\vec{\\omega}\\times\\vec{r}$ ，当其运动到圆内侧时，内侧的线速度<br>$$<br>\\vec{v}’_t = \\vec{\\omega}\\times\\vec{r}’ &lt; \\vec{\\omega}\\times\\vec{r} = \\vec{v}_t<br>$$<br>很自然地，纸团此时的切向速度比其所在圆上的的线速度更大，也就偏移了所谓的“直线”，读者视角俯视图见下图：</p>\n<p><img src=\"fig2.svg\" width=\"300\"></p>\n<p>从这里也可以看出，所谓的“力”事实上并不存在，纸团的偏转完全是纸团的切向速度大于圆周运动线速度而偏离原来的位置，平面内没有任何力的作用使其真正偏转——假如纸团不受空气阻力，在观众看来，纸团应该做抛体运动，自然其轨迹的俯视图为一条直线，但是当我们置身于旋转木马中时，它的确看起来有一个“力”使其“偏转”，这又如何解释呢？</p>\n<p>问题出在我们<strong>置身于旋转木马中</strong>。</p>\n<h2 id=\"更严格的推导\"><a href=\"#更严格的推导\" class=\"headerlink\" title=\"更严格的推导\"></a>更严格的推导</h2><p>继承上面的假设，旋转木马做匀速圆周运动，其可以看成一个<a href=\"https://en.wikipedia.org/wiki/Inertial_frame_of_reference\" target=\"_blank\" rel=\"external\">非惯性系</a>，在这个参考系中，牛顿第一定律并不成立，为了使牛顿第一定律看起来成立，我们引入了<a href=\"https://en.wikipedia.org/wiki/Fictitious_force\" target=\"_blank\" rel=\"external\">惯性力</a>。</p>\n<p>现在，让我们做回观众：</p>\n<p><img src=\"fig3.png\" width=\"500\"></p>\n<p>显然有</p>\n<p>$$<br>\\vec{R}=\\vec{r}_\\perp = \\vec{r} - \\vec{r}_\\parallel = \\vec{r} - \\frac{(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega}}{ {\\omega}^2}<br>$$</p>\n<p>将其简单变形</p>\n<p>$$<br>{\\omega}^2 \\vec{R} = {\\omega}^2 \\vec{r} -(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega} = -\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})<br>$$</p>\n<p>此时的 ${\\omega}^2 \\vec{R}$ 就是我们熟知的惯性离心加速度，方向与 $\\vec{R}$ 一致，它也是惯性加速度的一种，但不是我们今天要研究的主角。</p>\n<p>取一小段时间 $\\Delta t$ ：</p>\n<p><img src=\"fig4.png\" width=\"300\"></p>\n<p>矢量 $\\vec{P}$ 的增量为</p>\n<p>$$<br>\\Delta P \\approx P\\sin\\theta\\omega\\Delta t=|\\vec{\\omega}\\times \\vec{P}|\\Delta t<br>$$</p>\n<p>$\\Delta \\vec{P}$方向与 $\\vec{\\omega}$ 和 $\\vec{P}$ 的方向都垂直，即为 $\\vec{\\omega}\\times\\vec{P}$ 的方向，因此上式可以写为</p>\n<p>$$<br>\\Delta \\vec{P} \\approx\\vec{\\omega}\\times \\vec{P}\\Delta t<br>$$</p>\n<p>故 $\\vec{P}$ 的变化率可以表示为其对时间的导数</p>\n<p>$$<br>\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P}<br>$$<br>上式中大写的 $\\mathrm D$ 表示以静止系统为参考系时各变量的微分，而小写的 $\\mathrm d$ 则表示以旋转系统为参考系时变量的微分。上面式子中我们假定 $\\vec{P}$ 在旋转体系中都是恒矢量，否则 $\\vec{P}$ 的导数应该表示为</p>\n<p>$$<br>\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P} + \\frac{\\mathrm d \\vec{P}}{\\mathrm d t}<br>$$</p>\n<p>上式适用于任何矢量 $\\vec{P}$ ，我们取一个质点的位矢 $\\vec{r} = \\vec{P}$ ，于是有</p>\n<p>$$<br>\\frac{\\mathrm D \\vec{r}}{\\mathrm D t} = \\vec{\\omega}\\times \\vec{r} + \\frac{\\mathrm d\\vec{r}}{\\mathrm d t} = \\vec{\\omega}\\times \\vec{r} + \\vec{v}<br>$$</p>\n<p>其中的 $\\vec{v}$ 表示质点相对于旋转体系的速度矢量。对上式再次求导，即得到加速度</p>\n<p>$$\\begin{aligned}<br>\\vec{A} = \\frac{\\mathrm D^2 \\vec{r}}{\\mathrm D t^2} &amp;= \\vec{\\omega}\\times\\frac{\\mathrm D\\vec{r}}{\\mathrm D t} + \\frac{\\mathrm d \\vec{v}}{\\mathrm dt} \\\\<br>    &amp;= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} + \\vec{v}) + (\\vec{\\omega}\\times\\vec{v} + \\frac{\\mathrm d\\vec{v}}{\\mathrm d t}) \\\\<br>    &amp;= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} ) + 2\\vec{\\omega}\\times\\vec{v} + \\vec{a}<br>\\end{aligned}$$</p>\n<p>因此</p>\n<p>$$<br>\\vec{a} =\\vec{A} - \\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r}) - 2\\vec{\\omega}\\times\\vec{v}<br>$$<br>上式中 $\\vec{a}$ 表示质点相对于旋转体系的加速度，$\\vec{A}$ 是由真实的力提供的加速度，后面两项都是“假想”存在的加速度，即惯性加速度。其中 $-\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})$ 是我们已知的惯性离心加速度，另一项 $-2\\vec{\\omega}\\times\\vec{r}$ 就是<strong>科里奥利加速度</strong>，我们用 $\\vec{a}_c$ 表示，有了科里奥利加速度，就得到科里奥利力 $\\vec{f}_c = m\\vec{a}_c$ 。</p>\n<p>根据右手定则，可以判断出其始终垂直于质点相对于旋转体系的速度，因此，质点相对于旋转体系运动时出现偏转也就很自然了。</p>\n<h1 id=\"实际应用\"><a href=\"#实际应用\" class=\"headerlink\" title=\"实际应用\"></a>实际应用</h1><p>既然知道了科里奥利力是如何产生，那么知道这个东西对我们有什么用处呢？<del>（可以拿来装X）</del> </p>\n<h2 id=\"可以拿来侧纬度啦\"><a href=\"#可以拿来侧纬度啦\" class=\"headerlink\" title=\"可以拿来侧纬度啦~\"></a>可以拿来侧纬度啦~</h2><p>我们所置身的地球就是一个旋转体系，只是它旋转得太慢了，平时难以察觉到科里奥利力的存在，但是有一种东西可以反映出科里奥利力的存在，那就是<a href=\"https://en.wikipedia.org/wiki/Foucault_pendulum\" target=\"_blank\" rel=\"external\">傅科摆</a> ，如果你有足够的耐心观察它足够长的时间并确定它进动周期，你就可以很容易算出你所在位置的纬度，后面我们会给上推导这个公式的过程。</p>\n<p>为了理解如何通过傅科摆的进动角速度确定纬度，我们先来看一个简单的例子：</p>\n<p><img src=\"fig5.png\" width=\"500\"></p>\n<p>一个可以旋转的圆盘上有一个单摆，当缓慢旋转圆盘时，我们假设惯性离心力很小，只有科里奥利力作用于单摆运动的切向。 当我们旋转圆盘 $90^\\circ$ 时，在静止体系观看单摆的摆平面没有任何变化，只是单纯的平移而已，没有任何转动，但是当以圆盘为参考系时（坐在 $C’$ 的位置向 $A$ 看），单摆的摆平面已经旋转了 $90^\\circ$ ，因此以圆盘的视角来观察这个现象时单摆进动的角速度就是圆盘转动的角速度。</p>\n<p>下面的动画应该很形象了：</p>\n<p><img src=\"fig5.gif\"></p>\n<p>现在，我们让将摆线放大到67m长；将圆盘换成南极点的地面（相信这么做一定会有一群好奇的企鹅来围观）；讲缓慢转动圆盘换成地球大大的缓慢自转，这个上面的结论依然成立（当然如果你有上帝视角来看极点上的单摆进动，会更容易明白，就像看懂上面小圆盘上的单摆一样）。</p>\n<p>接下来，让我们把情况更加一般化，将这个巨大的单摆放到地球的任何可行的位置，问题变成了旋转球面上直线运动的进动问题，话不多说，看图：</p>\n<p><img src=\"fig6_1.png\" width=\"400\"></p>\n<p>假设有一单摆在 $C$ 点（三个蓝点中最下面的那个），且在 $C$ 点建立一个坐标系（为了不使图更乱，我就不画了），平面 $CAE$ <del>（说得装X一些叫“C点所在子午面”）</del>如下：</p>\n<p><img src=\"fig6_2.svg\" width=\"150\"></p>\n<p>其中 $A$ 是球心， $AC$ 是半径， $CE \\perp CA$ 并且 $E$ 落在自转轴上，$\\angle \\psi$ 表示纬度，$\\angle \\theta$ 则是 $\\angle \\psi$ 的余角。</p>\n<p>我们取一小段时间 $\\Delta t$ ，由于地球的自转，单摆从 $C$ 点运动到 $D$ 点，那么 $D$ 点出坐标系的 $y’$ 轴与 $C$ 点处 $y$ 轴所成夹角即为坐标系偏转的角度 $\\angle \\text{看这里}$ （如下图），这个角度也就是在 $\\Delta t$ 时间内单摆进动的角度，现在只要求出 $\\angle \\text{看这里}$ 与 $\\omega \\Delta t$ 之间的关系即可求出单摆进动角速度与地球自转角速度的关系。</p>\n<p><img src=\"fig6_3.svg\" width=\"300\"></p>\n<p>下面来求这个关系：</p>\n<p>$$\\begin{aligned}<br>\\angle \\text{看这里} = \\angle CED  &amp;=  \\frac {\\widehat{CD}}{CE} \\\\<br>                    &amp; = \\frac{ CE \\times \\sin\\psi \\times \\omega\\Delta t }{ CE } \\\\<br>                    &amp; = \\omega\\Delta t \\sin\\psi<br>\\end{aligned}$$</p>\n<p>于是，单摆进动的角速度为</p>\n<p>$$\\begin{aligned}<br>\\varOmega &amp; = \\lim_{\\Delta t \\rightarrow 0} \\frac{\\angle \\text{看这里}} {\\Delta t} \\\\<br>        &amp; = \\omega \\sin \\psi<br>\\end{aligned}$$</p>\n<p>上面式子表明，当 $\\psi = \\pm 90 ^ \\circ$ 时，$\\varOmega = \\omega$ ，即当单摆处于极点时，其进动角速度等于地球自转角速度，也就是我们开始时提到单摆在圆盘时的情形。</p>\n<p>好了，现在回到傅科摆，只要我们观察足够长的时间，测量出其轨迹的进动角速度，又已知地球自转角速度，便可以轻松算出傅科摆所在的纬度。</p>\n<h1 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h1><p>这是我在补《力学》时卡住的一个知识点，之前心中总把科里奥利力想象成惯性离心力那样，导致看到傅科摆时完全不知道如何理解，经过请教群友，老师以及动手画图实验，总算稍稍理解了，上面便是本渣的一点愚见，如有疏漏，还请在评论区指出，或邮件联系（联系方式见关于页面）。</p>\n<p>以上</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>苯渣在补力学时卡在了科氏力这一节，经过 Mr. Ren , 物吧大佬以及 <a href=\"https://en.wikipedia.org/wiki/Coriolis_force\" target=\"_blank\" rel=\"external\">Wikipedia</a> 上的详细解释，我总算稍稍弄懂了这个家伙到底是怎么产生的了，于是写下本文分享一下愚见。</p>\n<h1 id=\"引子\"><a href=\"#引子\" class=\"headerlink\" title=\"引子\"></a>引子</h1><p>坐过旋转木马的同学应该会有这样的体验：当坐在绕轴旋转的座位上向轴扔一个纸团（乱扔垃圾什么的最讨厌啦）时，纸团并不会砸到轴上，似乎纸团总是会偏离半径方向，并且总是偏向一个方向，这是为什么呢？这就要涉及到这篇文章要讲到的主角——科里奥利力。</p>\n<h1 id=\"什么是科里奥利力？\"><a href=\"#什么是科里奥利力？\" class=\"headerlink\" title=\"什么是科里奥利力？\"></a>什么是科里奥利力？</h1><p>引用 Wikipedia 上的描述就是：</p>\n<blockquote>\n<p><strong>科里奥利力</strong>（简称：<strong>科氏力</strong>）是对旋转体系中进行直线运动的<a href=\"https://zh.wikipedia.org/wiki/%E8%B4%A8%E7%82%B9\" target=\"_blank\" rel=\"external\">质点</a>由于<a href=\"https://zh.wikipedia.org/wiki/%E6%85%A3%E6%80%A7\" target=\"_blank\" rel=\"external\">惯性</a>相对于旋转体系产生的直线运动的偏移的一种描述。此现象由法国著名数学家兼物理学家<a href=\"https://zh.wikipedia.org/wiki/%E7%A7%91%E9%87%8C%E5%A5%A7%E5%88%A9\" target=\"_blank\" rel=\"external\">古斯塔夫・科里奥利</a>发现，因而得名；同时由于这种力在<a href=\"https://zh.wikipedia.org/wiki/%E5%9C%B0%E7%90%83%E8%87%AA%E8%BD%AC\" target=\"_blank\" rel=\"external\">地球自转</a>下产生，因此又称为“<strong>地转偏向力</strong>”。</p>\n</blockquote>\n<p>个人理解：</p>\n<blockquote>\n<p>以一个旋转体系为参考系时，若研究对象相对于参考系的有非轴向运动的分量（或在垂直轴的平面内有运动分量）时，这个方向的运动分量会受到一个法向惯性力的作用而偏离原来的运动，这个力就是科里奥利力。</p>\n</blockquote>\n<p>上面的描述有两个要点：</p>\n<ol>\n<li>参考体系为旋转体系，这也就意味着该参考系是一个非惯性系，其中必然要考虑惯性力的作用；</li>\n<li>研究对象相对于参考系有相对运动，并且这个运动在垂直轴向的平面内有分量。</li>\n</ol>\n<h1 id=\"科里奥利力如何产生？\"><a href=\"#科里奥利力如何产生？\" class=\"headerlink\" title=\"科里奥利力如何产生？\"></a>科里奥利力如何产生？</h1><h2 id=\"粗略的理解\"><a href=\"#粗略的理解\" class=\"headerlink\" title=\"粗略的理解\"></a>粗略的理解</h2><p>就拿引子里旋转木马的例子：</p>\n<p>假设旋转木马是做匀速圆周运动，角速度为 $ \\vec{\\omega} $ ，读者轨迹半径为 $\\vec{r}$ ，那么读者的公转线速度为<br>$$<br>\\vec{v}_t = \\vec{\\omega} \\times \\vec{r} \\notag<br>$$<br>如同这样：</p>\n<p><img src=\"fig1.png\" width=\"400\"></p>\n<p>（<strong>注意这里的变量用矢量表示</strong>）</p>\n<p>朝径向，也就是 $-\\vec{r}$ 方向扔一个纸团时，这个纸团既有朝向径向的速度 $\\vec{v}_n$ ，又有线速度 $\\vec{\\omega}\\times\\vec{r}$ ，当其运动到圆内侧时，内侧的线速度<br>$$<br>\\vec{v}’_t = \\vec{\\omega}\\times\\vec{r}’ &lt; \\vec{\\omega}\\times\\vec{r} = \\vec{v}_t<br>$$<br>很自然地，纸团此时的切向速度比其所在圆上的的线速度更大，也就偏移了所谓的“直线”，读者视角俯视图见下图：</p>\n<p><img src=\"fig2.svg\" width=\"300\"></p>\n<p>从这里也可以看出，所谓的“力”事实上并不存在，纸团的偏转完全是纸团的切向速度大于圆周运动线速度而偏离原来的位置，平面内没有任何力的作用使其真正偏转——假如纸团不受空气阻力，在观众看来，纸团应该做抛体运动，自然其轨迹的俯视图为一条直线，但是当我们置身于旋转木马中时，它的确看起来有一个“力”使其“偏转”，这又如何解释呢？</p>\n<p>问题出在我们<strong>置身于旋转木马中</strong>。</p>\n<h2 id=\"更严格的推导\"><a href=\"#更严格的推导\" class=\"headerlink\" title=\"更严格的推导\"></a>更严格的推导</h2><p>继承上面的假设，旋转木马做匀速圆周运动，其可以看成一个<a href=\"https://en.wikipedia.org/wiki/Inertial_frame_of_reference\" target=\"_blank\" rel=\"external\">非惯性系</a>，在这个参考系中，牛顿第一定律并不成立，为了使牛顿第一定律看起来成立，我们引入了<a href=\"https://en.wikipedia.org/wiki/Fictitious_force\" target=\"_blank\" rel=\"external\">惯性力</a>。</p>\n<p>现在，让我们做回观众：</p>\n<p><img src=\"fig3.png\" width=\"500\"></p>\n<p>显然有</p>\n<p>$$<br>\\vec{R}=\\vec{r}_\\perp = \\vec{r} - \\vec{r}_\\parallel = \\vec{r} - \\frac{(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega}}{ {\\omega}^2}<br>$$</p>\n<p>将其简单变形</p>\n<p>$$<br>{\\omega}^2 \\vec{R} = {\\omega}^2 \\vec{r} -(\\vec{r}\\cdot\\vec{\\omega}) \\cdot \\vec{\\omega} = -\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})<br>$$</p>\n<p>此时的 ${\\omega}^2 \\vec{R}$ 就是我们熟知的惯性离心加速度，方向与 $\\vec{R}$ 一致，它也是惯性加速度的一种，但不是我们今天要研究的主角。</p>\n<p>取一小段时间 $\\Delta t$ ：</p>\n<p><img src=\"fig4.png\" width=\"300\"></p>\n<p>矢量 $\\vec{P}$ 的增量为</p>\n<p>$$<br>\\Delta P \\approx P\\sin\\theta\\omega\\Delta t=|\\vec{\\omega}\\times \\vec{P}|\\Delta t<br>$$</p>\n<p>$\\Delta \\vec{P}$方向与 $\\vec{\\omega}$ 和 $\\vec{P}$ 的方向都垂直，即为 $\\vec{\\omega}\\times\\vec{P}$ 的方向，因此上式可以写为</p>\n<p>$$<br>\\Delta \\vec{P} \\approx\\vec{\\omega}\\times \\vec{P}\\Delta t<br>$$</p>\n<p>故 $\\vec{P}$ 的变化率可以表示为其对时间的导数</p>\n<p>$$<br>\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P}<br>$$<br>上式中大写的 $\\mathrm D$ 表示以静止系统为参考系时各变量的微分，而小写的 $\\mathrm d$ 则表示以旋转系统为参考系时变量的微分。上面式子中我们假定 $\\vec{P}$ 在旋转体系中都是恒矢量，否则 $\\vec{P}$ 的导数应该表示为</p>\n<p>$$<br>\\frac{\\mathrm{D}\\vec{P}}{\\mathrm{D}t} = \\lim_{\\Delta t\\rightarrow0} \\frac{\\Delta\\vec{P}}{\\Delta t} = \\vec{\\omega} \\times \\vec{P} + \\frac{\\mathrm d \\vec{P}}{\\mathrm d t}<br>$$</p>\n<p>上式适用于任何矢量 $\\vec{P}$ ，我们取一个质点的位矢 $\\vec{r} = \\vec{P}$ ，于是有</p>\n<p>$$<br>\\frac{\\mathrm D \\vec{r}}{\\mathrm D t} = \\vec{\\omega}\\times \\vec{r} + \\frac{\\mathrm d\\vec{r}}{\\mathrm d t} = \\vec{\\omega}\\times \\vec{r} + \\vec{v}<br>$$</p>\n<p>其中的 $\\vec{v}$ 表示质点相对于旋转体系的速度矢量。对上式再次求导，即得到加速度</p>\n<p>$$\\begin{aligned}<br>\\vec{A} = \\frac{\\mathrm D^2 \\vec{r}}{\\mathrm D t^2} &amp;= \\vec{\\omega}\\times\\frac{\\mathrm D\\vec{r}}{\\mathrm D t} + \\frac{\\mathrm d \\vec{v}}{\\mathrm dt} \\\\<br>    &amp;= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} + \\vec{v}) + (\\vec{\\omega}\\times\\vec{v} + \\frac{\\mathrm d\\vec{v}}{\\mathrm d t}) \\\\<br>    &amp;= \\vec{\\omega}\\times(\\vec{\\omega}\\times \\vec{r} ) + 2\\vec{\\omega}\\times\\vec{v} + \\vec{a}<br>\\end{aligned}$$</p>\n<p>因此</p>\n<p>$$<br>\\vec{a} =\\vec{A} - \\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r}) - 2\\vec{\\omega}\\times\\vec{v}<br>$$<br>上式中 $\\vec{a}$ 表示质点相对于旋转体系的加速度，$\\vec{A}$ 是由真实的力提供的加速度，后面两项都是“假想”存在的加速度，即惯性加速度。其中 $-\\vec{\\omega}\\times(\\vec{\\omega}\\times\\vec{r})$ 是我们已知的惯性离心加速度，另一项 $-2\\vec{\\omega}\\times\\vec{r}$ 就是<strong>科里奥利加速度</strong>，我们用 $\\vec{a}_c$ 表示，有了科里奥利加速度，就得到科里奥利力 $\\vec{f}_c = m\\vec{a}_c$ 。</p>\n<p>根据右手定则，可以判断出其始终垂直于质点相对于旋转体系的速度，因此，质点相对于旋转体系运动时出现偏转也就很自然了。</p>\n<h1 id=\"实际应用\"><a href=\"#实际应用\" class=\"headerlink\" title=\"实际应用\"></a>实际应用</h1><p>既然知道了科里奥利力是如何产生，那么知道这个东西对我们有什么用处呢？<del>（可以拿来装X）</del> </p>\n<h2 id=\"可以拿来侧纬度啦\"><a href=\"#可以拿来侧纬度啦\" class=\"headerlink\" title=\"可以拿来侧纬度啦~\"></a>可以拿来侧纬度啦~</h2><p>我们所置身的地球就是一个旋转体系，只是它旋转得太慢了，平时难以察觉到科里奥利力的存在，但是有一种东西可以反映出科里奥利力的存在，那就是<a href=\"https://en.wikipedia.org/wiki/Foucault_pendulum\" target=\"_blank\" rel=\"external\">傅科摆</a> ，如果你有足够的耐心观察它足够长的时间并确定它进动周期，你就可以很容易算出你所在位置的纬度，后面我们会给上推导这个公式的过程。</p>\n<p>为了理解如何通过傅科摆的进动角速度确定纬度，我们先来看一个简单的例子：</p>\n<p><img src=\"fig5.png\" width=\"500\"></p>\n<p>一个可以旋转的圆盘上有一个单摆，当缓慢旋转圆盘时，我们假设惯性离心力很小，只有科里奥利力作用于单摆运动的切向。 当我们旋转圆盘 $90^\\circ$ 时，在静止体系观看单摆的摆平面没有任何变化，只是单纯的平移而已，没有任何转动，但是当以圆盘为参考系时（坐在 $C’$ 的位置向 $A$ 看），单摆的摆平面已经旋转了 $90^\\circ$ ，因此以圆盘的视角来观察这个现象时单摆进动的角速度就是圆盘转动的角速度。</p>\n<p>下面的动画应该很形象了：</p>\n<p><img src=\"fig5.gif\"></p>\n<p>现在，我们让将摆线放大到67m长；将圆盘换成南极点的地面（相信这么做一定会有一群好奇的企鹅来围观）；讲缓慢转动圆盘换成地球大大的缓慢自转，这个上面的结论依然成立（当然如果你有上帝视角来看极点上的单摆进动，会更容易明白，就像看懂上面小圆盘上的单摆一样）。</p>\n<p>接下来，让我们把情况更加一般化，将这个巨大的单摆放到地球的任何可行的位置，问题变成了旋转球面上直线运动的进动问题，话不多说，看图：</p>\n<p><img src=\"fig6_1.png\" width=\"400\"></p>\n<p>假设有一单摆在 $C$ 点（三个蓝点中最下面的那个），且在 $C$ 点建立一个坐标系（为了不使图更乱，我就不画了），平面 $CAE$ <del>（说得装X一些叫“C点所在子午面”）</del>如下：</p>\n<p><img src=\"fig6_2.svg\" width=\"150\"></p>\n<p>其中 $A$ 是球心， $AC$ 是半径， $CE \\perp CA$ 并且 $E$ 落在自转轴上，$\\angle \\psi$ 表示纬度，$\\angle \\theta$ 则是 $\\angle \\psi$ 的余角。</p>\n<p>我们取一小段时间 $\\Delta t$ ，由于地球的自转，单摆从 $C$ 点运动到 $D$ 点，那么 $D$ 点出坐标系的 $y’$ 轴与 $C$ 点处 $y$ 轴所成夹角即为坐标系偏转的角度 $\\angle \\text{看这里}$ （如下图），这个角度也就是在 $\\Delta t$ 时间内单摆进动的角度，现在只要求出 $\\angle \\text{看这里}$ 与 $\\omega \\Delta t$ 之间的关系即可求出单摆进动角速度与地球自转角速度的关系。</p>\n<p><img src=\"fig6_3.svg\" width=\"300\"></p>\n<p>下面来求这个关系：</p>\n<p>$$\\begin{aligned}<br>\\angle \\text{看这里} = \\angle CED  &amp;=  \\frac {\\widehat{CD}}{CE} \\\\<br>                    &amp; = \\frac{ CE \\times \\sin\\psi \\times \\omega\\Delta t }{ CE } \\\\<br>                    &amp; = \\omega\\Delta t \\sin\\psi<br>\\end{aligned}$$</p>\n<p>于是，单摆进动的角速度为</p>\n<p>$$\\begin{aligned}<br>\\varOmega &amp; = \\lim_{\\Delta t \\rightarrow 0} \\frac{\\angle \\text{看这里}} {\\Delta t} \\\\<br>        &amp; = \\omega \\sin \\psi<br>\\end{aligned}$$</p>\n<p>上面式子表明，当 $\\psi = \\pm 90 ^ \\circ$ 时，$\\varOmega = \\omega$ ，即当单摆处于极点时，其进动角速度等于地球自转角速度，也就是我们开始时提到单摆在圆盘时的情形。</p>\n<p>好了，现在回到傅科摆，只要我们观察足够长的时间，测量出其轨迹的进动角速度，又已知地球自转角速度，便可以轻松算出傅科摆所在的纬度。</p>\n<h1 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h1><p>这是我在补《力学》时卡住的一个知识点，之前心中总把科里奥利力想象成惯性离心力那样，导致看到傅科摆时完全不知道如何理解，经过请教群友，老师以及动手画图实验，总算稍稍理解了，上面便是本渣的一点愚见，如有疏漏，还请在评论区指出，或邮件联系（联系方式见关于页面）。</p>\n<p>以上</p>\n"},{"title":"PAT题解 B 1035","date":"2017-06-22T05:33:59.000Z","_content":"\n# 题解:PAT-B 1035 插入与归并\n\n这是一篇测试用文章，欢迎围观.\n\n## 题目全文：\n题目地址在[这里](https://www.patest.cn/contests/pat-b-practise/1035)\n> 根据维基百科的定义：\n\n> 插入排序是迭代算法，逐一获得输入数据，逐步产生有序的输出序列。每步迭代中，算法从输入序列中取出一元素，将之插入有序序列中正确的位置。如此迭代直到全部元素有序。\n\n> 归并排序进行如下迭代操作：首先将原始序列看成N个只包含1个元素的有序子序列，然后每次迭代归并两个相邻的有序子序列，直到最后只剩下1个有序的序列。\n\n> 现给定原始序列和由某排序算法产生的中间序列，请你判断该算法究竟是哪种排序算法？\n\n> 输入格式：\n\n> 输入在第一行给出正整数N (<=100)；随后一行给出原始序列的N个整数；最后一行给出由某排序算法产生的中间序列。这里假设排序的目标序列是升序。数字间以空格分隔。\n\n> 输出格式：\n\n> 首先在第1行中输出“Insertion Sort”表示插入排序、或“Merge Sort”表示归并排序；然后在第2行中输出用该排序算法再迭代一轮的结果序列。题目保证每组测试的结果是唯一的。数字间以空格分隔，且行末不得有多余空格。\n\n输入样例1：\n```\n10\n3 1 2 8 7 5 9 4 6 0\n1 2 3 7 8 5 9 4 6 0\n```\n输出样例1：\n```\nInsertion Sort\n1 2 3 5 7 8 9 4 6 0\n```\n输入样例2：\n```\n10\n3 1 2 8 7 5 9 4 0 6\n1 3 2 8 5 7 4 9 0 6\n```\n输出样例2：\n```\nMerge Sort\n1 2 3 8 4 5 7 9 0 6\n```\n\n\n## 题目解读\n这是我刷乙级题时比较头疼的一道题，前后查阅了很多别人的代码，后又观看了陈越姥姥的[视频](http://www.icourse163.org/learn/ZJU-93001?tid=1002019005#/learn/content?type=detail&id=1002635050)总算弄明白了这道题需要注意哪些.\n\n1. 如何区分简单插入排序和**非递归**的归并排序;\n2. 如何根据测试用例的类型再迭代一次运算;\n3. 如何处理边界测试.\n\n这里要强调一下本题使用递归的归并排序是**无法AC**的，本渣使用递归的归并排序最多只能得到17分. 关于递归的归并与迭代归并区别请围观[这里](https://en.wikipedia.org/wiki/Merge_sort) (中文版省去了很多分析过程，强烈建议读英文原版)，另外，关于插入排序算法的Wiki在[这里](https://en.wikipedia.org/wiki/Insertion_sort).\n\n## 解题过程\n\n### 如何区分简单插入排序和非递归的归并排序\n只要抓住两个关键点即可：\n1. **使用插入排序序列的开头一部分一定是有序的**;\n2. **无序部分与原文一致**．\n\n比如下面这个例子:\n> 10  \n3 1 2 8 7 `5 9 4 6 0`  \n**1 2 3 7 8** `5 9 4 6 0`\n\n我们可以这样来判断:\n1. 首先扫描 `1 2 3 7 8` 为有序序列，当读取到`5`时发现 `8 > 5`暂停，执行步骤2;\n2. 从`5`开始对后面的序列与原序列进行比较，若发现全部是匹配的，则该序列的排序算法为插入排序,并记录下开始无序的位置;否则为归并排序.\n\n显然后面的部分与原文一致，因此这个序列排序使用的是插入排序. 注意这里必须满足以上***两个***条件才能推出插入排序算法．\n\n这里不得不提到有同学使用从后向前寻找不匹配点的方法来判断排序算法，这个方法是不对的，比如下面这个例子:  \n>3 1 2 8 7 5 9 4 `0 6`  \n1 3 2 8 5 7 4 9 `0 6`  \n\n虽然这里的后面一部分`0　6`与原题一致，但它并不满足前置子序列有序，因此它不是插入排序，后面的测试用例就有一个测试点来卡这种情况。\n\n对于如何判断是否使用归并排序则相对麻烦，考虑到题目中明确指出测试用例是合法的并且只能是归并和插入排序两种之一，所以这里使用排除法来确定归并排序．\n\n### 如何根据测试用例的类型再迭代一次运算\n#### 对于插入排序\n这个就非常简单了，如果明白了插入排序的算法，直接从上面记录下的点进行再迭代一次即可。\n\n#### 对于归并排序\n这个相对要麻烦一些，其关键步骤是确定归并段的长度。有的同学想到像插入排序一样从头开始寻找最长有序子序列，这是不对的，因为题意中归并排序是迭代一轮后才得到题目序列，即题目序列被分为若干归并段，**每一小段都是有序的**，因此若原文前一段本身已经有序，那么进行归并后得到的序列一定也是整体有序的，那么也就无法通过通过前置子序列的最大有序长度来代表所有归并段的长度。比如下面这个例子:\n\n> 10  \n`2 1 8 3` `7 5` `9 4` `0 6`  \n`1 2 3 8` `5 7` `4 9` `0 6`\n\n显然我们无法从`1 3 2 8`是最长前置有序子列就判断出归并段的长度为`4`。正确答案应该是`2`。\n\n有的同学使用模拟法，即对原序列进行分步归并排序，每迭代一次都与题目序列进行比较，直到发现匹配的情况为止。　这种方法在题目所给的时间限制下也能通过，但本着认真负责的态度，我们应该寻找一种更加**聪明**的办法来确定\n\n通过陈越姥姥的启发，我们总结出一下步骤判断最大归并段的长度：\n1. 假设每个归并段的长度为`l`, (`l`的初始值为`2`，因为一个元素不存在有序无序的概念);\n2. 对所有相邻两个归并段相连的两个元素进行比较，若该两元素仍有序，则归并段的长度`l *= 2`; 否则终止循环，`l`即为要确定的最大归并段长度。\n\n程序实现起来就是通过`for(l=2; l<=N; l*=2)`这个大循环内部完成的。  \n\n当确定了最大归并段长度，余下的工作就变得简单了，直接再迭代归并一次即可。\n具体代码可以参考最后的AC代码。\n### 如何处理边界测试\nPAT的题目测试不给出测试数据以及测试提示，比较考验同学们的程序测试能力，本渣在通过这道题时前后想了很久，也提交了很多次，还是在看了陈越姥姥的讲解后才知道测试数据的提示，测试数据包含一下几类：\n\n1. 最小`N`(`N = 4`，因为只有当`N >= 4`时才能区分出归并排序与插入排序中间子列).\n    * 插入排序第`1`步，什么都没改变;\n    * 归并排序第`1`步，什么都变了;\n2. 尾部子列无变化，但是前面变了(归并).\n3. 最大`N`.\n\n有了如上提示，加上前面的讲解，相信读者一定能够独立AC这道题了。\n\n## AC代码:\n```cpp\n#include <iostream>\n//#include <fstream>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint main()\n{\n//    std::ifstream cin(\"in.txt\");\n    int N;\n    cin >> N;\n    int *Orig = new int[N];\n    for(int i=0; i!=N; ++i){\n        cin >> Orig[i];\n    }\n    int *tmp = new int[N];\n    for(int i=0; i!=N; ++i){\n        cin >> tmp[i];\n    }\n    int k(0);\n    for(int i=k; i!=N-1; ++i){\n        if( tmp[i] > tmp[i+1] ){\n            k = i;\n            break;\n        }\n    }\n    bool IsInsertion(true);\n    for(int i=++k; i!=N; ++i){\n        if( tmp[i] != Orig[i] ){\n            IsInsertion = false;\n            break;\n        }\n    }\n    if( IsInsertion ){\n        cout << \"Insertion Sort\" << endl;\n        for(int i=k; i!=0; --i){\n            if( tmp[i] < tmp[i-1] ){\n                int t = tmp[i];\n                tmp[i] = tmp[i-1];\n                tmp[i-1] = t;\n            }else break;\n        }\n        for(int i=0; i!=N-1; ++i){\n            cout << tmp[i] << \" \";\n        }cout << tmp[N-1] << endl;\n    }else{\n        cout << \"Merge Sort\" << endl;\n        bool Identified = false;\n        for(int l=2; l<=N; l*=2){\n            for(int i=l; i<N; i += 2*l){\n                if( tmp[i-1] > tmp[i] ){\n                    Identified = true;\n                    break;\n                }\n            }\n            if( Identified ){\n                k = l;\n                break;\n            }\n        }\n//        cout << \"k = \" << k << endl;\n        for(int i=0; i<N; i+=k*2){\n            int *tmpArr = new int[k*2];\n            int lef = i;\n            const int mid = ( lef+k < N ) ? lef+k : N;\n            const int rig = ( mid+k < N ) ? mid+k : N;\n            int cur = mid;\n            int j=0;\n            while( lef < mid and cur < rig ){\n                if( tmp[lef] < tmp[cur] ){\n                    tmpArr[j++] = tmp[lef++];\n                }else{\n                    tmpArr[j++] = tmp[cur++];\n                }\n            }\n            while( lef < mid ){\n                tmpArr[j++] = tmp[lef++];\n            }\n            while( cur < rig ){\n                tmpArr[j++] = tmp[cur++];\n            }\n            for(int t=0; t!=j; ++t){\n                tmp[i+t] = tmpArr[t];\n            }\n            delete[] tmpArr;\n        }\n        for(int i=0; i!=N-1; ++i){\n            cout << tmp[i] << \" \";\n        }cout << tmp[N-1] << endl;\n    }\n    return 0;\n}\n\n```\n","source":"_posts/PAT题解-B-1035.md","raw":"---\ntitle: PAT题解 B 1035\ndate: 2017-06-22 13:33:59\ntags:\n    - C++\n    - PAT\n    - 排序\ncategories: Data Structure & Algorithm\n---\n\n# 题解:PAT-B 1035 插入与归并\n\n这是一篇测试用文章，欢迎围观.\n\n## 题目全文：\n题目地址在[这里](https://www.patest.cn/contests/pat-b-practise/1035)\n> 根据维基百科的定义：\n\n> 插入排序是迭代算法，逐一获得输入数据，逐步产生有序的输出序列。每步迭代中，算法从输入序列中取出一元素，将之插入有序序列中正确的位置。如此迭代直到全部元素有序。\n\n> 归并排序进行如下迭代操作：首先将原始序列看成N个只包含1个元素的有序子序列，然后每次迭代归并两个相邻的有序子序列，直到最后只剩下1个有序的序列。\n\n> 现给定原始序列和由某排序算法产生的中间序列，请你判断该算法究竟是哪种排序算法？\n\n> 输入格式：\n\n> 输入在第一行给出正整数N (<=100)；随后一行给出原始序列的N个整数；最后一行给出由某排序算法产生的中间序列。这里假设排序的目标序列是升序。数字间以空格分隔。\n\n> 输出格式：\n\n> 首先在第1行中输出“Insertion Sort”表示插入排序、或“Merge Sort”表示归并排序；然后在第2行中输出用该排序算法再迭代一轮的结果序列。题目保证每组测试的结果是唯一的。数字间以空格分隔，且行末不得有多余空格。\n\n输入样例1：\n```\n10\n3 1 2 8 7 5 9 4 6 0\n1 2 3 7 8 5 9 4 6 0\n```\n输出样例1：\n```\nInsertion Sort\n1 2 3 5 7 8 9 4 6 0\n```\n输入样例2：\n```\n10\n3 1 2 8 7 5 9 4 0 6\n1 3 2 8 5 7 4 9 0 6\n```\n输出样例2：\n```\nMerge Sort\n1 2 3 8 4 5 7 9 0 6\n```\n\n\n## 题目解读\n这是我刷乙级题时比较头疼的一道题，前后查阅了很多别人的代码，后又观看了陈越姥姥的[视频](http://www.icourse163.org/learn/ZJU-93001?tid=1002019005#/learn/content?type=detail&id=1002635050)总算弄明白了这道题需要注意哪些.\n\n1. 如何区分简单插入排序和**非递归**的归并排序;\n2. 如何根据测试用例的类型再迭代一次运算;\n3. 如何处理边界测试.\n\n这里要强调一下本题使用递归的归并排序是**无法AC**的，本渣使用递归的归并排序最多只能得到17分. 关于递归的归并与迭代归并区别请围观[这里](https://en.wikipedia.org/wiki/Merge_sort) (中文版省去了很多分析过程，强烈建议读英文原版)，另外，关于插入排序算法的Wiki在[这里](https://en.wikipedia.org/wiki/Insertion_sort).\n\n## 解题过程\n\n### 如何区分简单插入排序和非递归的归并排序\n只要抓住两个关键点即可：\n1. **使用插入排序序列的开头一部分一定是有序的**;\n2. **无序部分与原文一致**．\n\n比如下面这个例子:\n> 10  \n3 1 2 8 7 `5 9 4 6 0`  \n**1 2 3 7 8** `5 9 4 6 0`\n\n我们可以这样来判断:\n1. 首先扫描 `1 2 3 7 8` 为有序序列，当读取到`5`时发现 `8 > 5`暂停，执行步骤2;\n2. 从`5`开始对后面的序列与原序列进行比较，若发现全部是匹配的，则该序列的排序算法为插入排序,并记录下开始无序的位置;否则为归并排序.\n\n显然后面的部分与原文一致，因此这个序列排序使用的是插入排序. 注意这里必须满足以上***两个***条件才能推出插入排序算法．\n\n这里不得不提到有同学使用从后向前寻找不匹配点的方法来判断排序算法，这个方法是不对的，比如下面这个例子:  \n>3 1 2 8 7 5 9 4 `0 6`  \n1 3 2 8 5 7 4 9 `0 6`  \n\n虽然这里的后面一部分`0　6`与原题一致，但它并不满足前置子序列有序，因此它不是插入排序，后面的测试用例就有一个测试点来卡这种情况。\n\n对于如何判断是否使用归并排序则相对麻烦，考虑到题目中明确指出测试用例是合法的并且只能是归并和插入排序两种之一，所以这里使用排除法来确定归并排序．\n\n### 如何根据测试用例的类型再迭代一次运算\n#### 对于插入排序\n这个就非常简单了，如果明白了插入排序的算法，直接从上面记录下的点进行再迭代一次即可。\n\n#### 对于归并排序\n这个相对要麻烦一些，其关键步骤是确定归并段的长度。有的同学想到像插入排序一样从头开始寻找最长有序子序列，这是不对的，因为题意中归并排序是迭代一轮后才得到题目序列，即题目序列被分为若干归并段，**每一小段都是有序的**，因此若原文前一段本身已经有序，那么进行归并后得到的序列一定也是整体有序的，那么也就无法通过通过前置子序列的最大有序长度来代表所有归并段的长度。比如下面这个例子:\n\n> 10  \n`2 1 8 3` `7 5` `9 4` `0 6`  \n`1 2 3 8` `5 7` `4 9` `0 6`\n\n显然我们无法从`1 3 2 8`是最长前置有序子列就判断出归并段的长度为`4`。正确答案应该是`2`。\n\n有的同学使用模拟法，即对原序列进行分步归并排序，每迭代一次都与题目序列进行比较，直到发现匹配的情况为止。　这种方法在题目所给的时间限制下也能通过，但本着认真负责的态度，我们应该寻找一种更加**聪明**的办法来确定\n\n通过陈越姥姥的启发，我们总结出一下步骤判断最大归并段的长度：\n1. 假设每个归并段的长度为`l`, (`l`的初始值为`2`，因为一个元素不存在有序无序的概念);\n2. 对所有相邻两个归并段相连的两个元素进行比较，若该两元素仍有序，则归并段的长度`l *= 2`; 否则终止循环，`l`即为要确定的最大归并段长度。\n\n程序实现起来就是通过`for(l=2; l<=N; l*=2)`这个大循环内部完成的。  \n\n当确定了最大归并段长度，余下的工作就变得简单了，直接再迭代归并一次即可。\n具体代码可以参考最后的AC代码。\n### 如何处理边界测试\nPAT的题目测试不给出测试数据以及测试提示，比较考验同学们的程序测试能力，本渣在通过这道题时前后想了很久，也提交了很多次，还是在看了陈越姥姥的讲解后才知道测试数据的提示，测试数据包含一下几类：\n\n1. 最小`N`(`N = 4`，因为只有当`N >= 4`时才能区分出归并排序与插入排序中间子列).\n    * 插入排序第`1`步，什么都没改变;\n    * 归并排序第`1`步，什么都变了;\n2. 尾部子列无变化，但是前面变了(归并).\n3. 最大`N`.\n\n有了如上提示，加上前面的讲解，相信读者一定能够独立AC这道题了。\n\n## AC代码:\n```cpp\n#include <iostream>\n//#include <fstream>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint main()\n{\n//    std::ifstream cin(\"in.txt\");\n    int N;\n    cin >> N;\n    int *Orig = new int[N];\n    for(int i=0; i!=N; ++i){\n        cin >> Orig[i];\n    }\n    int *tmp = new int[N];\n    for(int i=0; i!=N; ++i){\n        cin >> tmp[i];\n    }\n    int k(0);\n    for(int i=k; i!=N-1; ++i){\n        if( tmp[i] > tmp[i+1] ){\n            k = i;\n            break;\n        }\n    }\n    bool IsInsertion(true);\n    for(int i=++k; i!=N; ++i){\n        if( tmp[i] != Orig[i] ){\n            IsInsertion = false;\n            break;\n        }\n    }\n    if( IsInsertion ){\n        cout << \"Insertion Sort\" << endl;\n        for(int i=k; i!=0; --i){\n            if( tmp[i] < tmp[i-1] ){\n                int t = tmp[i];\n                tmp[i] = tmp[i-1];\n                tmp[i-1] = t;\n            }else break;\n        }\n        for(int i=0; i!=N-1; ++i){\n            cout << tmp[i] << \" \";\n        }cout << tmp[N-1] << endl;\n    }else{\n        cout << \"Merge Sort\" << endl;\n        bool Identified = false;\n        for(int l=2; l<=N; l*=2){\n            for(int i=l; i<N; i += 2*l){\n                if( tmp[i-1] > tmp[i] ){\n                    Identified = true;\n                    break;\n                }\n            }\n            if( Identified ){\n                k = l;\n                break;\n            }\n        }\n//        cout << \"k = \" << k << endl;\n        for(int i=0; i<N; i+=k*2){\n            int *tmpArr = new int[k*2];\n            int lef = i;\n            const int mid = ( lef+k < N ) ? lef+k : N;\n            const int rig = ( mid+k < N ) ? mid+k : N;\n            int cur = mid;\n            int j=0;\n            while( lef < mid and cur < rig ){\n                if( tmp[lef] < tmp[cur] ){\n                    tmpArr[j++] = tmp[lef++];\n                }else{\n                    tmpArr[j++] = tmp[cur++];\n                }\n            }\n            while( lef < mid ){\n                tmpArr[j++] = tmp[lef++];\n            }\n            while( cur < rig ){\n                tmpArr[j++] = tmp[cur++];\n            }\n            for(int t=0; t!=j; ++t){\n                tmp[i+t] = tmpArr[t];\n            }\n            delete[] tmpArr;\n        }\n        for(int i=0; i!=N-1; ++i){\n            cout << tmp[i] << \" \";\n        }cout << tmp[N-1] << endl;\n    }\n    return 0;\n}\n\n```\n","slug":"PAT题解-B-1035","published":1,"updated":"2017-09-21T14:09:47.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3sx4000do1jmtn8umj65","content":"<h1 id=\"题解-PAT-B-1035-插入与归并\"><a href=\"#题解-PAT-B-1035-插入与归并\" class=\"headerlink\" title=\"题解:PAT-B 1035 插入与归并\"></a>题解:PAT-B 1035 插入与归并</h1><p>这是一篇测试用文章，欢迎围观.</p>\n<h2 id=\"题目全文：\"><a href=\"#题目全文：\" class=\"headerlink\" title=\"题目全文：\"></a>题目全文：</h2><p>题目地址在<a href=\"https://www.patest.cn/contests/pat-b-practise/1035\" target=\"_blank\" rel=\"external\">这里</a></p>\n<blockquote>\n<p>根据维基百科的定义：</p>\n<p>插入排序是迭代算法，逐一获得输入数据，逐步产生有序的输出序列。每步迭代中，算法从输入序列中取出一元素，将之插入有序序列中正确的位置。如此迭代直到全部元素有序。</p>\n<p>归并排序进行如下迭代操作：首先将原始序列看成N个只包含1个元素的有序子序列，然后每次迭代归并两个相邻的有序子序列，直到最后只剩下1个有序的序列。</p>\n<p>现给定原始序列和由某排序算法产生的中间序列，请你判断该算法究竟是哪种排序算法？</p>\n<p>输入格式：</p>\n<p>输入在第一行给出正整数N (&lt;=100)；随后一行给出原始序列的N个整数；最后一行给出由某排序算法产生的中间序列。这里假设排序的目标序列是升序。数字间以空格分隔。</p>\n<p>输出格式：</p>\n<p>首先在第1行中输出“Insertion Sort”表示插入排序、或“Merge Sort”表示归并排序；然后在第2行中输出用该排序算法再迭代一轮的结果序列。题目保证每组测试的结果是唯一的。数字间以空格分隔，且行末不得有多余空格。</p>\n</blockquote>\n<p>输入样例1：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">10</div><div class=\"line\">3 1 2 8 7 5 9 4 6 0</div><div class=\"line\">1 2 3 7 8 5 9 4 6 0</div></pre></td></tr></table></figure></p>\n<p>输出样例1：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Insertion Sort</div><div class=\"line\">1 2 3 5 7 8 9 4 6 0</div></pre></td></tr></table></figure></p>\n<p>输入样例2：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">10</div><div class=\"line\">3 1 2 8 7 5 9 4 0 6</div><div class=\"line\">1 3 2 8 5 7 4 9 0 6</div></pre></td></tr></table></figure></p>\n<p>输出样例2：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Merge Sort</div><div class=\"line\">1 2 3 8 4 5 7 9 0 6</div></pre></td></tr></table></figure></p>\n<h2 id=\"题目解读\"><a href=\"#题目解读\" class=\"headerlink\" title=\"题目解读\"></a>题目解读</h2><p>这是我刷乙级题时比较头疼的一道题，前后查阅了很多别人的代码，后又观看了陈越姥姥的<a href=\"http://www.icourse163.org/learn/ZJU-93001?tid=1002019005#/learn/content?type=detail&amp;id=1002635050\" target=\"_blank\" rel=\"external\">视频</a>总算弄明白了这道题需要注意哪些.</p>\n<ol>\n<li>如何区分简单插入排序和<strong>非递归</strong>的归并排序;</li>\n<li>如何根据测试用例的类型再迭代一次运算;</li>\n<li>如何处理边界测试.</li>\n</ol>\n<p>这里要强调一下本题使用递归的归并排序是<strong>无法AC</strong>的，本渣使用递归的归并排序最多只能得到17分. 关于递归的归并与迭代归并区别请围观<a href=\"https://en.wikipedia.org/wiki/Merge_sort\" target=\"_blank\" rel=\"external\">这里</a> (中文版省去了很多分析过程，强烈建议读英文原版)，另外，关于插入排序算法的Wiki在<a href=\"https://en.wikipedia.org/wiki/Insertion_sort\" target=\"_blank\" rel=\"external\">这里</a>.</p>\n<h2 id=\"解题过程\"><a href=\"#解题过程\" class=\"headerlink\" title=\"解题过程\"></a>解题过程</h2><h3 id=\"如何区分简单插入排序和非递归的归并排序\"><a href=\"#如何区分简单插入排序和非递归的归并排序\" class=\"headerlink\" title=\"如何区分简单插入排序和非递归的归并排序\"></a>如何区分简单插入排序和非递归的归并排序</h3><p>只要抓住两个关键点即可：</p>\n<ol>\n<li><strong>使用插入排序序列的开头一部分一定是有序的</strong>;</li>\n<li><strong>无序部分与原文一致</strong>．</li>\n</ol>\n<p>比如下面这个例子:</p>\n<blockquote>\n<p>10<br>3 1 2 8 7 <code>5 9 4 6 0</code><br><strong>1 2 3 7 8</strong> <code>5 9 4 6 0</code></p>\n</blockquote>\n<p>我们可以这样来判断:</p>\n<ol>\n<li>首先扫描 <code>1 2 3 7 8</code> 为有序序列，当读取到<code>5</code>时发现 <code>8 &gt; 5</code>暂停，执行步骤2;</li>\n<li>从<code>5</code>开始对后面的序列与原序列进行比较，若发现全部是匹配的，则该序列的排序算法为插入排序,并记录下开始无序的位置;否则为归并排序.</li>\n</ol>\n<p>显然后面的部分与原文一致，因此这个序列排序使用的是插入排序. 注意这里必须满足以上<strong><em>两个</em></strong>条件才能推出插入排序算法．</p>\n<p>这里不得不提到有同学使用从后向前寻找不匹配点的方法来判断排序算法，这个方法是不对的，比如下面这个例子:  </p>\n<blockquote>\n<p>3 1 2 8 7 5 9 4 <code>0 6</code><br>1 3 2 8 5 7 4 9 <code>0 6</code>  </p>\n</blockquote>\n<p>虽然这里的后面一部分<code>0　6</code>与原题一致，但它并不满足前置子序列有序，因此它不是插入排序，后面的测试用例就有一个测试点来卡这种情况。</p>\n<p>对于如何判断是否使用归并排序则相对麻烦，考虑到题目中明确指出测试用例是合法的并且只能是归并和插入排序两种之一，所以这里使用排除法来确定归并排序．</p>\n<h3 id=\"如何根据测试用例的类型再迭代一次运算\"><a href=\"#如何根据测试用例的类型再迭代一次运算\" class=\"headerlink\" title=\"如何根据测试用例的类型再迭代一次运算\"></a>如何根据测试用例的类型再迭代一次运算</h3><h4 id=\"对于插入排序\"><a href=\"#对于插入排序\" class=\"headerlink\" title=\"对于插入排序\"></a>对于插入排序</h4><p>这个就非常简单了，如果明白了插入排序的算法，直接从上面记录下的点进行再迭代一次即可。</p>\n<h4 id=\"对于归并排序\"><a href=\"#对于归并排序\" class=\"headerlink\" title=\"对于归并排序\"></a>对于归并排序</h4><p>这个相对要麻烦一些，其关键步骤是确定归并段的长度。有的同学想到像插入排序一样从头开始寻找最长有序子序列，这是不对的，因为题意中归并排序是迭代一轮后才得到题目序列，即题目序列被分为若干归并段，<strong>每一小段都是有序的</strong>，因此若原文前一段本身已经有序，那么进行归并后得到的序列一定也是整体有序的，那么也就无法通过通过前置子序列的最大有序长度来代表所有归并段的长度。比如下面这个例子:</p>\n<blockquote>\n<p>10<br><code>2 1 8 3</code> <code>7 5</code> <code>9 4</code> <code>0 6</code><br><code>1 2 3 8</code> <code>5 7</code> <code>4 9</code> <code>0 6</code></p>\n</blockquote>\n<p>显然我们无法从<code>1 3 2 8</code>是最长前置有序子列就判断出归并段的长度为<code>4</code>。正确答案应该是<code>2</code>。</p>\n<p>有的同学使用模拟法，即对原序列进行分步归并排序，每迭代一次都与题目序列进行比较，直到发现匹配的情况为止。　这种方法在题目所给的时间限制下也能通过，但本着认真负责的态度，我们应该寻找一种更加<strong>聪明</strong>的办法来确定</p>\n<p>通过陈越姥姥的启发，我们总结出一下步骤判断最大归并段的长度：</p>\n<ol>\n<li>假设每个归并段的长度为<code>l</code>, (<code>l</code>的初始值为<code>2</code>，因为一个元素不存在有序无序的概念);</li>\n<li>对所有相邻两个归并段相连的两个元素进行比较，若该两元素仍有序，则归并段的长度<code>l *= 2</code>; 否则终止循环，<code>l</code>即为要确定的最大归并段长度。</li>\n</ol>\n<p>程序实现起来就是通过<code>for(l=2; l&lt;=N; l*=2)</code>这个大循环内部完成的。  </p>\n<p>当确定了最大归并段长度，余下的工作就变得简单了，直接再迭代归并一次即可。<br>具体代码可以参考最后的AC代码。</p>\n<h3 id=\"如何处理边界测试\"><a href=\"#如何处理边界测试\" class=\"headerlink\" title=\"如何处理边界测试\"></a>如何处理边界测试</h3><p>PAT的题目测试不给出测试数据以及测试提示，比较考验同学们的程序测试能力，本渣在通过这道题时前后想了很久，也提交了很多次，还是在看了陈越姥姥的讲解后才知道测试数据的提示，测试数据包含一下几类：</p>\n<ol>\n<li>最小<code>N</code>(<code>N = 4</code>，因为只有当<code>N &gt;= 4</code>时才能区分出归并排序与插入排序中间子列).<ul>\n<li>插入排序第<code>1</code>步，什么都没改变;</li>\n<li>归并排序第<code>1</code>步，什么都变了;</li>\n</ul>\n</li>\n<li>尾部子列无变化，但是前面变了(归并).</li>\n<li>最大<code>N</code>.</li>\n</ol>\n<p>有了如上提示，加上前面的讲解，相信读者一定能够独立AC这道题了。</p>\n<h2 id=\"AC代码\"><a href=\"#AC代码\" class=\"headerlink\" title=\"AC代码:\"></a>AC代码:</h2><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"comment\">//#include &lt;fstream&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">cin</span>;</div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span>;</div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></div><div class=\"line\"><span class=\"function\"></span>&#123;</div><div class=\"line\"><span class=\"comment\">//    std::ifstream cin(\"in.txt\");</span></div><div class=\"line\">    <span class=\"keyword\">int</span> N;</div><div class=\"line\">    <span class=\"built_in\">cin</span> &gt;&gt; N;</div><div class=\"line\">    <span class=\"keyword\">int</span> *Orig = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N; ++i)&#123;</div><div class=\"line\">        <span class=\"built_in\">cin</span> &gt;&gt; Orig[i];</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">int</span> *tmp = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N; ++i)&#123;</div><div class=\"line\">        <span class=\"built_in\">cin</span> &gt;&gt; tmp[i];</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">k</span><span class=\"params\">(<span class=\"number\">0</span>)</span></span>;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=k; i!=N<span class=\"number\">-1</span>; ++i)&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span>( tmp[i] &gt; tmp[i+<span class=\"number\">1</span>] )&#123;</div><div class=\"line\">            k = i;</div><div class=\"line\">            <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">IsInsertion</span><span class=\"params\">(<span class=\"literal\">true</span>)</span></span>;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=++k; i!=N; ++i)&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span>( tmp[i] != Orig[i] )&#123;</div><div class=\"line\">            IsInsertion = <span class=\"literal\">false</span>;</div><div class=\"line\">            <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">if</span>( IsInsertion )&#123;</div><div class=\"line\">        <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Insertion Sort\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=k; i!=<span class=\"number\">0</span>; --i)&#123;</div><div class=\"line\">            <span class=\"keyword\">if</span>( tmp[i] &lt; tmp[i<span class=\"number\">-1</span>] )&#123;</div><div class=\"line\">                <span class=\"keyword\">int</span> t = tmp[i];</div><div class=\"line\">                tmp[i] = tmp[i<span class=\"number\">-1</span>];</div><div class=\"line\">                tmp[i<span class=\"number\">-1</span>] = t;</div><div class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N<span class=\"number\">-1</span>; ++i)&#123;</div><div class=\"line\">            <span class=\"built_in\">cout</span> &lt;&lt; tmp[i] &lt;&lt; <span class=\"string\">\" \"</span>;</div><div class=\"line\">        &#125;<span class=\"built_in\">cout</span> &lt;&lt; tmp[N<span class=\"number\">-1</span>] &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Merge Sort\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">        <span class=\"keyword\">bool</span> Identified = <span class=\"literal\">false</span>;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> l=<span class=\"number\">2</span>; l&lt;=N; l*=<span class=\"number\">2</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=l; i&lt;N; i += <span class=\"number\">2</span>*l)&#123;</div><div class=\"line\">                <span class=\"keyword\">if</span>( tmp[i<span class=\"number\">-1</span>] &gt; tmp[i] )&#123;</div><div class=\"line\">                    Identified = <span class=\"literal\">true</span>;</div><div class=\"line\">                    <span class=\"keyword\">break</span>;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">if</span>( Identified )&#123;</div><div class=\"line\">                k = l;</div><div class=\"line\">                <span class=\"keyword\">break</span>;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\"><span class=\"comment\">//        cout &lt;&lt; \"k = \" &lt;&lt; k &lt;&lt; endl;</span></div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i&lt;N; i+=k*<span class=\"number\">2</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">int</span> *tmpArr = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[k*<span class=\"number\">2</span>];</div><div class=\"line\">            <span class=\"keyword\">int</span> lef = i;</div><div class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> mid = ( lef+k &lt; N ) ? lef+k : N;</div><div class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> rig = ( mid+k &lt; N ) ? mid+k : N;</div><div class=\"line\">            <span class=\"keyword\">int</span> cur = mid;</div><div class=\"line\">            <span class=\"keyword\">int</span> j=<span class=\"number\">0</span>;</div><div class=\"line\">            <span class=\"keyword\">while</span>( lef &lt; mid <span class=\"keyword\">and</span> cur &lt; rig )&#123;</div><div class=\"line\">                <span class=\"keyword\">if</span>( tmp[lef] &lt; tmp[cur] )&#123;</div><div class=\"line\">                    tmpArr[j++] = tmp[lef++];</div><div class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">                    tmpArr[j++] = tmp[cur++];</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">while</span>( lef &lt; mid )&#123;</div><div class=\"line\">                tmpArr[j++] = tmp[lef++];</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">while</span>( cur &lt; rig )&#123;</div><div class=\"line\">                tmpArr[j++] = tmp[cur++];</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> t=<span class=\"number\">0</span>; t!=j; ++t)&#123;</div><div class=\"line\">                tmp[i+t] = tmpArr[t];</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">delete</span>[] tmpArr;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N<span class=\"number\">-1</span>; ++i)&#123;</div><div class=\"line\">            <span class=\"built_in\">cout</span> &lt;&lt; tmp[i] &lt;&lt; <span class=\"string\">\" \"</span>;</div><div class=\"line\">        &#125;<span class=\"built_in\">cout</span> &lt;&lt; tmp[N<span class=\"number\">-1</span>] &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"题解-PAT-B-1035-插入与归并\"><a href=\"#题解-PAT-B-1035-插入与归并\" class=\"headerlink\" title=\"题解:PAT-B 1035 插入与归并\"></a>题解:PAT-B 1035 插入与归并</h1><p>这是一篇测试用文章，欢迎围观.</p>\n<h2 id=\"题目全文：\"><a href=\"#题目全文：\" class=\"headerlink\" title=\"题目全文：\"></a>题目全文：</h2><p>题目地址在<a href=\"https://www.patest.cn/contests/pat-b-practise/1035\" target=\"_blank\" rel=\"external\">这里</a></p>\n<blockquote>\n<p>根据维基百科的定义：</p>\n<p>插入排序是迭代算法，逐一获得输入数据，逐步产生有序的输出序列。每步迭代中，算法从输入序列中取出一元素，将之插入有序序列中正确的位置。如此迭代直到全部元素有序。</p>\n<p>归并排序进行如下迭代操作：首先将原始序列看成N个只包含1个元素的有序子序列，然后每次迭代归并两个相邻的有序子序列，直到最后只剩下1个有序的序列。</p>\n<p>现给定原始序列和由某排序算法产生的中间序列，请你判断该算法究竟是哪种排序算法？</p>\n<p>输入格式：</p>\n<p>输入在第一行给出正整数N (&lt;=100)；随后一行给出原始序列的N个整数；最后一行给出由某排序算法产生的中间序列。这里假设排序的目标序列是升序。数字间以空格分隔。</p>\n<p>输出格式：</p>\n<p>首先在第1行中输出“Insertion Sort”表示插入排序、或“Merge Sort”表示归并排序；然后在第2行中输出用该排序算法再迭代一轮的结果序列。题目保证每组测试的结果是唯一的。数字间以空格分隔，且行末不得有多余空格。</p>\n</blockquote>\n<p>输入样例1：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">10</div><div class=\"line\">3 1 2 8 7 5 9 4 6 0</div><div class=\"line\">1 2 3 7 8 5 9 4 6 0</div></pre></td></tr></table></figure></p>\n<p>输出样例1：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Insertion Sort</div><div class=\"line\">1 2 3 5 7 8 9 4 6 0</div></pre></td></tr></table></figure></p>\n<p>输入样例2：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">10</div><div class=\"line\">3 1 2 8 7 5 9 4 0 6</div><div class=\"line\">1 3 2 8 5 7 4 9 0 6</div></pre></td></tr></table></figure></p>\n<p>输出样例2：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Merge Sort</div><div class=\"line\">1 2 3 8 4 5 7 9 0 6</div></pre></td></tr></table></figure></p>\n<h2 id=\"题目解读\"><a href=\"#题目解读\" class=\"headerlink\" title=\"题目解读\"></a>题目解读</h2><p>这是我刷乙级题时比较头疼的一道题，前后查阅了很多别人的代码，后又观看了陈越姥姥的<a href=\"http://www.icourse163.org/learn/ZJU-93001?tid=1002019005#/learn/content?type=detail&amp;id=1002635050\" target=\"_blank\" rel=\"external\">视频</a>总算弄明白了这道题需要注意哪些.</p>\n<ol>\n<li>如何区分简单插入排序和<strong>非递归</strong>的归并排序;</li>\n<li>如何根据测试用例的类型再迭代一次运算;</li>\n<li>如何处理边界测试.</li>\n</ol>\n<p>这里要强调一下本题使用递归的归并排序是<strong>无法AC</strong>的，本渣使用递归的归并排序最多只能得到17分. 关于递归的归并与迭代归并区别请围观<a href=\"https://en.wikipedia.org/wiki/Merge_sort\" target=\"_blank\" rel=\"external\">这里</a> (中文版省去了很多分析过程，强烈建议读英文原版)，另外，关于插入排序算法的Wiki在<a href=\"https://en.wikipedia.org/wiki/Insertion_sort\" target=\"_blank\" rel=\"external\">这里</a>.</p>\n<h2 id=\"解题过程\"><a href=\"#解题过程\" class=\"headerlink\" title=\"解题过程\"></a>解题过程</h2><h3 id=\"如何区分简单插入排序和非递归的归并排序\"><a href=\"#如何区分简单插入排序和非递归的归并排序\" class=\"headerlink\" title=\"如何区分简单插入排序和非递归的归并排序\"></a>如何区分简单插入排序和非递归的归并排序</h3><p>只要抓住两个关键点即可：</p>\n<ol>\n<li><strong>使用插入排序序列的开头一部分一定是有序的</strong>;</li>\n<li><strong>无序部分与原文一致</strong>．</li>\n</ol>\n<p>比如下面这个例子:</p>\n<blockquote>\n<p>10<br>3 1 2 8 7 <code>5 9 4 6 0</code><br><strong>1 2 3 7 8</strong> <code>5 9 4 6 0</code></p>\n</blockquote>\n<p>我们可以这样来判断:</p>\n<ol>\n<li>首先扫描 <code>1 2 3 7 8</code> 为有序序列，当读取到<code>5</code>时发现 <code>8 &gt; 5</code>暂停，执行步骤2;</li>\n<li>从<code>5</code>开始对后面的序列与原序列进行比较，若发现全部是匹配的，则该序列的排序算法为插入排序,并记录下开始无序的位置;否则为归并排序.</li>\n</ol>\n<p>显然后面的部分与原文一致，因此这个序列排序使用的是插入排序. 注意这里必须满足以上<strong><em>两个</em></strong>条件才能推出插入排序算法．</p>\n<p>这里不得不提到有同学使用从后向前寻找不匹配点的方法来判断排序算法，这个方法是不对的，比如下面这个例子:  </p>\n<blockquote>\n<p>3 1 2 8 7 5 9 4 <code>0 6</code><br>1 3 2 8 5 7 4 9 <code>0 6</code>  </p>\n</blockquote>\n<p>虽然这里的后面一部分<code>0　6</code>与原题一致，但它并不满足前置子序列有序，因此它不是插入排序，后面的测试用例就有一个测试点来卡这种情况。</p>\n<p>对于如何判断是否使用归并排序则相对麻烦，考虑到题目中明确指出测试用例是合法的并且只能是归并和插入排序两种之一，所以这里使用排除法来确定归并排序．</p>\n<h3 id=\"如何根据测试用例的类型再迭代一次运算\"><a href=\"#如何根据测试用例的类型再迭代一次运算\" class=\"headerlink\" title=\"如何根据测试用例的类型再迭代一次运算\"></a>如何根据测试用例的类型再迭代一次运算</h3><h4 id=\"对于插入排序\"><a href=\"#对于插入排序\" class=\"headerlink\" title=\"对于插入排序\"></a>对于插入排序</h4><p>这个就非常简单了，如果明白了插入排序的算法，直接从上面记录下的点进行再迭代一次即可。</p>\n<h4 id=\"对于归并排序\"><a href=\"#对于归并排序\" class=\"headerlink\" title=\"对于归并排序\"></a>对于归并排序</h4><p>这个相对要麻烦一些，其关键步骤是确定归并段的长度。有的同学想到像插入排序一样从头开始寻找最长有序子序列，这是不对的，因为题意中归并排序是迭代一轮后才得到题目序列，即题目序列被分为若干归并段，<strong>每一小段都是有序的</strong>，因此若原文前一段本身已经有序，那么进行归并后得到的序列一定也是整体有序的，那么也就无法通过通过前置子序列的最大有序长度来代表所有归并段的长度。比如下面这个例子:</p>\n<blockquote>\n<p>10<br><code>2 1 8 3</code> <code>7 5</code> <code>9 4</code> <code>0 6</code><br><code>1 2 3 8</code> <code>5 7</code> <code>4 9</code> <code>0 6</code></p>\n</blockquote>\n<p>显然我们无法从<code>1 3 2 8</code>是最长前置有序子列就判断出归并段的长度为<code>4</code>。正确答案应该是<code>2</code>。</p>\n<p>有的同学使用模拟法，即对原序列进行分步归并排序，每迭代一次都与题目序列进行比较，直到发现匹配的情况为止。　这种方法在题目所给的时间限制下也能通过，但本着认真负责的态度，我们应该寻找一种更加<strong>聪明</strong>的办法来确定</p>\n<p>通过陈越姥姥的启发，我们总结出一下步骤判断最大归并段的长度：</p>\n<ol>\n<li>假设每个归并段的长度为<code>l</code>, (<code>l</code>的初始值为<code>2</code>，因为一个元素不存在有序无序的概念);</li>\n<li>对所有相邻两个归并段相连的两个元素进行比较，若该两元素仍有序，则归并段的长度<code>l *= 2</code>; 否则终止循环，<code>l</code>即为要确定的最大归并段长度。</li>\n</ol>\n<p>程序实现起来就是通过<code>for(l=2; l&lt;=N; l*=2)</code>这个大循环内部完成的。  </p>\n<p>当确定了最大归并段长度，余下的工作就变得简单了，直接再迭代归并一次即可。<br>具体代码可以参考最后的AC代码。</p>\n<h3 id=\"如何处理边界测试\"><a href=\"#如何处理边界测试\" class=\"headerlink\" title=\"如何处理边界测试\"></a>如何处理边界测试</h3><p>PAT的题目测试不给出测试数据以及测试提示，比较考验同学们的程序测试能力，本渣在通过这道题时前后想了很久，也提交了很多次，还是在看了陈越姥姥的讲解后才知道测试数据的提示，测试数据包含一下几类：</p>\n<ol>\n<li>最小<code>N</code>(<code>N = 4</code>，因为只有当<code>N &gt;= 4</code>时才能区分出归并排序与插入排序中间子列).<ul>\n<li>插入排序第<code>1</code>步，什么都没改变;</li>\n<li>归并排序第<code>1</code>步，什么都变了;</li>\n</ul>\n</li>\n<li>尾部子列无变化，但是前面变了(归并).</li>\n<li>最大<code>N</code>.</li>\n</ol>\n<p>有了如上提示，加上前面的讲解，相信读者一定能够独立AC这道题了。</p>\n<h2 id=\"AC代码\"><a href=\"#AC代码\" class=\"headerlink\" title=\"AC代码:\"></a>AC代码:</h2><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"comment\">//#include &lt;fstream&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">cin</span>;</div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span>;</div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></div><div class=\"line\"><span class=\"function\"></span>&#123;</div><div class=\"line\"><span class=\"comment\">//    std::ifstream cin(\"in.txt\");</span></div><div class=\"line\">    <span class=\"keyword\">int</span> N;</div><div class=\"line\">    <span class=\"built_in\">cin</span> &gt;&gt; N;</div><div class=\"line\">    <span class=\"keyword\">int</span> *Orig = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N; ++i)&#123;</div><div class=\"line\">        <span class=\"built_in\">cin</span> &gt;&gt; Orig[i];</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">int</span> *tmp = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[N];</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N; ++i)&#123;</div><div class=\"line\">        <span class=\"built_in\">cin</span> &gt;&gt; tmp[i];</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">k</span><span class=\"params\">(<span class=\"number\">0</span>)</span></span>;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=k; i!=N<span class=\"number\">-1</span>; ++i)&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span>( tmp[i] &gt; tmp[i+<span class=\"number\">1</span>] )&#123;</div><div class=\"line\">            k = i;</div><div class=\"line\">            <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">IsInsertion</span><span class=\"params\">(<span class=\"literal\">true</span>)</span></span>;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=++k; i!=N; ++i)&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span>( tmp[i] != Orig[i] )&#123;</div><div class=\"line\">            IsInsertion = <span class=\"literal\">false</span>;</div><div class=\"line\">            <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">if</span>( IsInsertion )&#123;</div><div class=\"line\">        <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Insertion Sort\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=k; i!=<span class=\"number\">0</span>; --i)&#123;</div><div class=\"line\">            <span class=\"keyword\">if</span>( tmp[i] &lt; tmp[i<span class=\"number\">-1</span>] )&#123;</div><div class=\"line\">                <span class=\"keyword\">int</span> t = tmp[i];</div><div class=\"line\">                tmp[i] = tmp[i<span class=\"number\">-1</span>];</div><div class=\"line\">                tmp[i<span class=\"number\">-1</span>] = t;</div><div class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N<span class=\"number\">-1</span>; ++i)&#123;</div><div class=\"line\">            <span class=\"built_in\">cout</span> &lt;&lt; tmp[i] &lt;&lt; <span class=\"string\">\" \"</span>;</div><div class=\"line\">        &#125;<span class=\"built_in\">cout</span> &lt;&lt; tmp[N<span class=\"number\">-1</span>] &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Merge Sort\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">        <span class=\"keyword\">bool</span> Identified = <span class=\"literal\">false</span>;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> l=<span class=\"number\">2</span>; l&lt;=N; l*=<span class=\"number\">2</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=l; i&lt;N; i += <span class=\"number\">2</span>*l)&#123;</div><div class=\"line\">                <span class=\"keyword\">if</span>( tmp[i<span class=\"number\">-1</span>] &gt; tmp[i] )&#123;</div><div class=\"line\">                    Identified = <span class=\"literal\">true</span>;</div><div class=\"line\">                    <span class=\"keyword\">break</span>;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">if</span>( Identified )&#123;</div><div class=\"line\">                k = l;</div><div class=\"line\">                <span class=\"keyword\">break</span>;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\"><span class=\"comment\">//        cout &lt;&lt; \"k = \" &lt;&lt; k &lt;&lt; endl;</span></div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i&lt;N; i+=k*<span class=\"number\">2</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">int</span> *tmpArr = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[k*<span class=\"number\">2</span>];</div><div class=\"line\">            <span class=\"keyword\">int</span> lef = i;</div><div class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> mid = ( lef+k &lt; N ) ? lef+k : N;</div><div class=\"line\">            <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> rig = ( mid+k &lt; N ) ? mid+k : N;</div><div class=\"line\">            <span class=\"keyword\">int</span> cur = mid;</div><div class=\"line\">            <span class=\"keyword\">int</span> j=<span class=\"number\">0</span>;</div><div class=\"line\">            <span class=\"keyword\">while</span>( lef &lt; mid <span class=\"keyword\">and</span> cur &lt; rig )&#123;</div><div class=\"line\">                <span class=\"keyword\">if</span>( tmp[lef] &lt; tmp[cur] )&#123;</div><div class=\"line\">                    tmpArr[j++] = tmp[lef++];</div><div class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">                    tmpArr[j++] = tmp[cur++];</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">while</span>( lef &lt; mid )&#123;</div><div class=\"line\">                tmpArr[j++] = tmp[lef++];</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">while</span>( cur &lt; rig )&#123;</div><div class=\"line\">                tmpArr[j++] = tmp[cur++];</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> t=<span class=\"number\">0</span>; t!=j; ++t)&#123;</div><div class=\"line\">                tmp[i+t] = tmpArr[t];</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">delete</span>[] tmpArr;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i!=N<span class=\"number\">-1</span>; ++i)&#123;</div><div class=\"line\">            <span class=\"built_in\">cout</span> &lt;&lt; tmp[i] &lt;&lt; <span class=\"string\">\" \"</span>;</div><div class=\"line\">        &#125;<span class=\"built_in\">cout</span> &lt;&lt; tmp[N<span class=\"number\">-1</span>] &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n"},{"title":"物理化学复习札记（一）：理想气体热力学量求解总结","date":"2017-06-26T09:07:41.000Z","_content":"\n\n**这是这个系列的第一篇，也是第一次写这种类型的札记，如果有纰漏，还请在评论区指出，谢谢各位！**\n\n## 热力学量说明\n物理化学中，热力学主要研究7个热力学量，这7个量如下：\n\n1. $U$，系统的热力学能，或称内能，属于状态函数，$U=f(T)$，无法求出$U$的值，但可以求出$\\Delta U$的值，单位为J；\n2. $Q$，系统与环境交换的热量，当系统放热时，$Q$为负值；系统吸热，则$Q$为正值，单位为J；\n3. $W$，环境对系统所做的功，分为体积功和非体积功，单位为J；\n4. $H$，焓，定义为 $H=U+pV$，无实际含义，仅为计算方便而产生，属于状态函数，$H=f(T)$，与$U$一样，无法求出$H$的值，但可以求出$\\Delta H$的值，单位为J；\n5. $S$，大名鼎鼎的熵，定义为$S=\\int_A^B (\\dfrac{\\delta Q}{T})_R$，属于状态函数，处于绝对零度时完美晶体的熵为0，单位J$\\cdot $K$^{-1}$\n6. $A$，亥姆霍兹自由能，定义为$A=U-TS$，为状态函数，无法求出$A$的值，但可以求出$\\Delta A$的值，单位为J；\n7. $G$，吉布斯自由能，定义为$G=H-TS$，为状态函数，无法求出$G$的值，但可以求出$\\Delta G$的值，单位为J；\n\n以上说明中，状态函数是指当系统状态一定时，其值即确定，亦即在某个过程中其变化量$\\Delta f$只与始末状态有关，与过程细节无关。这个性质**非常重要**，物理化学常见的设计过程求解热力学量的理论基础即在于此。\n\n## 热力学四大定律\n\n是的，热力学有四大定律，分别为热力学第零定律、热力学第一定律、热力学第二定律和热力学第三定律。\n\n### 热力学第零定律\n**如果两个系统分别与处于确定状态的第三个系统达到热平衡，则这两个系统彼此也将处于热平衡。**\n\n这个定律定义了温度的概念，当两个系统相互接触处于热平衡后，它们的性质不再变化，我们称之具有相同的温度。而定义中提到的第三系统为温度计的产生奠定了理论基础。\n\n### 热力学第一定律\n**在变化过程中，系统的热力学能变化量表示为系统和环境的热交换量与外界对系统所做功的总和。**\n写成公式即为 $ \\Delta U = Q + W $，\n或者写成微分形式$ \\mathrm{d}U = \\delta Q + \\delta W $\n\n### 热力学第二定律\n\n文字可表述为：\n\n> 克劳修斯表述：不可能把热从低温物体传到高温物体，而不引起其他变化；\n> 开尔文表述：不可能从单一热源取出热使之完全变为功，而不发生其他变化。\n\n数学形式：\n\n- 克劳修斯不等式表述形式：$ \\Delta S_{A\\to B}-\\sum_A^B \\dfrac{\\delta Q}{T} \\geq 0 $\n- 常用表述形式：$ \\mathrm{d}S - \\dfrac{\\delta Q}{T} \\geq 0 $\n\n\n上式表明，在一个隔离系统中，熵永不减少。 隔离系统是绝热的，即$\\delta Q=0$，因此$\\mathrm{d}S_{\\mathrm{iso}} \\geq 0$。\n\n\n### 热力学第三定律\n可以表述为**在温度趋于热力学温度0K的等温过程中，系统的熵值不变 **，也可以表述为“**在0K时，任何完美晶体的熵等于零**”，还可以表述为”**绝对零度不可能达到**“。\n\n\n## 特殊过程的热力学量求值\n\n**本节所有过程均为$p$,$V$,$T$过程，不考虑非体积功！**\n\n常见的变化过程（均为理想气体的变化过程）有：\n1. 等温过程：系统由状态1变到状态2，变化过程中以及始态和终态的温度不变，**且等于环境温度**；\n2. 等压过程：系统在变化过程中，始态和终态压力相等，且等于环境压力；\n3. 等容过程：系统在变化过程中保持体积不变。在刚性容器中发生的变化一般是等容过程；\n4. 绝热过程：系统在变化过程中与环境之间没有热的交换，或者是由于有绝热壁的存在，或者是因为变化太快而与环境来不及热交换，或者热交换量极少可近似看作是绝热过程；\n5. 环状过程：系统从始态出发，经过一系列变化后又回到了原来状态。经此过程，所有状态函数的变化量都为零。\n\n另外，自由膨胀过程可以看为外压恒为0的等压膨胀过程；节流膨胀过程属于实际气体的不可逆过程，不在本札记讨论范围内。\n\n### 自由膨胀过程\n此过程不可逆，可看作外压恒为零的等压过程。\n\n- $\\Delta U=0$，由`Gay-Lussac-Joule`实验得出，而$U=f(T)$，故此过程中气体$T$不变；\n- $W=0$，显然，自由膨胀时外压恒为零，也无非体积功，故$W=0$；\n- $Q=0$，由热力学第一定律，$\\Delta U=Q+W$，式中$\\Delta U=0$，$W=0$，因此$Q=0$；\n- $\\Delta H=0$，$H$是状态函数，由上文气体$T$不变可以推出$H$不变。 另外也可由公式$\\Delta H=\\Delta U + \\Delta(pV)$，$pV=nRT$（n、T不变，所以$pV$不变）推出$\\Delta H=0$；\n- $\\Delta S>0$，显然该过程不可逆，其对应的可逆过程为等温可逆膨胀，计算得$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；\n- $\\Delta G<0​$，由公式$\\Delta G=\\Delta H-\\Delta (TS)​$，并且$\\Delta H=0​$、$T​$不变得出$\\Delta G=-T\\Delta S​$；\n- $\\Delta A<0$，与计算$\\Delta G$的过程类似，$\\Delta A=-T\\Delta S$。\n\n### 等温可逆过程\n此过程满足 $pV=nRT=\\mathrm{Constant}$。\n\n- $\\Delta U=0$，$U$为状态函数，等温过程系统温度不变，因此$U$不变、$\\Delta U=0$；\n- $W$，由公式$W=-\\int_{V_1}^{V_2}p_{\\mathrm{e}}\\mathrm{d}V$，且$p_e=p=\\dfrac{nRT}{V}$（可逆过程中环境压力始终近似于系统压力），所以$W=-nRT\\int_{V_1}^{V^2} \\dfrac{1}{V} \\mathrm{d}V=-nRT\\ln\\dfrac{V_2}{V_1}$；此外，若已知系统的始末压力，也可以将前式变换为$W=nRT\\dfrac{p_1}{p_2}$\n- $Q$，由热力学第一定律，$\\Delta U=W+Q$，得$Q=-W=nRT\\ln\\dfrac{V_2}{V_1}$；\n- $\\Delta H$，与$U$类似，为状态函数，$\\Delta H=0$；\n- $\\Delta S$，此过程已经为可逆过程，不必再设计可逆过程。因此$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；\n- $\\Delta G$，直接代入公式$\\Delta G=\\Delta H-\\Delta(TS)$，得$\\Delta G=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1}=W $；\n- $\\Delta A$，同$\\Delta G$，得到$\\Delta A=\\Delta G=W=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1} $。\n\n### 等压过程\n此过程满足 $\\dfrac{nRT}{V}=\\text{Constant}$\n\n- $\\Delta U$，此时$\\Delta U\\neq 0$，应用公式$\\Delta U=Q_{\\mathrm{V}}=nC_{\\mathrm{V,m}} (T_2 - T_1)=\\dfrac{p}{R}C_{\\mathrm{V,m}} (V_2-V_1)$计算。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R$。\n- $W​$，显然 $W=-\\int_{V_1}^{V_2}p_e\\mathrm{d}V=p(V_2 - V_1)​$；\n- $Q$，等压过程中的热交换量用$Q_\\mathrm{p}$表示，并且$Q_\\mathrm{p}=nC_\\mathrm{p,m}\\Delta T$或者使用$C_\\mathrm{p,m}=C_\\mathrm{V,m}+R$以及$Q=\\Delta U-W$求解。\n- $\\Delta H$，直接使用公式$\\Delta H = \\Delta U + \\Delta(pV) = nC_\\mathrm{P,m}(T_2-T_1)$\n- $\\Delta S$，等压过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{p,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{p,m}}{T}\\mathrm{d}T=nC_\\mathrm{p,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；\n- $\\Delta G$，直接代入式子$\\Delta G=\\Delta H-\\Delta(TS)$即可（题目会给出气体的标准摩尔熵，结合上面的$\\Delta S$可以使用$\\Delta (TS)=T_2 n(S_m+\\Delta S) - T_1 nS_m$求出$\\Delta G$）；\n- $\\Delta A$，同$\\Delta G$，直接代入$\\Delta A=\\Delta U-\\Delta (TS)$求解。\n\n### 等容过程\n此过程满足$\\dfrac{nRT}{p}=\\mathrm{Constant}$。\n\n- $\\Delta U$，与等压过程一样，直接使用公式$\\Delta U=Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R $；\n- $W$，因为体积无变化，$\\mathrm{d}V=0$，故$W=\\int_{V_1}^{V_2} p\\mathrm{d}V=0$；\n- $Q$，等容过程的热交换量也成为恒容热$Q_\\mathrm{V}$，$Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$；\n- $\\Delta H$，可以结合式子$pV=nRT$求出$\\Delta (pV)=nR\\Delta T$，最后代入$\\Delta H=\\Delta U-\\Delta (PV)$求出$\\Delta H$；\n- $\\Delta S$，等容过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{V,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{V,m}}{T}\\mathrm{d}T=\\Delta S=nC_\\mathrm{V,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；\n- $\\Delta G$，同等压过程，因为温度发生改变，必须知道$S$的初始值才能计算出$\\Delta (TS)$，所以题目会给出或间接给出$S$，此时直接代入公式$\\Delta  G=\\Delta H-\\Delta (TS)$即可求出吉布斯自由能的变化值；\n- $\\Delta A$，与$\\Delta G$类似，仅将$\\Delta H$替换为$\\Delta U$其余不变，即可计算出亥姆霍兹自由能的变化值。\n\n### 绝热可逆过程\n这是一个非常重要的过程，可逆，满足方程$pV^\\gamma=K=\\mathrm{Constant}$，式中$\\gamma=\\dfrac{C_\\mathrm{p,m}}{C_\\mathrm{V,m}}$，对于理想气体$\\gamma=\\dfrac{5}{3}$。\n\n- $\\Delta U$，由热力学第一定律，$\\Delta U=Q+W$，$Q=0$，故$\\Delta U=W=nC_\\mathrm{V,m}\\Delta T$；\n- $Q$，绝热过程定义直接表明$Q=0$；\n- $W​$，$W=-\\int_{V_1}^{V_2}p\\mathrm{d}V = -\\int_{V_1}^{V_2}\\dfrac{K}{V^\\gamma}\\mathrm{d}V = -\\big[ \\dfrac{K}{(1-\\gamma)V^{\\gamma-1}} \\big]_{V_1}^{V_2} = -\\dfrac{K}{1-\\gamma} \\big[ \\dfrac{1}{V_2^{\\gamma-1}} - \\dfrac{1}{V_1^{\\gamma-1}} \\big] $\n   因为$p_1 V_1^\\gamma = p_2 V_2^\\gamma = K$，上式写为$ W=\\dfrac{p_2 V_2- p_1 V_1}{\\gamma -1}=\\dfrac{nR(T_2 - T_1)}{\\gamma -1}  $，又因为$\\dfrac{nR}{C_V}=\\gamma-1$，所以$W=C_V(T_2 -T_1)$\n- $\\Delta H$，计算$\\Delta H$必须知道$\\Delta (pV)$，此时没有更加简单的办法，只能分别求出$p_1$，$V_1$，$p_2$，$V_2$然后计算出$p_2 V_2 - p_1 V_1$最后代入$\\Delta H=\\Delta U +p_2 V_2 - p_1 V_1$即可求出$\\Delta H$；\n- $\\Delta S$，该过程为绝热可逆过程，$\\delta Q_R=0$，故熵变为０，即$\\Delta S=0$；\n- $\\Delta G$，该过程为变温过程，故题目会直接或间接给出$S$的初始值，然后利用$\\Delta G=\\Delta H-\\Delta (TS)=\\Delta H-S\\Delta T$计算出$\\Delta G$即可；\n- $\\Delta A$，与$\\Delta G$类似，将$\\Delta G$中的$\\Delta H$换为$\\Delta U$即可。\n\n### 环状过程\n此过程没有具体的方程，但可以多个过程组成，系统最终状态与初始状态相同。\n\n- 由于系统初始状态与终末状态相同，故**系统**中所有状态函数的变化量为零，即$\\Delta U=\\Delta H=\\Delta S=\\Delta G=\\Delta A=0$，**注意，此式子描述的是系统的热力学量，而此系统与外界有能量交换，故为非孤立体系，熵变可以为０**。\n- $W$与$Q$，计算这两个热力学量时**不能**设计过程来求，只能按照过程的具体细节，分解成容易求出$W$和$Q$的过程分别计算出两者，然后求和。\n\n以上为本渣的总结，如有纰漏，还请大神指正。\n","source":"_posts/PhysChem-Revise-1.md","raw":"---\ntitle: 物理化学复习札记（一）：理想气体热力学量求解总结\ndate: 2017-06-26 17:07:41\ntags:\n    - 物理化学\n    - 化学\ncategories: Physical Chemistry\n---\n\n\n**这是这个系列的第一篇，也是第一次写这种类型的札记，如果有纰漏，还请在评论区指出，谢谢各位！**\n\n## 热力学量说明\n物理化学中，热力学主要研究7个热力学量，这7个量如下：\n\n1. $U$，系统的热力学能，或称内能，属于状态函数，$U=f(T)$，无法求出$U$的值，但可以求出$\\Delta U$的值，单位为J；\n2. $Q$，系统与环境交换的热量，当系统放热时，$Q$为负值；系统吸热，则$Q$为正值，单位为J；\n3. $W$，环境对系统所做的功，分为体积功和非体积功，单位为J；\n4. $H$，焓，定义为 $H=U+pV$，无实际含义，仅为计算方便而产生，属于状态函数，$H=f(T)$，与$U$一样，无法求出$H$的值，但可以求出$\\Delta H$的值，单位为J；\n5. $S$，大名鼎鼎的熵，定义为$S=\\int_A^B (\\dfrac{\\delta Q}{T})_R$，属于状态函数，处于绝对零度时完美晶体的熵为0，单位J$\\cdot $K$^{-1}$\n6. $A$，亥姆霍兹自由能，定义为$A=U-TS$，为状态函数，无法求出$A$的值，但可以求出$\\Delta A$的值，单位为J；\n7. $G$，吉布斯自由能，定义为$G=H-TS$，为状态函数，无法求出$G$的值，但可以求出$\\Delta G$的值，单位为J；\n\n以上说明中，状态函数是指当系统状态一定时，其值即确定，亦即在某个过程中其变化量$\\Delta f$只与始末状态有关，与过程细节无关。这个性质**非常重要**，物理化学常见的设计过程求解热力学量的理论基础即在于此。\n\n## 热力学四大定律\n\n是的，热力学有四大定律，分别为热力学第零定律、热力学第一定律、热力学第二定律和热力学第三定律。\n\n### 热力学第零定律\n**如果两个系统分别与处于确定状态的第三个系统达到热平衡，则这两个系统彼此也将处于热平衡。**\n\n这个定律定义了温度的概念，当两个系统相互接触处于热平衡后，它们的性质不再变化，我们称之具有相同的温度。而定义中提到的第三系统为温度计的产生奠定了理论基础。\n\n### 热力学第一定律\n**在变化过程中，系统的热力学能变化量表示为系统和环境的热交换量与外界对系统所做功的总和。**\n写成公式即为 $ \\Delta U = Q + W $，\n或者写成微分形式$ \\mathrm{d}U = \\delta Q + \\delta W $\n\n### 热力学第二定律\n\n文字可表述为：\n\n> 克劳修斯表述：不可能把热从低温物体传到高温物体，而不引起其他变化；\n> 开尔文表述：不可能从单一热源取出热使之完全变为功，而不发生其他变化。\n\n数学形式：\n\n- 克劳修斯不等式表述形式：$ \\Delta S_{A\\to B}-\\sum_A^B \\dfrac{\\delta Q}{T} \\geq 0 $\n- 常用表述形式：$ \\mathrm{d}S - \\dfrac{\\delta Q}{T} \\geq 0 $\n\n\n上式表明，在一个隔离系统中，熵永不减少。 隔离系统是绝热的，即$\\delta Q=0$，因此$\\mathrm{d}S_{\\mathrm{iso}} \\geq 0$。\n\n\n### 热力学第三定律\n可以表述为**在温度趋于热力学温度0K的等温过程中，系统的熵值不变 **，也可以表述为“**在0K时，任何完美晶体的熵等于零**”，还可以表述为”**绝对零度不可能达到**“。\n\n\n## 特殊过程的热力学量求值\n\n**本节所有过程均为$p$,$V$,$T$过程，不考虑非体积功！**\n\n常见的变化过程（均为理想气体的变化过程）有：\n1. 等温过程：系统由状态1变到状态2，变化过程中以及始态和终态的温度不变，**且等于环境温度**；\n2. 等压过程：系统在变化过程中，始态和终态压力相等，且等于环境压力；\n3. 等容过程：系统在变化过程中保持体积不变。在刚性容器中发生的变化一般是等容过程；\n4. 绝热过程：系统在变化过程中与环境之间没有热的交换，或者是由于有绝热壁的存在，或者是因为变化太快而与环境来不及热交换，或者热交换量极少可近似看作是绝热过程；\n5. 环状过程：系统从始态出发，经过一系列变化后又回到了原来状态。经此过程，所有状态函数的变化量都为零。\n\n另外，自由膨胀过程可以看为外压恒为0的等压膨胀过程；节流膨胀过程属于实际气体的不可逆过程，不在本札记讨论范围内。\n\n### 自由膨胀过程\n此过程不可逆，可看作外压恒为零的等压过程。\n\n- $\\Delta U=0$，由`Gay-Lussac-Joule`实验得出，而$U=f(T)$，故此过程中气体$T$不变；\n- $W=0$，显然，自由膨胀时外压恒为零，也无非体积功，故$W=0$；\n- $Q=0$，由热力学第一定律，$\\Delta U=Q+W$，式中$\\Delta U=0$，$W=0$，因此$Q=0$；\n- $\\Delta H=0$，$H$是状态函数，由上文气体$T$不变可以推出$H$不变。 另外也可由公式$\\Delta H=\\Delta U + \\Delta(pV)$，$pV=nRT$（n、T不变，所以$pV$不变）推出$\\Delta H=0$；\n- $\\Delta S>0$，显然该过程不可逆，其对应的可逆过程为等温可逆膨胀，计算得$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；\n- $\\Delta G<0​$，由公式$\\Delta G=\\Delta H-\\Delta (TS)​$，并且$\\Delta H=0​$、$T​$不变得出$\\Delta G=-T\\Delta S​$；\n- $\\Delta A<0$，与计算$\\Delta G$的过程类似，$\\Delta A=-T\\Delta S$。\n\n### 等温可逆过程\n此过程满足 $pV=nRT=\\mathrm{Constant}$。\n\n- $\\Delta U=0$，$U$为状态函数，等温过程系统温度不变，因此$U$不变、$\\Delta U=0$；\n- $W$，由公式$W=-\\int_{V_1}^{V_2}p_{\\mathrm{e}}\\mathrm{d}V$，且$p_e=p=\\dfrac{nRT}{V}$（可逆过程中环境压力始终近似于系统压力），所以$W=-nRT\\int_{V_1}^{V^2} \\dfrac{1}{V} \\mathrm{d}V=-nRT\\ln\\dfrac{V_2}{V_1}$；此外，若已知系统的始末压力，也可以将前式变换为$W=nRT\\dfrac{p_1}{p_2}$\n- $Q$，由热力学第一定律，$\\Delta U=W+Q$，得$Q=-W=nRT\\ln\\dfrac{V_2}{V_1}$；\n- $\\Delta H$，与$U$类似，为状态函数，$\\Delta H=0$；\n- $\\Delta S$，此过程已经为可逆过程，不必再设计可逆过程。因此$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；\n- $\\Delta G$，直接代入公式$\\Delta G=\\Delta H-\\Delta(TS)$，得$\\Delta G=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1}=W $；\n- $\\Delta A$，同$\\Delta G$，得到$\\Delta A=\\Delta G=W=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1} $。\n\n### 等压过程\n此过程满足 $\\dfrac{nRT}{V}=\\text{Constant}$\n\n- $\\Delta U$，此时$\\Delta U\\neq 0$，应用公式$\\Delta U=Q_{\\mathrm{V}}=nC_{\\mathrm{V,m}} (T_2 - T_1)=\\dfrac{p}{R}C_{\\mathrm{V,m}} (V_2-V_1)$计算。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R$。\n- $W​$，显然 $W=-\\int_{V_1}^{V_2}p_e\\mathrm{d}V=p(V_2 - V_1)​$；\n- $Q$，等压过程中的热交换量用$Q_\\mathrm{p}$表示，并且$Q_\\mathrm{p}=nC_\\mathrm{p,m}\\Delta T$或者使用$C_\\mathrm{p,m}=C_\\mathrm{V,m}+R$以及$Q=\\Delta U-W$求解。\n- $\\Delta H$，直接使用公式$\\Delta H = \\Delta U + \\Delta(pV) = nC_\\mathrm{P,m}(T_2-T_1)$\n- $\\Delta S$，等压过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{p,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{p,m}}{T}\\mathrm{d}T=nC_\\mathrm{p,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；\n- $\\Delta G$，直接代入式子$\\Delta G=\\Delta H-\\Delta(TS)$即可（题目会给出气体的标准摩尔熵，结合上面的$\\Delta S$可以使用$\\Delta (TS)=T_2 n(S_m+\\Delta S) - T_1 nS_m$求出$\\Delta G$）；\n- $\\Delta A$，同$\\Delta G$，直接代入$\\Delta A=\\Delta U-\\Delta (TS)$求解。\n\n### 等容过程\n此过程满足$\\dfrac{nRT}{p}=\\mathrm{Constant}$。\n\n- $\\Delta U$，与等压过程一样，直接使用公式$\\Delta U=Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R $；\n- $W$，因为体积无变化，$\\mathrm{d}V=0$，故$W=\\int_{V_1}^{V_2} p\\mathrm{d}V=0$；\n- $Q$，等容过程的热交换量也成为恒容热$Q_\\mathrm{V}$，$Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$；\n- $\\Delta H$，可以结合式子$pV=nRT$求出$\\Delta (pV)=nR\\Delta T$，最后代入$\\Delta H=\\Delta U-\\Delta (PV)$求出$\\Delta H$；\n- $\\Delta S$，等容过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{V,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{V,m}}{T}\\mathrm{d}T=\\Delta S=nC_\\mathrm{V,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；\n- $\\Delta G$，同等压过程，因为温度发生改变，必须知道$S$的初始值才能计算出$\\Delta (TS)$，所以题目会给出或间接给出$S$，此时直接代入公式$\\Delta  G=\\Delta H-\\Delta (TS)$即可求出吉布斯自由能的变化值；\n- $\\Delta A$，与$\\Delta G$类似，仅将$\\Delta H$替换为$\\Delta U$其余不变，即可计算出亥姆霍兹自由能的变化值。\n\n### 绝热可逆过程\n这是一个非常重要的过程，可逆，满足方程$pV^\\gamma=K=\\mathrm{Constant}$，式中$\\gamma=\\dfrac{C_\\mathrm{p,m}}{C_\\mathrm{V,m}}$，对于理想气体$\\gamma=\\dfrac{5}{3}$。\n\n- $\\Delta U$，由热力学第一定律，$\\Delta U=Q+W$，$Q=0$，故$\\Delta U=W=nC_\\mathrm{V,m}\\Delta T$；\n- $Q$，绝热过程定义直接表明$Q=0$；\n- $W​$，$W=-\\int_{V_1}^{V_2}p\\mathrm{d}V = -\\int_{V_1}^{V_2}\\dfrac{K}{V^\\gamma}\\mathrm{d}V = -\\big[ \\dfrac{K}{(1-\\gamma)V^{\\gamma-1}} \\big]_{V_1}^{V_2} = -\\dfrac{K}{1-\\gamma} \\big[ \\dfrac{1}{V_2^{\\gamma-1}} - \\dfrac{1}{V_1^{\\gamma-1}} \\big] $\n   因为$p_1 V_1^\\gamma = p_2 V_2^\\gamma = K$，上式写为$ W=\\dfrac{p_2 V_2- p_1 V_1}{\\gamma -1}=\\dfrac{nR(T_2 - T_1)}{\\gamma -1}  $，又因为$\\dfrac{nR}{C_V}=\\gamma-1$，所以$W=C_V(T_2 -T_1)$\n- $\\Delta H$，计算$\\Delta H$必须知道$\\Delta (pV)$，此时没有更加简单的办法，只能分别求出$p_1$，$V_1$，$p_2$，$V_2$然后计算出$p_2 V_2 - p_1 V_1$最后代入$\\Delta H=\\Delta U +p_2 V_2 - p_1 V_1$即可求出$\\Delta H$；\n- $\\Delta S$，该过程为绝热可逆过程，$\\delta Q_R=0$，故熵变为０，即$\\Delta S=0$；\n- $\\Delta G$，该过程为变温过程，故题目会直接或间接给出$S$的初始值，然后利用$\\Delta G=\\Delta H-\\Delta (TS)=\\Delta H-S\\Delta T$计算出$\\Delta G$即可；\n- $\\Delta A$，与$\\Delta G$类似，将$\\Delta G$中的$\\Delta H$换为$\\Delta U$即可。\n\n### 环状过程\n此过程没有具体的方程，但可以多个过程组成，系统最终状态与初始状态相同。\n\n- 由于系统初始状态与终末状态相同，故**系统**中所有状态函数的变化量为零，即$\\Delta U=\\Delta H=\\Delta S=\\Delta G=\\Delta A=0$，**注意，此式子描述的是系统的热力学量，而此系统与外界有能量交换，故为非孤立体系，熵变可以为０**。\n- $W$与$Q$，计算这两个热力学量时**不能**设计过程来求，只能按照过程的具体细节，分解成容易求出$W$和$Q$的过程分别计算出两者，然后求和。\n\n以上为本渣的总结，如有纰漏，还请大神指正。\n","slug":"PhysChem-Revise-1","published":1,"updated":"2017-09-21T14:09:47.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3sx8000eo1jm2m3uycw8","content":"<p><strong>这是这个系列的第一篇，也是第一次写这种类型的札记，如果有纰漏，还请在评论区指出，谢谢各位！</strong></p>\n<h2 id=\"热力学量说明\"><a href=\"#热力学量说明\" class=\"headerlink\" title=\"热力学量说明\"></a>热力学量说明</h2><p>物理化学中，热力学主要研究7个热力学量，这7个量如下：</p>\n<ol>\n<li>$U$，系统的热力学能，或称内能，属于状态函数，$U=f(T)$，无法求出$U$的值，但可以求出$\\Delta U$的值，单位为J；</li>\n<li>$Q$，系统与环境交换的热量，当系统放热时，$Q$为负值；系统吸热，则$Q$为正值，单位为J；</li>\n<li>$W$，环境对系统所做的功，分为体积功和非体积功，单位为J；</li>\n<li>$H$，焓，定义为 $H=U+pV$，无实际含义，仅为计算方便而产生，属于状态函数，$H=f(T)$，与$U$一样，无法求出$H$的值，但可以求出$\\Delta H$的值，单位为J；</li>\n<li>$S$，大名鼎鼎的熵，定义为$S=\\int_A^B (\\dfrac{\\delta Q}{T})_R$，属于状态函数，处于绝对零度时完美晶体的熵为0，单位J$\\cdot $K$^{-1}$</li>\n<li>$A$，亥姆霍兹自由能，定义为$A=U-TS$，为状态函数，无法求出$A$的值，但可以求出$\\Delta A$的值，单位为J；</li>\n<li>$G$，吉布斯自由能，定义为$G=H-TS$，为状态函数，无法求出$G$的值，但可以求出$\\Delta G$的值，单位为J；</li>\n</ol>\n<p>以上说明中，状态函数是指当系统状态一定时，其值即确定，亦即在某个过程中其变化量$\\Delta f$只与始末状态有关，与过程细节无关。这个性质<strong>非常重要</strong>，物理化学常见的设计过程求解热力学量的理论基础即在于此。</p>\n<h2 id=\"热力学四大定律\"><a href=\"#热力学四大定律\" class=\"headerlink\" title=\"热力学四大定律\"></a>热力学四大定律</h2><p>是的，热力学有四大定律，分别为热力学第零定律、热力学第一定律、热力学第二定律和热力学第三定律。</p>\n<h3 id=\"热力学第零定律\"><a href=\"#热力学第零定律\" class=\"headerlink\" title=\"热力学第零定律\"></a>热力学第零定律</h3><p><strong>如果两个系统分别与处于确定状态的第三个系统达到热平衡，则这两个系统彼此也将处于热平衡。</strong></p>\n<p>这个定律定义了温度的概念，当两个系统相互接触处于热平衡后，它们的性质不再变化，我们称之具有相同的温度。而定义中提到的第三系统为温度计的产生奠定了理论基础。</p>\n<h3 id=\"热力学第一定律\"><a href=\"#热力学第一定律\" class=\"headerlink\" title=\"热力学第一定律\"></a>热力学第一定律</h3><p><strong>在变化过程中，系统的热力学能变化量表示为系统和环境的热交换量与外界对系统所做功的总和。</strong><br>写成公式即为 $ \\Delta U = Q + W $，<br>或者写成微分形式$ \\mathrm{d}U = \\delta Q + \\delta W $</p>\n<h3 id=\"热力学第二定律\"><a href=\"#热力学第二定律\" class=\"headerlink\" title=\"热力学第二定律\"></a>热力学第二定律</h3><p>文字可表述为：</p>\n<blockquote>\n<p>克劳修斯表述：不可能把热从低温物体传到高温物体，而不引起其他变化；<br>开尔文表述：不可能从单一热源取出热使之完全变为功，而不发生其他变化。</p>\n</blockquote>\n<p>数学形式：</p>\n<ul>\n<li>克劳修斯不等式表述形式：$ \\Delta S_{A\\to B}-\\sum_A^B \\dfrac{\\delta Q}{T} \\geq 0 $</li>\n<li>常用表述形式：$ \\mathrm{d}S - \\dfrac{\\delta Q}{T} \\geq 0 $</li>\n</ul>\n<p>上式表明，在一个隔离系统中，熵永不减少。 隔离系统是绝热的，即$\\delta Q=0$，因此$\\mathrm{d}S_{\\mathrm{iso}} \\geq 0$。</p>\n<h3 id=\"热力学第三定律\"><a href=\"#热力学第三定律\" class=\"headerlink\" title=\"热力学第三定律\"></a>热力学第三定律</h3><p>可以表述为<strong>在温度趋于热力学温度0K的等温过程中，系统的熵值不变 </strong>，也可以表述为“<strong>在0K时，任何完美晶体的熵等于零</strong>”，还可以表述为”<strong>绝对零度不可能达到</strong>“。</p>\n<h2 id=\"特殊过程的热力学量求值\"><a href=\"#特殊过程的热力学量求值\" class=\"headerlink\" title=\"特殊过程的热力学量求值\"></a>特殊过程的热力学量求值</h2><p><strong>本节所有过程均为$p$,$V$,$T$过程，不考虑非体积功！</strong></p>\n<p>常见的变化过程（均为理想气体的变化过程）有：</p>\n<ol>\n<li>等温过程：系统由状态1变到状态2，变化过程中以及始态和终态的温度不变，<strong>且等于环境温度</strong>；</li>\n<li>等压过程：系统在变化过程中，始态和终态压力相等，且等于环境压力；</li>\n<li>等容过程：系统在变化过程中保持体积不变。在刚性容器中发生的变化一般是等容过程；</li>\n<li>绝热过程：系统在变化过程中与环境之间没有热的交换，或者是由于有绝热壁的存在，或者是因为变化太快而与环境来不及热交换，或者热交换量极少可近似看作是绝热过程；</li>\n<li>环状过程：系统从始态出发，经过一系列变化后又回到了原来状态。经此过程，所有状态函数的变化量都为零。</li>\n</ol>\n<p>另外，自由膨胀过程可以看为外压恒为0的等压膨胀过程；节流膨胀过程属于实际气体的不可逆过程，不在本札记讨论范围内。</p>\n<h3 id=\"自由膨胀过程\"><a href=\"#自由膨胀过程\" class=\"headerlink\" title=\"自由膨胀过程\"></a>自由膨胀过程</h3><p>此过程不可逆，可看作外压恒为零的等压过程。</p>\n<ul>\n<li>$\\Delta U=0$，由<code>Gay-Lussac-Joule</code>实验得出，而$U=f(T)$，故此过程中气体$T$不变；</li>\n<li>$W=0$，显然，自由膨胀时外压恒为零，也无非体积功，故$W=0$；</li>\n<li>$Q=0$，由热力学第一定律，$\\Delta U=Q+W$，式中$\\Delta U=0$，$W=0$，因此$Q=0$；</li>\n<li>$\\Delta H=0$，$H$是状态函数，由上文气体$T$不变可以推出$H$不变。 另外也可由公式$\\Delta H=\\Delta U + \\Delta(pV)$，$pV=nRT$（n、T不变，所以$pV$不变）推出$\\Delta H=0$；</li>\n<li>$\\Delta S&gt;0$，显然该过程不可逆，其对应的可逆过程为等温可逆膨胀，计算得$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；</li>\n<li>$\\Delta G&lt;0​$，由公式$\\Delta G=\\Delta H-\\Delta (TS)​$，并且$\\Delta H=0​$、$T​$不变得出$\\Delta G=-T\\Delta S​$；</li>\n<li>$\\Delta A&lt;0$，与计算$\\Delta G$的过程类似，$\\Delta A=-T\\Delta S$。</li>\n</ul>\n<h3 id=\"等温可逆过程\"><a href=\"#等温可逆过程\" class=\"headerlink\" title=\"等温可逆过程\"></a>等温可逆过程</h3><p>此过程满足 $pV=nRT=\\mathrm{Constant}$。</p>\n<ul>\n<li>$\\Delta U=0$，$U$为状态函数，等温过程系统温度不变，因此$U$不变、$\\Delta U=0$；</li>\n<li>$W$，由公式$W=-\\int_{V_1}^{V_2}p_{\\mathrm{e}}\\mathrm{d}V$，且$p_e=p=\\dfrac{nRT}{V}$（可逆过程中环境压力始终近似于系统压力），所以$W=-nRT\\int_{V_1}^{V^2} \\dfrac{1}{V} \\mathrm{d}V=-nRT\\ln\\dfrac{V_2}{V_1}$；此外，若已知系统的始末压力，也可以将前式变换为$W=nRT\\dfrac{p_1}{p_2}$</li>\n<li>$Q$，由热力学第一定律，$\\Delta U=W+Q$，得$Q=-W=nRT\\ln\\dfrac{V_2}{V_1}$；</li>\n<li>$\\Delta H$，与$U$类似，为状态函数，$\\Delta H=0$；</li>\n<li>$\\Delta S$，此过程已经为可逆过程，不必再设计可逆过程。因此$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；</li>\n<li>$\\Delta G$，直接代入公式$\\Delta G=\\Delta H-\\Delta(TS)$，得$\\Delta G=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1}=W $；</li>\n<li>$\\Delta A$，同$\\Delta G$，得到$\\Delta A=\\Delta G=W=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1} $。</li>\n</ul>\n<h3 id=\"等压过程\"><a href=\"#等压过程\" class=\"headerlink\" title=\"等压过程\"></a>等压过程</h3><p>此过程满足 $\\dfrac{nRT}{V}=\\text{Constant}$</p>\n<ul>\n<li>$\\Delta U$，此时$\\Delta U\\neq 0$，应用公式$\\Delta U=Q_{\\mathrm{V}}=nC_{\\mathrm{V,m}} (T_2 - T_1)=\\dfrac{p}{R}C_{\\mathrm{V,m}} (V_2-V_1)$计算。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R$。</li>\n<li>$W​$，显然 $W=-\\int_{V_1}^{V_2}p_e\\mathrm{d}V=p(V_2 - V_1)​$；</li>\n<li>$Q$，等压过程中的热交换量用$Q_\\mathrm{p}$表示，并且$Q_\\mathrm{p}=nC_\\mathrm{p,m}\\Delta T$或者使用$C_\\mathrm{p,m}=C_\\mathrm{V,m}+R$以及$Q=\\Delta U-W$求解。</li>\n<li>$\\Delta H$，直接使用公式$\\Delta H = \\Delta U + \\Delta(pV) = nC_\\mathrm{P,m}(T_2-T_1)$</li>\n<li>$\\Delta S$，等压过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{p,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{p,m}}{T}\\mathrm{d}T=nC_\\mathrm{p,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；</li>\n<li>$\\Delta G$，直接代入式子$\\Delta G=\\Delta H-\\Delta(TS)$即可（题目会给出气体的标准摩尔熵，结合上面的$\\Delta S$可以使用$\\Delta (TS)=T_2 n(S_m+\\Delta S) - T_1 nS_m$求出$\\Delta G$）；</li>\n<li>$\\Delta A$，同$\\Delta G$，直接代入$\\Delta A=\\Delta U-\\Delta (TS)$求解。</li>\n</ul>\n<h3 id=\"等容过程\"><a href=\"#等容过程\" class=\"headerlink\" title=\"等容过程\"></a>等容过程</h3><p>此过程满足$\\dfrac{nRT}{p}=\\mathrm{Constant}$。</p>\n<ul>\n<li>$\\Delta U$，与等压过程一样，直接使用公式$\\Delta U=Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R $；</li>\n<li>$W$，因为体积无变化，$\\mathrm{d}V=0$，故$W=\\int_{V_1}^{V_2} p\\mathrm{d}V=0$；</li>\n<li>$Q$，等容过程的热交换量也成为恒容热$Q_\\mathrm{V}$，$Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$；</li>\n<li>$\\Delta H$，可以结合式子$pV=nRT$求出$\\Delta (pV)=nR\\Delta T$，最后代入$\\Delta H=\\Delta U-\\Delta (PV)$求出$\\Delta H$；</li>\n<li>$\\Delta S$，等容过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{V,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{V,m}}{T}\\mathrm{d}T=\\Delta S=nC_\\mathrm{V,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；</li>\n<li>$\\Delta G$，同等压过程，因为温度发生改变，必须知道$S$的初始值才能计算出$\\Delta (TS)$，所以题目会给出或间接给出$S$，此时直接代入公式$\\Delta  G=\\Delta H-\\Delta (TS)$即可求出吉布斯自由能的变化值；</li>\n<li>$\\Delta A$，与$\\Delta G$类似，仅将$\\Delta H$替换为$\\Delta U$其余不变，即可计算出亥姆霍兹自由能的变化值。</li>\n</ul>\n<h3 id=\"绝热可逆过程\"><a href=\"#绝热可逆过程\" class=\"headerlink\" title=\"绝热可逆过程\"></a>绝热可逆过程</h3><p>这是一个非常重要的过程，可逆，满足方程$pV^\\gamma=K=\\mathrm{Constant}$，式中$\\gamma=\\dfrac{C_\\mathrm{p,m}}{C_\\mathrm{V,m}}$，对于理想气体$\\gamma=\\dfrac{5}{3}$。</p>\n<ul>\n<li>$\\Delta U$，由热力学第一定律，$\\Delta U=Q+W$，$Q=0$，故$\\Delta U=W=nC_\\mathrm{V,m}\\Delta T$；</li>\n<li>$Q$，绝热过程定义直接表明$Q=0$；</li>\n<li>$W​$，$W=-\\int_{V_1}^{V_2}p\\mathrm{d}V = -\\int_{V_1}^{V_2}\\dfrac{K}{V^\\gamma}\\mathrm{d}V = -\\big[ \\dfrac{K}{(1-\\gamma)V^{\\gamma-1}} \\big]_{V_1}^{V_2} = -\\dfrac{K}{1-\\gamma} \\big[ \\dfrac{1}{V_2^{\\gamma-1}} - \\dfrac{1}{V_1^{\\gamma-1}} \\big] $<br> 因为$p_1 V_1^\\gamma = p_2 V_2^\\gamma = K$，上式写为$ W=\\dfrac{p_2 V_2- p_1 V_1}{\\gamma -1}=\\dfrac{nR(T_2 - T_1)}{\\gamma -1}  $，又因为$\\dfrac{nR}{C_V}=\\gamma-1$，所以$W=C_V(T_2 -T_1)$</li>\n<li>$\\Delta H$，计算$\\Delta H$必须知道$\\Delta (pV)$，此时没有更加简单的办法，只能分别求出$p_1$，$V_1$，$p_2$，$V_2$然后计算出$p_2 V_2 - p_1 V_1$最后代入$\\Delta H=\\Delta U +p_2 V_2 - p_1 V_1$即可求出$\\Delta H$；</li>\n<li>$\\Delta S$，该过程为绝热可逆过程，$\\delta Q_R=0$，故熵变为０，即$\\Delta S=0$；</li>\n<li>$\\Delta G$，该过程为变温过程，故题目会直接或间接给出$S$的初始值，然后利用$\\Delta G=\\Delta H-\\Delta (TS)=\\Delta H-S\\Delta T$计算出$\\Delta G$即可；</li>\n<li>$\\Delta A$，与$\\Delta G$类似，将$\\Delta G$中的$\\Delta H$换为$\\Delta U$即可。</li>\n</ul>\n<h3 id=\"环状过程\"><a href=\"#环状过程\" class=\"headerlink\" title=\"环状过程\"></a>环状过程</h3><p>此过程没有具体的方程，但可以多个过程组成，系统最终状态与初始状态相同。</p>\n<ul>\n<li>由于系统初始状态与终末状态相同，故<strong>系统</strong>中所有状态函数的变化量为零，即$\\Delta U=\\Delta H=\\Delta S=\\Delta G=\\Delta A=0$，<strong>注意，此式子描述的是系统的热力学量，而此系统与外界有能量交换，故为非孤立体系，熵变可以为０</strong>。</li>\n<li>$W$与$Q$，计算这两个热力学量时<strong>不能</strong>设计过程来求，只能按照过程的具体细节，分解成容易求出$W$和$Q$的过程分别计算出两者，然后求和。</li>\n</ul>\n<p>以上为本渣的总结，如有纰漏，还请大神指正。</p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>这是这个系列的第一篇，也是第一次写这种类型的札记，如果有纰漏，还请在评论区指出，谢谢各位！</strong></p>\n<h2 id=\"热力学量说明\"><a href=\"#热力学量说明\" class=\"headerlink\" title=\"热力学量说明\"></a>热力学量说明</h2><p>物理化学中，热力学主要研究7个热力学量，这7个量如下：</p>\n<ol>\n<li>$U$，系统的热力学能，或称内能，属于状态函数，$U=f(T)$，无法求出$U$的值，但可以求出$\\Delta U$的值，单位为J；</li>\n<li>$Q$，系统与环境交换的热量，当系统放热时，$Q$为负值；系统吸热，则$Q$为正值，单位为J；</li>\n<li>$W$，环境对系统所做的功，分为体积功和非体积功，单位为J；</li>\n<li>$H$，焓，定义为 $H=U+pV$，无实际含义，仅为计算方便而产生，属于状态函数，$H=f(T)$，与$U$一样，无法求出$H$的值，但可以求出$\\Delta H$的值，单位为J；</li>\n<li>$S$，大名鼎鼎的熵，定义为$S=\\int_A^B (\\dfrac{\\delta Q}{T})_R$，属于状态函数，处于绝对零度时完美晶体的熵为0，单位J$\\cdot $K$^{-1}$</li>\n<li>$A$，亥姆霍兹自由能，定义为$A=U-TS$，为状态函数，无法求出$A$的值，但可以求出$\\Delta A$的值，单位为J；</li>\n<li>$G$，吉布斯自由能，定义为$G=H-TS$，为状态函数，无法求出$G$的值，但可以求出$\\Delta G$的值，单位为J；</li>\n</ol>\n<p>以上说明中，状态函数是指当系统状态一定时，其值即确定，亦即在某个过程中其变化量$\\Delta f$只与始末状态有关，与过程细节无关。这个性质<strong>非常重要</strong>，物理化学常见的设计过程求解热力学量的理论基础即在于此。</p>\n<h2 id=\"热力学四大定律\"><a href=\"#热力学四大定律\" class=\"headerlink\" title=\"热力学四大定律\"></a>热力学四大定律</h2><p>是的，热力学有四大定律，分别为热力学第零定律、热力学第一定律、热力学第二定律和热力学第三定律。</p>\n<h3 id=\"热力学第零定律\"><a href=\"#热力学第零定律\" class=\"headerlink\" title=\"热力学第零定律\"></a>热力学第零定律</h3><p><strong>如果两个系统分别与处于确定状态的第三个系统达到热平衡，则这两个系统彼此也将处于热平衡。</strong></p>\n<p>这个定律定义了温度的概念，当两个系统相互接触处于热平衡后，它们的性质不再变化，我们称之具有相同的温度。而定义中提到的第三系统为温度计的产生奠定了理论基础。</p>\n<h3 id=\"热力学第一定律\"><a href=\"#热力学第一定律\" class=\"headerlink\" title=\"热力学第一定律\"></a>热力学第一定律</h3><p><strong>在变化过程中，系统的热力学能变化量表示为系统和环境的热交换量与外界对系统所做功的总和。</strong><br>写成公式即为 $ \\Delta U = Q + W $，<br>或者写成微分形式$ \\mathrm{d}U = \\delta Q + \\delta W $</p>\n<h3 id=\"热力学第二定律\"><a href=\"#热力学第二定律\" class=\"headerlink\" title=\"热力学第二定律\"></a>热力学第二定律</h3><p>文字可表述为：</p>\n<blockquote>\n<p>克劳修斯表述：不可能把热从低温物体传到高温物体，而不引起其他变化；<br>开尔文表述：不可能从单一热源取出热使之完全变为功，而不发生其他变化。</p>\n</blockquote>\n<p>数学形式：</p>\n<ul>\n<li>克劳修斯不等式表述形式：$ \\Delta S_{A\\to B}-\\sum_A^B \\dfrac{\\delta Q}{T} \\geq 0 $</li>\n<li>常用表述形式：$ \\mathrm{d}S - \\dfrac{\\delta Q}{T} \\geq 0 $</li>\n</ul>\n<p>上式表明，在一个隔离系统中，熵永不减少。 隔离系统是绝热的，即$\\delta Q=0$，因此$\\mathrm{d}S_{\\mathrm{iso}} \\geq 0$。</p>\n<h3 id=\"热力学第三定律\"><a href=\"#热力学第三定律\" class=\"headerlink\" title=\"热力学第三定律\"></a>热力学第三定律</h3><p>可以表述为<strong>在温度趋于热力学温度0K的等温过程中，系统的熵值不变 </strong>，也可以表述为“<strong>在0K时，任何完美晶体的熵等于零</strong>”，还可以表述为”<strong>绝对零度不可能达到</strong>“。</p>\n<h2 id=\"特殊过程的热力学量求值\"><a href=\"#特殊过程的热力学量求值\" class=\"headerlink\" title=\"特殊过程的热力学量求值\"></a>特殊过程的热力学量求值</h2><p><strong>本节所有过程均为$p$,$V$,$T$过程，不考虑非体积功！</strong></p>\n<p>常见的变化过程（均为理想气体的变化过程）有：</p>\n<ol>\n<li>等温过程：系统由状态1变到状态2，变化过程中以及始态和终态的温度不变，<strong>且等于环境温度</strong>；</li>\n<li>等压过程：系统在变化过程中，始态和终态压力相等，且等于环境压力；</li>\n<li>等容过程：系统在变化过程中保持体积不变。在刚性容器中发生的变化一般是等容过程；</li>\n<li>绝热过程：系统在变化过程中与环境之间没有热的交换，或者是由于有绝热壁的存在，或者是因为变化太快而与环境来不及热交换，或者热交换量极少可近似看作是绝热过程；</li>\n<li>环状过程：系统从始态出发，经过一系列变化后又回到了原来状态。经此过程，所有状态函数的变化量都为零。</li>\n</ol>\n<p>另外，自由膨胀过程可以看为外压恒为0的等压膨胀过程；节流膨胀过程属于实际气体的不可逆过程，不在本札记讨论范围内。</p>\n<h3 id=\"自由膨胀过程\"><a href=\"#自由膨胀过程\" class=\"headerlink\" title=\"自由膨胀过程\"></a>自由膨胀过程</h3><p>此过程不可逆，可看作外压恒为零的等压过程。</p>\n<ul>\n<li>$\\Delta U=0$，由<code>Gay-Lussac-Joule</code>实验得出，而$U=f(T)$，故此过程中气体$T$不变；</li>\n<li>$W=0$，显然，自由膨胀时外压恒为零，也无非体积功，故$W=0$；</li>\n<li>$Q=0$，由热力学第一定律，$\\Delta U=Q+W$，式中$\\Delta U=0$，$W=0$，因此$Q=0$；</li>\n<li>$\\Delta H=0$，$H$是状态函数，由上文气体$T$不变可以推出$H$不变。 另外也可由公式$\\Delta H=\\Delta U + \\Delta(pV)$，$pV=nRT$（n、T不变，所以$pV$不变）推出$\\Delta H=0$；</li>\n<li>$\\Delta S&gt;0$，显然该过程不可逆，其对应的可逆过程为等温可逆膨胀，计算得$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；</li>\n<li>$\\Delta G&lt;0​$，由公式$\\Delta G=\\Delta H-\\Delta (TS)​$，并且$\\Delta H=0​$、$T​$不变得出$\\Delta G=-T\\Delta S​$；</li>\n<li>$\\Delta A&lt;0$，与计算$\\Delta G$的过程类似，$\\Delta A=-T\\Delta S$。</li>\n</ul>\n<h3 id=\"等温可逆过程\"><a href=\"#等温可逆过程\" class=\"headerlink\" title=\"等温可逆过程\"></a>等温可逆过程</h3><p>此过程满足 $pV=nRT=\\mathrm{Constant}$。</p>\n<ul>\n<li>$\\Delta U=0$，$U$为状态函数，等温过程系统温度不变，因此$U$不变、$\\Delta U=0$；</li>\n<li>$W$，由公式$W=-\\int_{V_1}^{V_2}p_{\\mathrm{e}}\\mathrm{d}V$，且$p_e=p=\\dfrac{nRT}{V}$（可逆过程中环境压力始终近似于系统压力），所以$W=-nRT\\int_{V_1}^{V^2} \\dfrac{1}{V} \\mathrm{d}V=-nRT\\ln\\dfrac{V_2}{V_1}$；此外，若已知系统的始末压力，也可以将前式变换为$W=nRT\\dfrac{p_1}{p_2}$</li>\n<li>$Q$，由热力学第一定律，$\\Delta U=W+Q$，得$Q=-W=nRT\\ln\\dfrac{V_2}{V_1}$；</li>\n<li>$\\Delta H$，与$U$类似，为状态函数，$\\Delta H=0$；</li>\n<li>$\\Delta S$，此过程已经为可逆过程，不必再设计可逆过程。因此$\\Delta S=\\int\\dfrac{\\delta Q}{T} = \\dfrac{Q}{T} = nR\\ln\\dfrac{V_2}{V_1} = -nR\\ln\\dfrac{p_2}{p_1}$；</li>\n<li>$\\Delta G$，直接代入公式$\\Delta G=\\Delta H-\\Delta(TS)$，得$\\Delta G=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1}=W $；</li>\n<li>$\\Delta A$，同$\\Delta G$，得到$\\Delta A=\\Delta G=W=-nRT\\ln\\dfrac{V_2}{V_1}=nRT\\ln\\dfrac{p_2}{p_1} $。</li>\n</ul>\n<h3 id=\"等压过程\"><a href=\"#等压过程\" class=\"headerlink\" title=\"等压过程\"></a>等压过程</h3><p>此过程满足 $\\dfrac{nRT}{V}=\\text{Constant}$</p>\n<ul>\n<li>$\\Delta U$，此时$\\Delta U\\neq 0$，应用公式$\\Delta U=Q_{\\mathrm{V}}=nC_{\\mathrm{V,m}} (T_2 - T_1)=\\dfrac{p}{R}C_{\\mathrm{V,m}} (V_2-V_1)$计算。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R$。</li>\n<li>$W​$，显然 $W=-\\int_{V_1}^{V_2}p_e\\mathrm{d}V=p(V_2 - V_1)​$；</li>\n<li>$Q$，等压过程中的热交换量用$Q_\\mathrm{p}$表示，并且$Q_\\mathrm{p}=nC_\\mathrm{p,m}\\Delta T$或者使用$C_\\mathrm{p,m}=C_\\mathrm{V,m}+R$以及$Q=\\Delta U-W$求解。</li>\n<li>$\\Delta H$，直接使用公式$\\Delta H = \\Delta U + \\Delta(pV) = nC_\\mathrm{P,m}(T_2-T_1)$</li>\n<li>$\\Delta S$，等压过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{p,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{p,m}}{T}\\mathrm{d}T=nC_\\mathrm{p,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；</li>\n<li>$\\Delta G$，直接代入式子$\\Delta G=\\Delta H-\\Delta(TS)$即可（题目会给出气体的标准摩尔熵，结合上面的$\\Delta S$可以使用$\\Delta (TS)=T_2 n(S_m+\\Delta S) - T_1 nS_m$求出$\\Delta G$）；</li>\n<li>$\\Delta A$，同$\\Delta G$，直接代入$\\Delta A=\\Delta U-\\Delta (TS)$求解。</li>\n</ul>\n<h3 id=\"等容过程\"><a href=\"#等容过程\" class=\"headerlink\" title=\"等容过程\"></a>等容过程</h3><p>此过程满足$\\dfrac{nRT}{p}=\\mathrm{Constant}$。</p>\n<ul>\n<li>$\\Delta U$，与等压过程一样，直接使用公式$\\Delta U=Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$。单原子分子理想气体的$C_\\mathrm{V,m}=\\dfrac{3}{2}R $；</li>\n<li>$W$，因为体积无变化，$\\mathrm{d}V=0$，故$W=\\int_{V_1}^{V_2} p\\mathrm{d}V=0$；</li>\n<li>$Q$，等容过程的热交换量也成为恒容热$Q_\\mathrm{V}$，$Q_\\mathrm{V}=nC_\\mathrm{V,m}\\Delta T$；</li>\n<li>$\\Delta H$，可以结合式子$pV=nRT$求出$\\Delta (pV)=nR\\Delta T$，最后代入$\\Delta H=\\Delta U-\\Delta (PV)$求出$\\Delta H$；</li>\n<li>$\\Delta S$，等容过程对应的可逆过程为物体的可逆加热或冷却，有$\\delta Q_R=C\\mathrm{d}T=nC_\\mathrm{V,m}\\mathrm{d}T$，因此，$\\Delta S = \\int_{T_A}^{T_B} \\dfrac{nC_\\mathrm{V,m}}{T}\\mathrm{d}T=\\Delta S=nC_\\mathrm{V,m}\\ln\\dfrac{T_{B}}{T_{A}} $，根据公式$pV=nRT$可以求出$T$，这里不再对式子进行展开；</li>\n<li>$\\Delta G$，同等压过程，因为温度发生改变，必须知道$S$的初始值才能计算出$\\Delta (TS)$，所以题目会给出或间接给出$S$，此时直接代入公式$\\Delta  G=\\Delta H-\\Delta (TS)$即可求出吉布斯自由能的变化值；</li>\n<li>$\\Delta A$，与$\\Delta G$类似，仅将$\\Delta H$替换为$\\Delta U$其余不变，即可计算出亥姆霍兹自由能的变化值。</li>\n</ul>\n<h3 id=\"绝热可逆过程\"><a href=\"#绝热可逆过程\" class=\"headerlink\" title=\"绝热可逆过程\"></a>绝热可逆过程</h3><p>这是一个非常重要的过程，可逆，满足方程$pV^\\gamma=K=\\mathrm{Constant}$，式中$\\gamma=\\dfrac{C_\\mathrm{p,m}}{C_\\mathrm{V,m}}$，对于理想气体$\\gamma=\\dfrac{5}{3}$。</p>\n<ul>\n<li>$\\Delta U$，由热力学第一定律，$\\Delta U=Q+W$，$Q=0$，故$\\Delta U=W=nC_\\mathrm{V,m}\\Delta T$；</li>\n<li>$Q$，绝热过程定义直接表明$Q=0$；</li>\n<li>$W​$，$W=-\\int_{V_1}^{V_2}p\\mathrm{d}V = -\\int_{V_1}^{V_2}\\dfrac{K}{V^\\gamma}\\mathrm{d}V = -\\big[ \\dfrac{K}{(1-\\gamma)V^{\\gamma-1}} \\big]_{V_1}^{V_2} = -\\dfrac{K}{1-\\gamma} \\big[ \\dfrac{1}{V_2^{\\gamma-1}} - \\dfrac{1}{V_1^{\\gamma-1}} \\big] $<br> 因为$p_1 V_1^\\gamma = p_2 V_2^\\gamma = K$，上式写为$ W=\\dfrac{p_2 V_2- p_1 V_1}{\\gamma -1}=\\dfrac{nR(T_2 - T_1)}{\\gamma -1}  $，又因为$\\dfrac{nR}{C_V}=\\gamma-1$，所以$W=C_V(T_2 -T_1)$</li>\n<li>$\\Delta H$，计算$\\Delta H$必须知道$\\Delta (pV)$，此时没有更加简单的办法，只能分别求出$p_1$，$V_1$，$p_2$，$V_2$然后计算出$p_2 V_2 - p_1 V_1$最后代入$\\Delta H=\\Delta U +p_2 V_2 - p_1 V_1$即可求出$\\Delta H$；</li>\n<li>$\\Delta S$，该过程为绝热可逆过程，$\\delta Q_R=0$，故熵变为０，即$\\Delta S=0$；</li>\n<li>$\\Delta G$，该过程为变温过程，故题目会直接或间接给出$S$的初始值，然后利用$\\Delta G=\\Delta H-\\Delta (TS)=\\Delta H-S\\Delta T$计算出$\\Delta G$即可；</li>\n<li>$\\Delta A$，与$\\Delta G$类似，将$\\Delta G$中的$\\Delta H$换为$\\Delta U$即可。</li>\n</ul>\n<h3 id=\"环状过程\"><a href=\"#环状过程\" class=\"headerlink\" title=\"环状过程\"></a>环状过程</h3><p>此过程没有具体的方程，但可以多个过程组成，系统最终状态与初始状态相同。</p>\n<ul>\n<li>由于系统初始状态与终末状态相同，故<strong>系统</strong>中所有状态函数的变化量为零，即$\\Delta U=\\Delta H=\\Delta S=\\Delta G=\\Delta A=0$，<strong>注意，此式子描述的是系统的热力学量，而此系统与外界有能量交换，故为非孤立体系，熵变可以为０</strong>。</li>\n<li>$W$与$Q$，计算这两个热力学量时<strong>不能</strong>设计过程来求，只能按照过程的具体细节，分解成容易求出$W$和$Q$的过程分别计算出两者，然后求和。</li>\n</ul>\n<p>以上为本渣的总结，如有纰漏，还请大神指正。</p>\n"},{"title":"量子力学学习手记（一）","date":"2017-06-30T13:28:24.000Z","_content":"\n# 简介\n1. 这篇手记仅为自己学习记录而写。\n2. 虽然题目提到量子力学，但内容与量子力学关系不大，事实是这篇文章提到的某些概念以及方法在以后学习中十分普遍，因此有必要将其归为量子力学学习手记。\n3. 就当这是在打数学基础好了。\n\n# 符号说明\n\n| 符号                                 | 说明，以下符号表示的量是在 *复数范围* 内讨论的                |\n| ---------------------------------- | ---------------------------------------- |\n| $\\mid i\\rangle$                    | ket，也称列向量                                |\n| $\\langle i\\mid$                    | bra，也称行向量                                |\n| $\\langle i\\mid  j \\rangle $        | inner product，求向量$\\langle i\\mid $与向量$\\mid j\\rangle$的内积 |\n| $\\mid  i \\rangle \\langle j \\mid  $ | outer product，求向量$\\mid i\\rangle$与向量$\\langle j\\mid $的外积 |\n| $\\mid i\\rangle ^\\dagger$           | transpose conjugate，共轭转置，即向量每个元素取共轭复数后整体转置，$\\mid i\\rangle ^\\dagger = \\langle i^*\\mid $ |\n| $\\Omega$, $\\Lambda$                | 算子，或称算符，由函数组成的矩阵                         |\n| $\\Omega^\\dagger$                   | 对 $\\Omega$ 取共轭转置                         |\n\n# 题目重现\n\n如图，两个振子组成一维耦合振子，两质点的质量均为$m$，所有弹簧劲度系数均为$k$，以右为正方向，两者位移分别为$x_1$、$x_2$。若两振子初始速度均为零，设两个振子在各自平衡位置时的位移为０，且初始位置未知，求这两个振子的位移-时间函数即$x_i(t)$。\n\n![耦合振子示意图](fig.svg)\n\n# 题解\n\n​\t对两个振子分别分析，不妨设左边振子为1号，右边振子为2号。\n\n​\t对1号振子做受力分析：\n\n$$\nm \\frac{\\mathrm{d}^2 x_1}{\\mathrm{d}t^2} = k(x_2 - x_1) - k{x_1}\n$$\n​\t即\n\n$$\nm\\ddot{x_1} = -2kx_1+kx_2 \\notag\n$$\n\n​\t同理，2号振子满足\n$$\nm\\ddot{x_2} = k{x_1} - 2kx_2  \\notag\n$$\n​\t问题化简为求微分方程组\n$$\n\\begin{cases}\n\t\\ddot{x_1} = -\\frac{2k}{m}x_1 + \\frac{k}{m}x_2\\\\\n\t\\ddot{x_2} = \\frac{k}{m}x_1 - \\frac{2k}{m}x_2\n\\end{cases}\n$$\n​\t的解，写成矩阵形式即为\n$$\n\\begin{bmatrix}\n\t\\ddot{x_1}\\\\\n\t\\ddot{x_2}\n\\end{bmatrix} = \\begin{bmatrix}\n\t\\frac{-2k}{m} & \\frac{k}{m}\\\\\n\t\\frac{k}{m} & \\frac{-2k}{m}\n\\end{bmatrix} \\begin{bmatrix}\n\tx_1\\\\\n\tx_2\n\\end{bmatrix}\n$$\n​\t现令$\\Omega=\\begin{bmatrix} \\frac{-2k}{m} & \\frac{k}{m}\\\\  \\frac{k}{m} & \\frac{-2k}{m} \\end{bmatrix} $\n\n​\t观察到 $\\Omega$ 为Hermitian矩阵（$\\Omega^\\dagger = \\Omega$，共轭转置后不变），\n\n​\t故设$\\mid\\mathrm{I}\\rangle $和$\\mid\\mathrm{II}\\rangle $分别为$\\Omega$的两个本征矢（也叫特征向量）\n\n​\t有\n$$\n\\begin{cases}\n\t\\Omega \\mid \\mathrm{I} \\rangle = -\\omega_\\mathrm{I}^2 \\mid \\mathrm{I}\\rangle\\\\\n\t\\Omega \\mid \\mathrm{II} \\rangle = -\\omega_\\mathrm{II}^2 \\mid \\mathrm{II}\\rangle\n\\end{cases}\n$$\n​\t这里$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别表示$\\Omega$的两个本征值，因计算结果表示方便，这里用$-\\omega_i^2$表示，而不是$\\omega_i$。\n\n​\t求出$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别为$\\frac{k}{m} \\mp \\frac{2k}{m}$。不妨设$-\\omega_\\mathrm{I}^2＝-\\frac{k}{m}$，$-\\omega_\\mathrm{II}^2＝-\\frac{3k}{m}$。\n\n​\t已知本征值，可以求出本征矢为\n$$\n\\begin{cases}\n\t\\mid \\mathrm{I}\\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix} & \\omega_\\mathrm{I}=\\sqrt{\\frac{k}{m}} \\\\\n\t\\mid \\mathrm{II} \\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ -1 \\end{bmatrix}  & \\omega_\\mathrm{II}=\\sqrt{\\frac{3k}{m}}\n \\end{cases}\n$$\n\n​\t可以看出$\\mid \\mathrm{I} \\rangle$与$\\mid \\mathrm{II}\\rangle$相互正交（内积为０）。\n\n​\t因此$x(t)= \\mid \\mathrm{I}\\rangle x_1(t) +\\mid \\mathrm{II}\\rangle x_2(t)$。\n\n​\t到这里，上面的步骤相当于对空间基矢进行了变换，原先的基矢为\n$x_1(t)$对应$\\mid 1 \\rangle = \\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}$，$x_2(t)$对应$\\mid 2 \\rangle = \\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix}$，现变换为$x_\\mathrm{I}$对应$\\mid \\mathrm{I} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}$，$x_\\mathrm{II}$对应$\\mid \\mathrm{II} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ -1 \\end{bmatrix}$。这样做有什么好处呢？好处马上就会呈现。\n\n​\t此时$\\Omega$可以对角化为\n$$\n\\Omega = \n\\begin{bmatrix}\n\t-\\omega_\\mathrm{I}^2 & 0 \\\\\n\t0 & -\\omega_\\mathrm{II}^2\n\\end{bmatrix}\n$$\n\n​\t故原方程式可以化为\n\n$$\n\\begin{bmatrix}\n\t\\ddot{x_\\mathrm{I}} \\\\\n\t\\ddot{x_\\mathrm{II}}\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n\t-\\omega_\\mathrm{I}^2 & 0 \\\\\n\t0 & -\\omega_\\mathrm{II}^2\n\\end{bmatrix}\n\\begin{bmatrix}\n\tx_\\mathrm{I} \\\\\n\tx_\\mathrm{II}\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n\t-\\omega_\\mathrm{I}^2 x_\\mathrm{I} \\\\\n\t-\\omega_\\mathrm{II}^2 x_\\mathrm{II}\n\\end{bmatrix}\n$$\n\n​\t此时分别解$\\ddot{x_\\mathrm{I}}$与$\\ddot{x_\\mathrm{II}}$（两个二阶线性微分方程$\\ddot{x_i} + \\omega_i^2 x_i = 0$，并且$\\dot{x_i}$=0），即可得到$x_i (t),\\quad i=\\mathrm{I,II}$的解，解为\n$$\nx_i(t) = x_i(0) \\cos\\omega_i t, \\quad i=\\mathrm{I,II}\n$$\n\n​\t此时我们离胜利已经很近了——已经得到\t\n$$\n\\begin{aligned}\n\t\\mid x(t) \\rangle & = \\mid \\mathrm{I} \\rangle x_\\mathrm{I}(0)\\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II} \\rangle x_\\mathrm{II}(0)\\cos\\omega_\\mathrm{II}t \\\\\n\t& = \\mid \\mathrm{I}\\rangle\\langle\\mathrm{I}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II}\\rangle\\langle\\mathrm{II}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{II}t \n\\end{aligned}\n$$\n\n​\t式中\n$$\n\\begin{aligned}\n\t\\langle \\mathrm{I} \\mid x(0) \\rangle &= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 & 1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\\\ x_2(0) \\end{bmatrix} = \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} \\\\\n\t\\langle \\mathrm{II} \\mid x(0) \\rangle &= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1& -1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\\\ x_2(0) \\end{bmatrix} = \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}\n\\end{aligned}\n$$\n\n​\t$\\therefore \\mid x(t)\\rangle = \\mid \\mathrm{I}\\rangle \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} + \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}$\n\n​\t我们需要将$\\mid \\mathrm{I}\\rangle$和$\\mid \\mathrm{II}\\rangle$还原为$\\mid 1\\rangle$和$\\mid 2\\rangle$，这个操作可以通过投影 `projection` 来实现：\n$$\n\\begin{aligned}\n\tx_1(t) =& \\langle 1 \\mid x(t)\\rangle \\\\\n\t\t=& \\langle 1 \\mid \\mathrm{I}\\rangle \\frac{x_1(0) + x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{I}t + \\langle 1 \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{II}t \\\\\n\t\t=& \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)\n\\end{aligned}\n$$\n​\t同理\n$$\nx_2(t)= \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)\n$$\n​\t写成矩阵形式即为\n$$\n\\begin{bmatrix} x_1(t) \\\\ x_2(t)  \\end{bmatrix}\n=\n\\begin{bmatrix}\n\t\\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} & \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} \\\\\n\t\\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} & \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2}\n\\end{bmatrix}\n\\begin{bmatrix} x_1(0) \\\\ x_2(0) \\end{bmatrix}\n$$\n​\t此时，只要给出$\\mid x(0)\\rangle$即可得到整个耦合振子系统的运动方程。结束战斗。\n\n\n\n# 收获总结\n\n​\t在Shankar上看到这道题的题解时，起初是不怎么明白的，直到在写这篇手记的过程中，我才体会到这样解的用意：\n\n1. 这是一个耦合系统，即两个微分方程分别含有对方的变量。\n2. 求出$\\mid \\mathrm{I}\\rangle$与$\\mid \\mathrm{II}\\rangle$的过程就是在对原有的线性空间基矢（或称基底）做变换，变换的目的是为了将微分方程组转化为非耦合的方程组。这里，个人以为，说的通俗一些，就是换元——在高等数学的某些求解不定积分时也会用到这种方法。\n3. 求算子$\\Omega$的本征值就是为了将其对角化（对角化后只有对角线上元素不为零），做矩阵乘法运算就可以得到非耦合的方程组，然后问题就变成了熟悉的二阶线性微分方程，之后求解需要用到欧拉公式，这里不赘述。\n4. 用矩阵表示大块方程组真的很方便！\n5. Ti$k$Z很好用！\n\n虽然说上面的题解基本是翻译过来的，但也是有一些收获的，权当 `拾人牙慧吧` 。\n","source":"_posts/Quantum-Physics-Learning-Log-1.md","raw":"---\ntitle: 量子力学学习手记（一）\ndate: 2017-06-30 21:28:24\ntags:\n   - 量子力学\n   - 线性代数\n   - 数学基础\ncategories: Quantum Mechanics\n---\n\n# 简介\n1. 这篇手记仅为自己学习记录而写。\n2. 虽然题目提到量子力学，但内容与量子力学关系不大，事实是这篇文章提到的某些概念以及方法在以后学习中十分普遍，因此有必要将其归为量子力学学习手记。\n3. 就当这是在打数学基础好了。\n\n# 符号说明\n\n| 符号                                 | 说明，以下符号表示的量是在 *复数范围* 内讨论的                |\n| ---------------------------------- | ---------------------------------------- |\n| $\\mid i\\rangle$                    | ket，也称列向量                                |\n| $\\langle i\\mid$                    | bra，也称行向量                                |\n| $\\langle i\\mid  j \\rangle $        | inner product，求向量$\\langle i\\mid $与向量$\\mid j\\rangle$的内积 |\n| $\\mid  i \\rangle \\langle j \\mid  $ | outer product，求向量$\\mid i\\rangle$与向量$\\langle j\\mid $的外积 |\n| $\\mid i\\rangle ^\\dagger$           | transpose conjugate，共轭转置，即向量每个元素取共轭复数后整体转置，$\\mid i\\rangle ^\\dagger = \\langle i^*\\mid $ |\n| $\\Omega$, $\\Lambda$                | 算子，或称算符，由函数组成的矩阵                         |\n| $\\Omega^\\dagger$                   | 对 $\\Omega$ 取共轭转置                         |\n\n# 题目重现\n\n如图，两个振子组成一维耦合振子，两质点的质量均为$m$，所有弹簧劲度系数均为$k$，以右为正方向，两者位移分别为$x_1$、$x_2$。若两振子初始速度均为零，设两个振子在各自平衡位置时的位移为０，且初始位置未知，求这两个振子的位移-时间函数即$x_i(t)$。\n\n![耦合振子示意图](fig.svg)\n\n# 题解\n\n​\t对两个振子分别分析，不妨设左边振子为1号，右边振子为2号。\n\n​\t对1号振子做受力分析：\n\n$$\nm \\frac{\\mathrm{d}^2 x_1}{\\mathrm{d}t^2} = k(x_2 - x_1) - k{x_1}\n$$\n​\t即\n\n$$\nm\\ddot{x_1} = -2kx_1+kx_2 \\notag\n$$\n\n​\t同理，2号振子满足\n$$\nm\\ddot{x_2} = k{x_1} - 2kx_2  \\notag\n$$\n​\t问题化简为求微分方程组\n$$\n\\begin{cases}\n\t\\ddot{x_1} = -\\frac{2k}{m}x_1 + \\frac{k}{m}x_2\\\\\n\t\\ddot{x_2} = \\frac{k}{m}x_1 - \\frac{2k}{m}x_2\n\\end{cases}\n$$\n​\t的解，写成矩阵形式即为\n$$\n\\begin{bmatrix}\n\t\\ddot{x_1}\\\\\n\t\\ddot{x_2}\n\\end{bmatrix} = \\begin{bmatrix}\n\t\\frac{-2k}{m} & \\frac{k}{m}\\\\\n\t\\frac{k}{m} & \\frac{-2k}{m}\n\\end{bmatrix} \\begin{bmatrix}\n\tx_1\\\\\n\tx_2\n\\end{bmatrix}\n$$\n​\t现令$\\Omega=\\begin{bmatrix} \\frac{-2k}{m} & \\frac{k}{m}\\\\  \\frac{k}{m} & \\frac{-2k}{m} \\end{bmatrix} $\n\n​\t观察到 $\\Omega$ 为Hermitian矩阵（$\\Omega^\\dagger = \\Omega$，共轭转置后不变），\n\n​\t故设$\\mid\\mathrm{I}\\rangle $和$\\mid\\mathrm{II}\\rangle $分别为$\\Omega$的两个本征矢（也叫特征向量）\n\n​\t有\n$$\n\\begin{cases}\n\t\\Omega \\mid \\mathrm{I} \\rangle = -\\omega_\\mathrm{I}^2 \\mid \\mathrm{I}\\rangle\\\\\n\t\\Omega \\mid \\mathrm{II} \\rangle = -\\omega_\\mathrm{II}^2 \\mid \\mathrm{II}\\rangle\n\\end{cases}\n$$\n​\t这里$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别表示$\\Omega$的两个本征值，因计算结果表示方便，这里用$-\\omega_i^2$表示，而不是$\\omega_i$。\n\n​\t求出$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别为$\\frac{k}{m} \\mp \\frac{2k}{m}$。不妨设$-\\omega_\\mathrm{I}^2＝-\\frac{k}{m}$，$-\\omega_\\mathrm{II}^2＝-\\frac{3k}{m}$。\n\n​\t已知本征值，可以求出本征矢为\n$$\n\\begin{cases}\n\t\\mid \\mathrm{I}\\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix} & \\omega_\\mathrm{I}=\\sqrt{\\frac{k}{m}} \\\\\n\t\\mid \\mathrm{II} \\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ -1 \\end{bmatrix}  & \\omega_\\mathrm{II}=\\sqrt{\\frac{3k}{m}}\n \\end{cases}\n$$\n\n​\t可以看出$\\mid \\mathrm{I} \\rangle$与$\\mid \\mathrm{II}\\rangle$相互正交（内积为０）。\n\n​\t因此$x(t)= \\mid \\mathrm{I}\\rangle x_1(t) +\\mid \\mathrm{II}\\rangle x_2(t)$。\n\n​\t到这里，上面的步骤相当于对空间基矢进行了变换，原先的基矢为\n$x_1(t)$对应$\\mid 1 \\rangle = \\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}$，$x_2(t)$对应$\\mid 2 \\rangle = \\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix}$，现变换为$x_\\mathrm{I}$对应$\\mid \\mathrm{I} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}$，$x_\\mathrm{II}$对应$\\mid \\mathrm{II} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\\\ -1 \\end{bmatrix}$。这样做有什么好处呢？好处马上就会呈现。\n\n​\t此时$\\Omega$可以对角化为\n$$\n\\Omega = \n\\begin{bmatrix}\n\t-\\omega_\\mathrm{I}^2 & 0 \\\\\n\t0 & -\\omega_\\mathrm{II}^2\n\\end{bmatrix}\n$$\n\n​\t故原方程式可以化为\n\n$$\n\\begin{bmatrix}\n\t\\ddot{x_\\mathrm{I}} \\\\\n\t\\ddot{x_\\mathrm{II}}\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n\t-\\omega_\\mathrm{I}^2 & 0 \\\\\n\t0 & -\\omega_\\mathrm{II}^2\n\\end{bmatrix}\n\\begin{bmatrix}\n\tx_\\mathrm{I} \\\\\n\tx_\\mathrm{II}\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n\t-\\omega_\\mathrm{I}^2 x_\\mathrm{I} \\\\\n\t-\\omega_\\mathrm{II}^2 x_\\mathrm{II}\n\\end{bmatrix}\n$$\n\n​\t此时分别解$\\ddot{x_\\mathrm{I}}$与$\\ddot{x_\\mathrm{II}}$（两个二阶线性微分方程$\\ddot{x_i} + \\omega_i^2 x_i = 0$，并且$\\dot{x_i}$=0），即可得到$x_i (t),\\quad i=\\mathrm{I,II}$的解，解为\n$$\nx_i(t) = x_i(0) \\cos\\omega_i t, \\quad i=\\mathrm{I,II}\n$$\n\n​\t此时我们离胜利已经很近了——已经得到\t\n$$\n\\begin{aligned}\n\t\\mid x(t) \\rangle & = \\mid \\mathrm{I} \\rangle x_\\mathrm{I}(0)\\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II} \\rangle x_\\mathrm{II}(0)\\cos\\omega_\\mathrm{II}t \\\\\n\t& = \\mid \\mathrm{I}\\rangle\\langle\\mathrm{I}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II}\\rangle\\langle\\mathrm{II}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{II}t \n\\end{aligned}\n$$\n\n​\t式中\n$$\n\\begin{aligned}\n\t\\langle \\mathrm{I} \\mid x(0) \\rangle &= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 & 1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\\\ x_2(0) \\end{bmatrix} = \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} \\\\\n\t\\langle \\mathrm{II} \\mid x(0) \\rangle &= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1& -1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\\\ x_2(0) \\end{bmatrix} = \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}\n\\end{aligned}\n$$\n\n​\t$\\therefore \\mid x(t)\\rangle = \\mid \\mathrm{I}\\rangle \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} + \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}$\n\n​\t我们需要将$\\mid \\mathrm{I}\\rangle$和$\\mid \\mathrm{II}\\rangle$还原为$\\mid 1\\rangle$和$\\mid 2\\rangle$，这个操作可以通过投影 `projection` 来实现：\n$$\n\\begin{aligned}\n\tx_1(t) =& \\langle 1 \\mid x(t)\\rangle \\\\\n\t\t=& \\langle 1 \\mid \\mathrm{I}\\rangle \\frac{x_1(0) + x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{I}t + \\langle 1 \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{II}t \\\\\n\t\t=& \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)\n\\end{aligned}\n$$\n​\t同理\n$$\nx_2(t)= \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)\n$$\n​\t写成矩阵形式即为\n$$\n\\begin{bmatrix} x_1(t) \\\\ x_2(t)  \\end{bmatrix}\n=\n\\begin{bmatrix}\n\t\\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} & \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} \\\\\n\t\\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} & \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2}\n\\end{bmatrix}\n\\begin{bmatrix} x_1(0) \\\\ x_2(0) \\end{bmatrix}\n$$\n​\t此时，只要给出$\\mid x(0)\\rangle$即可得到整个耦合振子系统的运动方程。结束战斗。\n\n\n\n# 收获总结\n\n​\t在Shankar上看到这道题的题解时，起初是不怎么明白的，直到在写这篇手记的过程中，我才体会到这样解的用意：\n\n1. 这是一个耦合系统，即两个微分方程分别含有对方的变量。\n2. 求出$\\mid \\mathrm{I}\\rangle$与$\\mid \\mathrm{II}\\rangle$的过程就是在对原有的线性空间基矢（或称基底）做变换，变换的目的是为了将微分方程组转化为非耦合的方程组。这里，个人以为，说的通俗一些，就是换元——在高等数学的某些求解不定积分时也会用到这种方法。\n3. 求算子$\\Omega$的本征值就是为了将其对角化（对角化后只有对角线上元素不为零），做矩阵乘法运算就可以得到非耦合的方程组，然后问题就变成了熟悉的二阶线性微分方程，之后求解需要用到欧拉公式，这里不赘述。\n4. 用矩阵表示大块方程组真的很方便！\n5. Ti$k$Z很好用！\n\n虽然说上面的题解基本是翻译过来的，但也是有一些收获的，权当 `拾人牙慧吧` 。\n","slug":"Quantum-Physics-Learning-Log-1","published":1,"updated":"2017-09-22T05:44:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3sxa000io1jmp1goi8oh","content":"<h1 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h1><ol>\n<li>这篇手记仅为自己学习记录而写。</li>\n<li>虽然题目提到量子力学，但内容与量子力学关系不大，事实是这篇文章提到的某些概念以及方法在以后学习中十分普遍，因此有必要将其归为量子力学学习手记。</li>\n<li>就当这是在打数学基础好了。</li>\n</ol>\n<h1 id=\"符号说明\"><a href=\"#符号说明\" class=\"headerlink\" title=\"符号说明\"></a>符号说明</h1><table>\n<thead>\n<tr>\n<th>符号</th>\n<th>说明，以下符号表示的量是在 <em>复数范围</em> 内讨论的</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$\\mid i\\rangle$</td>\n<td>ket，也称列向量</td>\n</tr>\n<tr>\n<td>$\\langle i\\mid$</td>\n<td>bra，也称行向量</td>\n</tr>\n<tr>\n<td>$\\langle i\\mid  j \\rangle $</td>\n<td>inner product，求向量$\\langle i\\mid $与向量$\\mid j\\rangle$的内积</td>\n</tr>\n<tr>\n<td>$\\mid  i \\rangle \\langle j \\mid  $</td>\n<td>outer product，求向量$\\mid i\\rangle$与向量$\\langle j\\mid $的外积</td>\n</tr>\n<tr>\n<td>$\\mid i\\rangle ^\\dagger$</td>\n<td>transpose conjugate，共轭转置，即向量每个元素取共轭复数后整体转置，$\\mid i\\rangle ^\\dagger = \\langle i^*\\mid $</td>\n</tr>\n<tr>\n<td>$\\Omega$, $\\Lambda$</td>\n<td>算子，或称算符，由函数组成的矩阵</td>\n</tr>\n<tr>\n<td>$\\Omega^\\dagger$</td>\n<td>对 $\\Omega$ 取共轭转置</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"题目重现\"><a href=\"#题目重现\" class=\"headerlink\" title=\"题目重现\"></a>题目重现</h1><p>如图，两个振子组成一维耦合振子，两质点的质量均为$m$，所有弹簧劲度系数均为$k$，以右为正方向，两者位移分别为$x_1$、$x_2$。若两振子初始速度均为零，设两个振子在各自平衡位置时的位移为０，且初始位置未知，求这两个振子的位移-时间函数即$x_i(t)$。</p>\n<p><img src=\"fig.svg\" alt=\"耦合振子示意图\"></p>\n<h1 id=\"题解\"><a href=\"#题解\" class=\"headerlink\" title=\"题解\"></a>题解</h1><p>​    对两个振子分别分析，不妨设左边振子为1号，右边振子为2号。</p>\n<p>​    对1号振子做受力分析：</p>\n<p>$$<br>m \\frac{\\mathrm{d}^2 x_1}{\\mathrm{d}t^2} = k(x_2 - x_1) - k{x_1}<br>$$<br>​    即</p>\n<p>$$<br>m\\ddot{x_1} = -2kx_1+kx_2 \\notag<br>$$</p>\n<p>​    同理，2号振子满足<br>$$<br>m\\ddot{x_2} = k{x_1} - 2kx_2  \\notag<br>$$<br>​    问题化简为求微分方程组<br>$$<br>\\begin{cases}<br>    \\ddot{x_1} = -\\frac{2k}{m}x_1 + \\frac{k}{m}x_2\\\\<br>    \\ddot{x_2} = \\frac{k}{m}x_1 - \\frac{2k}{m}x_2<br>\\end{cases}<br>$$<br>​    的解，写成矩阵形式即为<br>$$<br>\\begin{bmatrix}<br>    \\ddot{x_1}\\\\<br>    \\ddot{x_2}<br>\\end{bmatrix} = \\begin{bmatrix}<br>    \\frac{-2k}{m} &amp; \\frac{k}{m}\\\\<br>    \\frac{k}{m} &amp; \\frac{-2k}{m}<br>\\end{bmatrix} \\begin{bmatrix}<br>    x_1\\\\<br>    x_2<br>\\end{bmatrix}<br>$$<br>​    现令$\\Omega=\\begin{bmatrix} \\frac{-2k}{m} &amp; \\frac{k}{m}\\  \\frac{k}{m} &amp; \\frac{-2k}{m} \\end{bmatrix} $</p>\n<p>​    观察到 $\\Omega$ 为Hermitian矩阵（$\\Omega^\\dagger = \\Omega$，共轭转置后不变），</p>\n<p>​    故设$\\mid\\mathrm{I}\\rangle $和$\\mid\\mathrm{II}\\rangle $分别为$\\Omega$的两个本征矢（也叫特征向量）</p>\n<p>​    有<br>$$<br>\\begin{cases}<br>    \\Omega \\mid \\mathrm{I} \\rangle = -\\omega_\\mathrm{I}^2 \\mid \\mathrm{I}\\rangle\\\\<br>    \\Omega \\mid \\mathrm{II} \\rangle = -\\omega_\\mathrm{II}^2 \\mid \\mathrm{II}\\rangle<br>\\end{cases}<br>$$<br>​    这里$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别表示$\\Omega$的两个本征值，因计算结果表示方便，这里用$-\\omega_i^2$表示，而不是$\\omega_i$。</p>\n<p>​    求出$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别为$\\frac{k}{m} \\mp \\frac{2k}{m}$。不妨设$-\\omega_\\mathrm{I}^2＝-\\frac{k}{m}$，$-\\omega_\\mathrm{II}^2＝-\\frac{3k}{m}$。</p>\n<p>​    已知本征值，可以求出本征矢为<br>$$<br>\\begin{cases}<br>    \\mid \\mathrm{I}\\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ 1 \\end{bmatrix} &amp; \\omega_\\mathrm{I}=\\sqrt{\\frac{k}{m}} \\\\<br>    \\mid \\mathrm{II} \\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ -1 \\end{bmatrix}  &amp; \\omega_\\mathrm{II}=\\sqrt{\\frac{3k}{m}}<br> \\end{cases}<br>$$</p>\n<p>​    可以看出$\\mid \\mathrm{I} \\rangle$与$\\mid \\mathrm{II}\\rangle$相互正交（内积为０）。</p>\n<p>​    因此$x(t)= \\mid \\mathrm{I}\\rangle x_1(t) +\\mid \\mathrm{II}\\rangle x_2(t)$。</p>\n<p>​    到这里，上面的步骤相当于对空间基矢进行了变换，原先的基矢为<br>$x_1(t)$对应$\\mid 1 \\rangle = \\begin{bmatrix} 1 \\ 0 \\end{bmatrix}$，$x_2(t)$对应$\\mid 2 \\rangle = \\begin{bmatrix} 0 \\ 1 \\end{bmatrix}$，现变换为$x_\\mathrm{I}$对应$\\mid \\mathrm{I} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ 1 \\end{bmatrix}$，$x_\\mathrm{II}$对应$\\mid \\mathrm{II} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ -1 \\end{bmatrix}$。这样做有什么好处呢？好处马上就会呈现。</p>\n<p>​    此时$\\Omega$可以对角化为<br>$$<br>\\Omega =<br>\\begin{bmatrix}<br>    -\\omega_\\mathrm{I}^2 &amp; 0 \\\\<br>    0 &amp; -\\omega_\\mathrm{II}^2<br>\\end{bmatrix}<br>$$</p>\n<p>​    故原方程式可以化为</p>\n<p>$$<br>\\begin{bmatrix}<br>    \\ddot{x_\\mathrm{I}} \\\\<br>    \\ddot{x_\\mathrm{II}}<br>\\end{bmatrix}<br>=<br>\\begin{bmatrix}<br>    -\\omega_\\mathrm{I}^2 &amp; 0 \\\\<br>    0 &amp; -\\omega_\\mathrm{II}^2<br>\\end{bmatrix}<br>\\begin{bmatrix}<br>    x_\\mathrm{I} \\\\<br>    x_\\mathrm{II}<br>\\end{bmatrix}<br>=<br>\\begin{bmatrix}<br>    -\\omega_\\mathrm{I}^2 x_\\mathrm{I} \\\\<br>    -\\omega_\\mathrm{II}^2 x_\\mathrm{II}<br>\\end{bmatrix}<br>$$</p>\n<p>​    此时分别解$\\ddot{x_\\mathrm{I}}$与$\\ddot{x_\\mathrm{II}}$（两个二阶线性微分方程$\\ddot{x_i} + \\omega_i^2 x_i = 0$，并且$\\dot{x_i}$=0），即可得到$x_i (t),\\quad i=\\mathrm{I,II}$的解，解为<br>$$<br>x_i(t) = x_i(0) \\cos\\omega_i t, \\quad i=\\mathrm{I,II}<br>$$</p>\n<p>​    此时我们离胜利已经很近了——已经得到<br>$$<br>\\begin{aligned}<br>    \\mid x(t) \\rangle &amp; = \\mid \\mathrm{I} \\rangle x_\\mathrm{I}(0)\\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II} \\rangle x_\\mathrm{II}(0)\\cos\\omega_\\mathrm{II}t \\\\<br>    &amp; = \\mid \\mathrm{I}\\rangle\\langle\\mathrm{I}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II}\\rangle\\langle\\mathrm{II}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{II}t<br>\\end{aligned}<br>$$</p>\n<p>​    式中<br>$$<br>\\begin{aligned}<br>    \\langle \\mathrm{I} \\mid x(0) \\rangle &amp;= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 &amp; 1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\ x_2(0) \\end{bmatrix} = \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} \\\\<br>    \\langle \\mathrm{II} \\mid x(0) \\rangle &amp;= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1&amp; -1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\ x_2(0) \\end{bmatrix} = \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}<br>\\end{aligned}<br>$$</p>\n<p>​    $\\therefore \\mid x(t)\\rangle = \\mid \\mathrm{I}\\rangle \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} + \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}$</p>\n<p>​    我们需要将$\\mid \\mathrm{I}\\rangle$和$\\mid \\mathrm{II}\\rangle$还原为$\\mid 1\\rangle$和$\\mid 2\\rangle$，这个操作可以通过投影 <code>projection</code> 来实现：<br>$$<br>\\begin{aligned}<br>    x_1(t) =&amp; \\langle 1 \\mid x(t)\\rangle \\\\<br>        =&amp; \\langle 1 \\mid \\mathrm{I}\\rangle \\frac{x_1(0) + x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{I}t + \\langle 1 \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{II}t \\\\<br>        =&amp; \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)<br>\\end{aligned}<br>$$<br>​    同理<br>$$<br>x_2(t)= \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)<br>$$<br>​    写成矩阵形式即为<br>$$<br>\\begin{bmatrix} x_1(t) \\ x_2(t)  \\end{bmatrix}<br>=<br>\\begin{bmatrix}<br>    \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} &amp; \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} \\\\<br>    \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} &amp; \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2}<br>\\end{bmatrix}<br>\\begin{bmatrix} x_1(0) \\ x_2(0) \\end{bmatrix}<br>$$<br>​    此时，只要给出$\\mid x(0)\\rangle$即可得到整个耦合振子系统的运动方程。结束战斗。</p>\n<h1 id=\"收获总结\"><a href=\"#收获总结\" class=\"headerlink\" title=\"收获总结\"></a>收获总结</h1><p>​    在Shankar上看到这道题的题解时，起初是不怎么明白的，直到在写这篇手记的过程中，我才体会到这样解的用意：</p>\n<ol>\n<li>这是一个耦合系统，即两个微分方程分别含有对方的变量。</li>\n<li>求出$\\mid \\mathrm{I}\\rangle$与$\\mid \\mathrm{II}\\rangle$的过程就是在对原有的线性空间基矢（或称基底）做变换，变换的目的是为了将微分方程组转化为非耦合的方程组。这里，个人以为，说的通俗一些，就是换元——在高等数学的某些求解不定积分时也会用到这种方法。</li>\n<li>求算子$\\Omega$的本征值就是为了将其对角化（对角化后只有对角线上元素不为零），做矩阵乘法运算就可以得到非耦合的方程组，然后问题就变成了熟悉的二阶线性微分方程，之后求解需要用到欧拉公式，这里不赘述。</li>\n<li>用矩阵表示大块方程组真的很方便！</li>\n<li>Ti$k$Z很好用！</li>\n</ol>\n<p>虽然说上面的题解基本是翻译过来的，但也是有一些收获的，权当 <code>拾人牙慧吧</code> 。</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h1><ol>\n<li>这篇手记仅为自己学习记录而写。</li>\n<li>虽然题目提到量子力学，但内容与量子力学关系不大，事实是这篇文章提到的某些概念以及方法在以后学习中十分普遍，因此有必要将其归为量子力学学习手记。</li>\n<li>就当这是在打数学基础好了。</li>\n</ol>\n<h1 id=\"符号说明\"><a href=\"#符号说明\" class=\"headerlink\" title=\"符号说明\"></a>符号说明</h1><table>\n<thead>\n<tr>\n<th>符号</th>\n<th>说明，以下符号表示的量是在 <em>复数范围</em> 内讨论的</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$\\mid i\\rangle$</td>\n<td>ket，也称列向量</td>\n</tr>\n<tr>\n<td>$\\langle i\\mid$</td>\n<td>bra，也称行向量</td>\n</tr>\n<tr>\n<td>$\\langle i\\mid  j \\rangle $</td>\n<td>inner product，求向量$\\langle i\\mid $与向量$\\mid j\\rangle$的内积</td>\n</tr>\n<tr>\n<td>$\\mid  i \\rangle \\langle j \\mid  $</td>\n<td>outer product，求向量$\\mid i\\rangle$与向量$\\langle j\\mid $的外积</td>\n</tr>\n<tr>\n<td>$\\mid i\\rangle ^\\dagger$</td>\n<td>transpose conjugate，共轭转置，即向量每个元素取共轭复数后整体转置，$\\mid i\\rangle ^\\dagger = \\langle i^*\\mid $</td>\n</tr>\n<tr>\n<td>$\\Omega$, $\\Lambda$</td>\n<td>算子，或称算符，由函数组成的矩阵</td>\n</tr>\n<tr>\n<td>$\\Omega^\\dagger$</td>\n<td>对 $\\Omega$ 取共轭转置</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"题目重现\"><a href=\"#题目重现\" class=\"headerlink\" title=\"题目重现\"></a>题目重现</h1><p>如图，两个振子组成一维耦合振子，两质点的质量均为$m$，所有弹簧劲度系数均为$k$，以右为正方向，两者位移分别为$x_1$、$x_2$。若两振子初始速度均为零，设两个振子在各自平衡位置时的位移为０，且初始位置未知，求这两个振子的位移-时间函数即$x_i(t)$。</p>\n<p><img src=\"fig.svg\" alt=\"耦合振子示意图\"></p>\n<h1 id=\"题解\"><a href=\"#题解\" class=\"headerlink\" title=\"题解\"></a>题解</h1><p>​    对两个振子分别分析，不妨设左边振子为1号，右边振子为2号。</p>\n<p>​    对1号振子做受力分析：</p>\n<p>$$<br>m \\frac{\\mathrm{d}^2 x_1}{\\mathrm{d}t^2} = k(x_2 - x_1) - k{x_1}<br>$$<br>​    即</p>\n<p>$$<br>m\\ddot{x_1} = -2kx_1+kx_2 \\notag<br>$$</p>\n<p>​    同理，2号振子满足<br>$$<br>m\\ddot{x_2} = k{x_1} - 2kx_2  \\notag<br>$$<br>​    问题化简为求微分方程组<br>$$<br>\\begin{cases}<br>    \\ddot{x_1} = -\\frac{2k}{m}x_1 + \\frac{k}{m}x_2\\\\<br>    \\ddot{x_2} = \\frac{k}{m}x_1 - \\frac{2k}{m}x_2<br>\\end{cases}<br>$$<br>​    的解，写成矩阵形式即为<br>$$<br>\\begin{bmatrix}<br>    \\ddot{x_1}\\\\<br>    \\ddot{x_2}<br>\\end{bmatrix} = \\begin{bmatrix}<br>    \\frac{-2k}{m} &amp; \\frac{k}{m}\\\\<br>    \\frac{k}{m} &amp; \\frac{-2k}{m}<br>\\end{bmatrix} \\begin{bmatrix}<br>    x_1\\\\<br>    x_2<br>\\end{bmatrix}<br>$$<br>​    现令$\\Omega=\\begin{bmatrix} \\frac{-2k}{m} &amp; \\frac{k}{m}\\  \\frac{k}{m} &amp; \\frac{-2k}{m} \\end{bmatrix} $</p>\n<p>​    观察到 $\\Omega$ 为Hermitian矩阵（$\\Omega^\\dagger = \\Omega$，共轭转置后不变），</p>\n<p>​    故设$\\mid\\mathrm{I}\\rangle $和$\\mid\\mathrm{II}\\rangle $分别为$\\Omega$的两个本征矢（也叫特征向量）</p>\n<p>​    有<br>$$<br>\\begin{cases}<br>    \\Omega \\mid \\mathrm{I} \\rangle = -\\omega_\\mathrm{I}^2 \\mid \\mathrm{I}\\rangle\\\\<br>    \\Omega \\mid \\mathrm{II} \\rangle = -\\omega_\\mathrm{II}^2 \\mid \\mathrm{II}\\rangle<br>\\end{cases}<br>$$<br>​    这里$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别表示$\\Omega$的两个本征值，因计算结果表示方便，这里用$-\\omega_i^2$表示，而不是$\\omega_i$。</p>\n<p>​    求出$-\\omega_\\mathrm{I}^2$与$-\\omega_\\mathrm{II}^2$分别为$\\frac{k}{m} \\mp \\frac{2k}{m}$。不妨设$-\\omega_\\mathrm{I}^2＝-\\frac{k}{m}$，$-\\omega_\\mathrm{II}^2＝-\\frac{3k}{m}$。</p>\n<p>​    已知本征值，可以求出本征矢为<br>$$<br>\\begin{cases}<br>    \\mid \\mathrm{I}\\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ 1 \\end{bmatrix} &amp; \\omega_\\mathrm{I}=\\sqrt{\\frac{k}{m}} \\\\<br>    \\mid \\mathrm{II} \\rangle = \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ -1 \\end{bmatrix}  &amp; \\omega_\\mathrm{II}=\\sqrt{\\frac{3k}{m}}<br> \\end{cases}<br>$$</p>\n<p>​    可以看出$\\mid \\mathrm{I} \\rangle$与$\\mid \\mathrm{II}\\rangle$相互正交（内积为０）。</p>\n<p>​    因此$x(t)= \\mid \\mathrm{I}\\rangle x_1(t) +\\mid \\mathrm{II}\\rangle x_2(t)$。</p>\n<p>​    到这里，上面的步骤相当于对空间基矢进行了变换，原先的基矢为<br>$x_1(t)$对应$\\mid 1 \\rangle = \\begin{bmatrix} 1 \\ 0 \\end{bmatrix}$，$x_2(t)$对应$\\mid 2 \\rangle = \\begin{bmatrix} 0 \\ 1 \\end{bmatrix}$，现变换为$x_\\mathrm{I}$对应$\\mid \\mathrm{I} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ 1 \\end{bmatrix}$，$x_\\mathrm{II}$对应$\\mid \\mathrm{II} \\rangle =\\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 \\ -1 \\end{bmatrix}$。这样做有什么好处呢？好处马上就会呈现。</p>\n<p>​    此时$\\Omega$可以对角化为<br>$$<br>\\Omega =<br>\\begin{bmatrix}<br>    -\\omega_\\mathrm{I}^2 &amp; 0 \\\\<br>    0 &amp; -\\omega_\\mathrm{II}^2<br>\\end{bmatrix}<br>$$</p>\n<p>​    故原方程式可以化为</p>\n<p>$$<br>\\begin{bmatrix}<br>    \\ddot{x_\\mathrm{I}} \\\\<br>    \\ddot{x_\\mathrm{II}}<br>\\end{bmatrix}<br>=<br>\\begin{bmatrix}<br>    -\\omega_\\mathrm{I}^2 &amp; 0 \\\\<br>    0 &amp; -\\omega_\\mathrm{II}^2<br>\\end{bmatrix}<br>\\begin{bmatrix}<br>    x_\\mathrm{I} \\\\<br>    x_\\mathrm{II}<br>\\end{bmatrix}<br>=<br>\\begin{bmatrix}<br>    -\\omega_\\mathrm{I}^2 x_\\mathrm{I} \\\\<br>    -\\omega_\\mathrm{II}^2 x_\\mathrm{II}<br>\\end{bmatrix}<br>$$</p>\n<p>​    此时分别解$\\ddot{x_\\mathrm{I}}$与$\\ddot{x_\\mathrm{II}}$（两个二阶线性微分方程$\\ddot{x_i} + \\omega_i^2 x_i = 0$，并且$\\dot{x_i}$=0），即可得到$x_i (t),\\quad i=\\mathrm{I,II}$的解，解为<br>$$<br>x_i(t) = x_i(0) \\cos\\omega_i t, \\quad i=\\mathrm{I,II}<br>$$</p>\n<p>​    此时我们离胜利已经很近了——已经得到<br>$$<br>\\begin{aligned}<br>    \\mid x(t) \\rangle &amp; = \\mid \\mathrm{I} \\rangle x_\\mathrm{I}(0)\\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II} \\rangle x_\\mathrm{II}(0)\\cos\\omega_\\mathrm{II}t \\\\<br>    &amp; = \\mid \\mathrm{I}\\rangle\\langle\\mathrm{I}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{I}t + \\mid \\mathrm{II}\\rangle\\langle\\mathrm{II}\\mid x(0)\\rangle \\cos\\omega_\\mathrm{II}t<br>\\end{aligned}<br>$$</p>\n<p>​    式中<br>$$<br>\\begin{aligned}<br>    \\langle \\mathrm{I} \\mid x(0) \\rangle &amp;= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1 &amp; 1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\ x_2(0) \\end{bmatrix} = \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} \\\\<br>    \\langle \\mathrm{II} \\mid x(0) \\rangle &amp;= \\frac{1}{\\sqrt{2}} \\begin{bmatrix} 1&amp; -1 \\end{bmatrix} \\begin{bmatrix} x_1(0) \\ x_2(0) \\end{bmatrix} = \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}<br>\\end{aligned}<br>$$</p>\n<p>​    $\\therefore \\mid x(t)\\rangle = \\mid \\mathrm{I}\\rangle \\frac{x_1(0)+x_2(0)}{\\sqrt{2}} + \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}$</p>\n<p>​    我们需要将$\\mid \\mathrm{I}\\rangle$和$\\mid \\mathrm{II}\\rangle$还原为$\\mid 1\\rangle$和$\\mid 2\\rangle$，这个操作可以通过投影 <code>projection</code> 来实现：<br>$$<br>\\begin{aligned}<br>    x_1(t) =&amp; \\langle 1 \\mid x(t)\\rangle \\\\<br>        =&amp; \\langle 1 \\mid \\mathrm{I}\\rangle \\frac{x_1(0) + x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{I}t + \\langle 1 \\mid \\mathrm{II}\\rangle \\frac{x_1(0) - x_2(0)}{\\sqrt{2}}\\cos\\omega_\\mathrm{II}t \\\\<br>        =&amp; \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)<br>\\end{aligned}<br>$$<br>​    同理<br>$$<br>x_2(t)= \\frac{x_1(0) + x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\frac{x_1(0) - x_2(0)}{2}\\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right)<br>$$<br>​    写成矩阵形式即为<br>$$<br>\\begin{bmatrix} x_1(t) \\ x_2(t)  \\end{bmatrix}<br>=<br>\\begin{bmatrix}<br>    \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} &amp; \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} \\\\<br>    \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) - \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2} &amp; \\frac{\\cos\\left(\\sqrt{\\frac{k}{m}}t\\right) + \\cos\\left(\\sqrt{\\frac{3k}{m}}t\\right) }{2}<br>\\end{bmatrix}<br>\\begin{bmatrix} x_1(0) \\ x_2(0) \\end{bmatrix}<br>$$<br>​    此时，只要给出$\\mid x(0)\\rangle$即可得到整个耦合振子系统的运动方程。结束战斗。</p>\n<h1 id=\"收获总结\"><a href=\"#收获总结\" class=\"headerlink\" title=\"收获总结\"></a>收获总结</h1><p>​    在Shankar上看到这道题的题解时，起初是不怎么明白的，直到在写这篇手记的过程中，我才体会到这样解的用意：</p>\n<ol>\n<li>这是一个耦合系统，即两个微分方程分别含有对方的变量。</li>\n<li>求出$\\mid \\mathrm{I}\\rangle$与$\\mid \\mathrm{II}\\rangle$的过程就是在对原有的线性空间基矢（或称基底）做变换，变换的目的是为了将微分方程组转化为非耦合的方程组。这里，个人以为，说的通俗一些，就是换元——在高等数学的某些求解不定积分时也会用到这种方法。</li>\n<li>求算子$\\Omega$的本征值就是为了将其对角化（对角化后只有对角线上元素不为零），做矩阵乘法运算就可以得到非耦合的方程组，然后问题就变成了熟悉的二阶线性微分方程，之后求解需要用到欧拉公式，这里不赘述。</li>\n<li>用矩阵表示大块方程组真的很方便！</li>\n<li>Ti$k$Z很好用！</li>\n</ol>\n<p>虽然说上面的题解基本是翻译过来的，但也是有一些收获的，权当 <code>拾人牙慧吧</code> 。</p>\n"},{"title":"简谐振动系统浅析（一）","date":"2017-09-30T14:21:37.000Z","_content":"\n\n\n\n# 何为简谐振动\n\n引用 Wikipedia 上的[定义](https://zh.wikipedia.org/zh-cn/%E7%B0%A1%E8%AB%A7%E9%81%8B%E5%8B%95)，**简谐运动**（或**简谐振动**、**谐振**、**SHM**（Simple Harmonic Motion））既是最基本也是最简单的一种[机械振动](https://zh.wikipedia.org/wiki/%E6%8C%AF%E5%8A%A8)。当某物体进行简谐运动时，物体所受的[力](https://zh.wikipedia.org/wiki/%E5%8A%9B)跟[位移](https://zh.wikipedia.org/wiki/%E4%BD%8D%E7%A7%BB)成正比，并且力总是指向平衡位置。\n\n典型的例子即为水平面内的弹簧振子，如下图所示（忽略一切摩擦）\n\n![](http://owucpthrj.bkt.clouddn.com/Fkz3IAKLr9KLnGExvHe6RlsOB_Pr)\n\n如果用 $F$ 表示物体受到的回复力，用 $x$ 表示小球相对于平衡位置的位移，由胡克定律，小球受力总有\n$$\nF = -kx\n$$\n简谐振动系统的机械能守恒（即动能和弹簧的势能之间来回转换，动能和势能之和不变）。\n\n# 动力学方程\n\n## 普通表述\n\n由牛顿第二定律\n$$\nF = ma\n$$\n因此\n$$\nma + kx = 0\n$$\n即\n$$\nm\\ddot{x} + kx = 0\n$$\n解上面的方程（这是一个很简单的二阶线性齐次常系数微分方程，$mr^2 + k = 0$，推出 $r = \\pm i\\sqrt{\\frac{k}{m}}$，直接代入解的表达式并用欧拉公式展开即可），可以得到\n$$\n\\begin{aligned}\nx &= c_1 \\cos(\\omega t) + c_2 \\sin(\\omega t)\\\\\n &= A\\cos(\\omega t + \\varphi_0)\n\\end{aligned}\n$$\n\n式中\n$$\n\\begin{aligned}\n\\omega &= \\sqrt{\\frac km} && \\omega 即为角频率\\\\\n\tA &= \\sqrt{c_1^2 + c_2^2} && A即为振幅\\\\\n\t\\varphi_0 &= -\\tan\\frac{c_2}{c_1}& & \\varphi_0 即为初相位\n\\end{aligned}\n$$\n\n显然，从 $x(t)$ 的表达式可以看出，小球的运动呈现一个周期性，周期为\n$$\nT = \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{\\frac mk}\n$$\n\n## 复数表述\n\n这时 $x = A\\cos(\\omega t + \\varphi_0)$ 可以用一个复数表示（欧拉公式：$e^{\\mathrm i \\theta} = \\cos \\theta + \\mathrm i \\sin \\theta$，欧拉公式的推导借助了麦克劳林公式展开，感兴趣可以看[这里](https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%85%AC%E5%BC%8F)）\n$$\n\\begin{aligned}\nx = \\tilde{s}(t) &= Ae^{\\mathrm i(\\omega t + \\varphi_0)} \\\\\n  & = Ae^{\\mathrm i\\omega t}\\cdot e^{\\mathrm i\\varphi_0} \\\\\n  & = (Ae^{\\mathrm i\\varphi_0})\\cdot e^{\\mathrm i\\omega t} \\\\\n  & = \\tilde{A} e^{\\mathrm i\\omega t}\n\\end{aligned}\n$$\n（为什么要用复数呢？~~因为可以装X，~~因为后面涉及求简正模问题时使用复数会变得非常简单）\n\n此时小球的速度和加速度可以表示为\n$$\n\\begin{aligned}\n\t\\tilde{v} &= \\frac{\\mathrm d \\tilde{s}}{\\mathrm d t} = \\frac{\\mathrm d}{\\mathrm dt} \\tilde{A} e^{\\mathrm i\\omega t}  = \\mathrm i \\omega \\tilde{A} e^{\\mathrm i\\omega t} = \\mathrm i\\omega \\tilde{s}\\\\\n\t\\tilde{a} &= \\frac{\\mathrm d^2 \\tilde{s}}{\\mathrm d t^2} = \\frac{\\mathrm d^2}{\\mathrm d t^2} \\tilde{A} e^{\\mathrm i\\omega t} =  -{\\omega}^2 \\tilde{A} e^{\\mathrm i\\omega t}  = -{\\omega}^2 \\tilde{s}\n\\end{aligned}\n$$\n显然，这种方式求导起来比普通表示法要方便很多。\n\n# 能量转化分析\n\n这个系统中值得我们关注的能量有两种：弹簧的弹性势能 $T(x)$ 和小球的动能 $V(x)$。\n\n## 对动能分析\n\n显然有\n$$\nV(s) = \\frac 12 m\\dot{s}^2 = -\\frac 12 \\omega^2 \\tilde{s}^2\n$$\n~~没什么好说的~~\n\n## 对势能分析\n\n**注意，这一部分所分析的势能都是以平衡位置为零势能点所算起的势能。**\n\n弹簧的势能有\n$$\nT(s) = \\frac 12 k s^2\n$$\n对势能求二阶导\n$$\n\\frac{\\mathrm d^2}{\\mathrm ds^2} T(s) =  \\frac{\\mathrm d^2}{\\mathrm ds^2} \\bigg(\\frac12 ks^2 \\bigg)= k\n$$\n我们发现势能对位移求二阶导后恰好等于劲度系数，因此有\n$$\n\\begin{aligned}\n\tT &= \\frac 12 T'' s^2 \\\\\n\tf_{\\rm 回} &= -T''s\n\\end{aligned}\n$$\n此时，我们上一小节所讲的所有公式中的振幅 $A$ 和 角频率 $\\omega$ 都可以用势能的二阶导数表示\n$$\n\\begin{aligned}\n\tA = s_{\\max} &= \\sqrt{ \\frac{2E}{k} } = \\sqrt{ \\frac{2E}{T''} } \\\\\n\t\t\\omega\t&= \\sqrt{ \\frac{k}{m} } = \\sqrt{ \\frac{T''}{m} }\n\\end{aligned}\n$$\n\n根据这个条件，当我们遇到某些特殊情况而无法很轻松求出 $k$ ，但 $T$ 又显而易见时，我们可以使用上面的式子来计算振动的相关参数（比如摆）。\n\n# 简正模\n\n当我们研究的系统不再由单一振子，而是多个振子耦合在一起时，各个振子可能会有各自不同的固有频率，此时系统内的振子如何运动？如果这个系统是孤立的，那么系统的动量守恒，所有的振子一定会按照统一的频率振动，那么这个频率是由谁来决定？我们用一个例子来说明这个问题：\n\n下图表示一个线形三原子分子 $\\rm A_2B$ ，相邻原子之间的化学键看成弹性力，它的大小正比于原子离开平衡位置的距离，假设原子只做纵向振动（即振动方向始终与原子核之间连线共线），试求分子可能的纵向运动形式和相应的振动角频率。\n\n![](http://owucpthrj.bkt.clouddn.com/Fk4cNP6wcbGvH68621OHVFdoQIVz)\n\n我们假设从左到右三个原子相对平衡位置的位移分别为 $x_1,\\, x_2,\\, x_3$ ，列出它们的运动方程为\n$$\n\\begin{aligned}\n\tm_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_1 &= -k(x_1 - x_2) \\\\\n\tm_B \\frac{\\mathrm d^2}{\\mathrm d t^2}x_2 &= -k(x_2 - x_1) - k(x_2 - x_3) \\\\\n\tm_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_3 &= -k(x_3 - x_2)\n\\end{aligned}\n$$\n因为这是个孤立系统，所有原子的振动角频率相同，不妨设所有原子的振动角频率都是 $\\omega$ ，所以所有原子的位移可以表示为\n$$\n\\tilde x_i = \\tilde A_i e^{\\mathrm i \\omega t}\n$$\n上面的运动方程可以改写为\n$$\n\\begin{aligned}\n\t-\\omega^2m_A A_1 e^{\\mathrm i\\omega t} &= -k(A_1 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2m_B A_2 e^{\\mathrm i\\omega t} &= -k(2A_2 e^{\\mathrm i \\omega t} - (A_1+A_3) e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2m_A A_3 e^{\\mathrm i\\omega t} &= -k(A_3 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\\n\\end{aligned}\n$$\n经过化简可以得到\n$$\n\\begin{cases}\n\t(\\omega^2-\\frac{k}{m_A})A_1 + \\dfrac{k}{m_A}A_2 = 0 \\\\\n\t\\dfrac{k}{m_B}A_1 + (\\omega^2-\\dfrac{2k}{m_B})A_2 + \\dfrac{k}{m_B}A_3 = 0 \\\\\n\t\\dfrac{k}{m_A}A_2 + (\\omega^2-\\dfrac{k}{m_A})A_3 = 0 \n\\end{cases}\n$$\n\n上述方程组有解得条件是\n$$\n\\begin{vmatrix}\n\t(\\omega^2-\\frac{k}{m_A})A_1 & \\frac{k}{m_A}A_2  & 0\\\\\n\t\\frac{k}{m_B}A_1 & (\\omega^2-\\frac{2k}{m_B})A_2 & \\frac{k}{m_B}A_3 \\\\\n\t0 & \\frac{k}{m_A}A_2 & (\\omega^2-\\frac{k}{m_A})A_3 \n\\end{vmatrix}\n= 0\n$$\n即\n$$\n(\\omega^2 - \\frac{k}{m_A})^2 (\\omega^2 - \\frac{2k}{m_B}) - 2(\\omega^2 - \\frac{k}{m_A})\\frac{k^2}{m_A m_B} = 0\n$$\n进一步因式分解可以得到\n$$\n(\\omega^2 - \\frac{k}{m_A}) (\\omega^2 - \\frac{k(2m_A+m_B)}{m_A m_B})\\omega^2= 0\n$$\n此时 $\\omega ^2$ 有三个根，分别为 $\\frac{k}{m_A} $ ， $\\frac{k(2m_A+m_B)}{m_A m_B}$ ， $0$ 。下面对这三个根进行讨论：\n\n1. 当 $\\omega^2 = \\frac{k}{m_A}$ 时，$A_1 + A_3 = 0$ 且 $A_2 = 0$ ，即中间原子不动，两边原子做做振动方向相反、振幅和频率相同的运动；\n2. 当 $\\omega^2 = \\frac{k(2m_A + m_B)}{m_A m_B}$ 时，$A_1 = A_3 = -\\frac{m_B}{2m_A} A_2$ ，即两边原子运动状态相同，但与中间原子的运动方向相反，振幅之比为 $A_1 : A_2 = m_B: 2m_A$ ；\n3. 当 $\\omega^2 = 0$ 时，$A_1 = A_2 = A_3$ ，系统做刚性平动。\n\n上面 $\\omega^2$ 取三个根时，系统分别对应了三个不同的状态，其中除了 $\\omega^2 = 0$ 外，其他两个状态都各自表明了一种特殊的振动模式，这些振动模式都对应了各自唯一的一个频率，称为**简正频率**。\n\n一般来说，简正模时系统中各自由度运动的某种特殊组合，是整个系统的集体运动方式，不是其中个别振子的行为所决定的。\n\n# 来两道题小试牛刀\n\n## 求下面系统的简正模\n\n三个质量为 $m$ 的质点和三个劲度系数为 $k$ 的弹簧串连在一起，紧套在光滑的水平圆周上（如下图）。求此系统的简正模（即简正频率和运动方式）。\n\n<img src=\"http://owucpthrj.bkt.clouddn.com/FvHP-LeH9BzMuBco5XNJP2darkrV\" width=\"400\"/>\n\n\n\n列出三个质点的动力学方程：\n$$\n\\begin{aligned}\n\tm\\frac{\\mathrm d^2}{\\mathrm dt^2} x_1&= -k(2x_1 - x_2 - x_3) = k(x_2 + x_3 - 2x_1) \\\\\n\tm\\frac{\\mathrm d^2}{\\mathrm dt^2} x_2&= -k(2x_2 - x_1 - x_3) = k(x_1 + x_3 - 2x_2) \\\\\n\tm\\frac{\\mathrm d^2}{\\mathrm dt^2} x_3&= -k(2x_3 - x_1 - x_2) = k(x_1 + x_2 - 2x_3) \n\\end{aligned}\n$$\n不妨设 $x_i = \\tilde{A_i}e^{\\mathrm i \\omega t}$ ，上面式子改写为\n$$\n\\begin{aligned}\n\t-\\omega^2 m A_1 e^{\\mathrm i\\omega t} &= k( A_2 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_1 e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2 m A_2 e^{\\mathrm i\\omega t} &= k( A_1 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_2 e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2 m A_3 e^{\\mathrm i\\omega t} &= k( A_1 e^{\\mathrm i\\omega t} + A_2 e^{\\mathrm i\\omega t} - 2A_3 e^{\\mathrm i\\omega t} ) \n\\end{aligned}\n$$\n经过化简，上面式子变为\n$$\n\\begin{aligned}\n\t( \\omega^2-\\frac{2k}{m} )A_1 + \\frac{k}{m}A_2 + \\frac{k}{m}A_3 &= 0\\\\\n\t\\frac{k}{m}A_1 + ( \\omega^2-\\frac{2k}{m} )A_2 + \\frac{k}{m}A_3 &= 0\\\\\n\t\\frac{k}{m}A_1 + \\frac{k}{m}A_2 + ( \\omega^2-\\frac{2k}{m} )A_2 &= 0\n\\end{aligned}\n$$\n\n上述式子成立的条件是矩阵对应的行列式值为零\n$$\n\\begin{vmatrix}\n\t( \\omega^2-\\frac{2k}{m} )A_1 & \\frac{k}{m}A_2 & \\frac{k}{m}A_3 \\\\\n\t\\frac{k}{m}A_1 & ( \\omega^2-\\frac{2k}{m} )A_2 & \\frac{k}{m}A_3 \\\\\n\t\\frac{k}{m}A_1 & \\frac{k}{m}A_2 & ( \\omega^2-\\frac{2k}{m} )A_3 \n\\end{vmatrix}\n= 0\n$$\n\n注意到这是一个特殊的行列式，使用结论可以~~口算~~很快算出\n$$\n(\\omega^2 - \\frac{2k}{m} + 2\\frac{k}{m}) (\\omega^2 -\\frac{2k}{m} - \\frac{k}{m}) ^2 = 0\n$$\n得到三个根 $\\omega_1 = 0$ ，$\\omega_2 = \\omega_3 = \\sqrt{\\frac{3k}{m}}$ 。\n\n这三个根代入方程组都得出\n$$\nA_1 = A_2 = A_3\n$$\n即当这个系统趋于稳定时，三个质点的运动是一致的，整个系统做刚体的平动（绕圆盘圆心转动）。\n\n\n\n## 求下面振子的周期公式\n\n竖直悬挂的弹簧振子，若弹簧本身质量不可忽略，试推导其周期公式。假设弹簧的质量不可忽略，k为其劲度系数，M为系于其上物体的质量（假设弹簧的伸长量由上到下与长度成正比地增加）。\n\n<img src=\"http://owucpthrj.bkt.clouddn.com/FvTsySEGcax0xAS0Xa7MC3bQuS3q\" width=\"150\"/>\n\n假设弹簧长度为 $L$ ，任意时刻 $M$ 的运动速度为 $v = v(t)$ ，则弹簧单位长度的质量为 $\\mu = \\frac{m}{L}$ ，又假设 $M$ 运动时弹簧上质点的速度是线性增加的，此时计算弹簧运动时的动能\n$$\n\\begin{aligned}\nV_{\\rm spring} &= \\int\\mathrm d \\bigg(\\frac{1}{2} m v^2 \\bigg) \\\\\n\t\t&= \\frac{1}{2} \\int_{0}^{L} \\bigg(\\mu \\mathrm dl \\cdot (v\\frac{l}{L})^2\\bigg) \\\\\n\t\t&= \\frac{mv^2}{2L^3} \\int_{0}^{L} l^2 \\mathrm d l \\\\\n\t\t&= \\frac{1}{2}\\cdot \\frac{m}{3} v^2\n\\end{aligned}\n$$\n 即弹簧的运动动能相当于在其末端悬挂了一个质量为 $\\frac{m}{3}$ 的质点运动时的动能，因此这个模型可以等效为一个质量为 0 的弹簧在其末端悬挂了质量 $M + \\frac{m}{3}$ 的质点做简谐运动，套用简谐运动的角频率公式即可解出 $M$ 运动时的角频率为\n$$\n\\begin{aligned}\n\t\\omega &= \\sqrt{ \\frac{k}{M + m/3} }\\\\\n\tT &= \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{ \\frac{M + m/3}{k} }\n\\end{aligned}\n$$\n\n# 总结\n\n简正模在刚开始看时还是挺费劲的，但是读了5遍左右就开始慢慢明白（大概是明白了吧，雾）了其物理含义，而在求解简正模时用到了线性代数的一点知识，算是复习了一下下线代，心里还是蛮开心的。最后那道题在看钱伯初先生的论文时对平均速度的求解目的不是很理解，后来经物吧腿娘大佬的正确指导下弄明白了如何应对这个问题。\n\n关于振动，不出意外，本渣应该会写两篇浅析，这是第一篇，第二篇已经在计划中，希望有生之年可以见到。\n\n以上","source":"_posts/how-to-solve-viberation-1.md","raw":"---\ntitle: 简谐振动系统浅析（一）\ntags:\n  - 物理\n  - 振动\ncategories: Physics\ndate: 2017-09-30 22:21:37\n---\n\n\n\n\n# 何为简谐振动\n\n引用 Wikipedia 上的[定义](https://zh.wikipedia.org/zh-cn/%E7%B0%A1%E8%AB%A7%E9%81%8B%E5%8B%95)，**简谐运动**（或**简谐振动**、**谐振**、**SHM**（Simple Harmonic Motion））既是最基本也是最简单的一种[机械振动](https://zh.wikipedia.org/wiki/%E6%8C%AF%E5%8A%A8)。当某物体进行简谐运动时，物体所受的[力](https://zh.wikipedia.org/wiki/%E5%8A%9B)跟[位移](https://zh.wikipedia.org/wiki/%E4%BD%8D%E7%A7%BB)成正比，并且力总是指向平衡位置。\n\n典型的例子即为水平面内的弹簧振子，如下图所示（忽略一切摩擦）\n\n![](http://owucpthrj.bkt.clouddn.com/Fkz3IAKLr9KLnGExvHe6RlsOB_Pr)\n\n如果用 $F$ 表示物体受到的回复力，用 $x$ 表示小球相对于平衡位置的位移，由胡克定律，小球受力总有\n$$\nF = -kx\n$$\n简谐振动系统的机械能守恒（即动能和弹簧的势能之间来回转换，动能和势能之和不变）。\n\n# 动力学方程\n\n## 普通表述\n\n由牛顿第二定律\n$$\nF = ma\n$$\n因此\n$$\nma + kx = 0\n$$\n即\n$$\nm\\ddot{x} + kx = 0\n$$\n解上面的方程（这是一个很简单的二阶线性齐次常系数微分方程，$mr^2 + k = 0$，推出 $r = \\pm i\\sqrt{\\frac{k}{m}}$，直接代入解的表达式并用欧拉公式展开即可），可以得到\n$$\n\\begin{aligned}\nx &= c_1 \\cos(\\omega t) + c_2 \\sin(\\omega t)\\\\\n &= A\\cos(\\omega t + \\varphi_0)\n\\end{aligned}\n$$\n\n式中\n$$\n\\begin{aligned}\n\\omega &= \\sqrt{\\frac km} && \\omega 即为角频率\\\\\n\tA &= \\sqrt{c_1^2 + c_2^2} && A即为振幅\\\\\n\t\\varphi_0 &= -\\tan\\frac{c_2}{c_1}& & \\varphi_0 即为初相位\n\\end{aligned}\n$$\n\n显然，从 $x(t)$ 的表达式可以看出，小球的运动呈现一个周期性，周期为\n$$\nT = \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{\\frac mk}\n$$\n\n## 复数表述\n\n这时 $x = A\\cos(\\omega t + \\varphi_0)$ 可以用一个复数表示（欧拉公式：$e^{\\mathrm i \\theta} = \\cos \\theta + \\mathrm i \\sin \\theta$，欧拉公式的推导借助了麦克劳林公式展开，感兴趣可以看[这里](https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%85%AC%E5%BC%8F)）\n$$\n\\begin{aligned}\nx = \\tilde{s}(t) &= Ae^{\\mathrm i(\\omega t + \\varphi_0)} \\\\\n  & = Ae^{\\mathrm i\\omega t}\\cdot e^{\\mathrm i\\varphi_0} \\\\\n  & = (Ae^{\\mathrm i\\varphi_0})\\cdot e^{\\mathrm i\\omega t} \\\\\n  & = \\tilde{A} e^{\\mathrm i\\omega t}\n\\end{aligned}\n$$\n（为什么要用复数呢？~~因为可以装X，~~因为后面涉及求简正模问题时使用复数会变得非常简单）\n\n此时小球的速度和加速度可以表示为\n$$\n\\begin{aligned}\n\t\\tilde{v} &= \\frac{\\mathrm d \\tilde{s}}{\\mathrm d t} = \\frac{\\mathrm d}{\\mathrm dt} \\tilde{A} e^{\\mathrm i\\omega t}  = \\mathrm i \\omega \\tilde{A} e^{\\mathrm i\\omega t} = \\mathrm i\\omega \\tilde{s}\\\\\n\t\\tilde{a} &= \\frac{\\mathrm d^2 \\tilde{s}}{\\mathrm d t^2} = \\frac{\\mathrm d^2}{\\mathrm d t^2} \\tilde{A} e^{\\mathrm i\\omega t} =  -{\\omega}^2 \\tilde{A} e^{\\mathrm i\\omega t}  = -{\\omega}^2 \\tilde{s}\n\\end{aligned}\n$$\n显然，这种方式求导起来比普通表示法要方便很多。\n\n# 能量转化分析\n\n这个系统中值得我们关注的能量有两种：弹簧的弹性势能 $T(x)$ 和小球的动能 $V(x)$。\n\n## 对动能分析\n\n显然有\n$$\nV(s) = \\frac 12 m\\dot{s}^2 = -\\frac 12 \\omega^2 \\tilde{s}^2\n$$\n~~没什么好说的~~\n\n## 对势能分析\n\n**注意，这一部分所分析的势能都是以平衡位置为零势能点所算起的势能。**\n\n弹簧的势能有\n$$\nT(s) = \\frac 12 k s^2\n$$\n对势能求二阶导\n$$\n\\frac{\\mathrm d^2}{\\mathrm ds^2} T(s) =  \\frac{\\mathrm d^2}{\\mathrm ds^2} \\bigg(\\frac12 ks^2 \\bigg)= k\n$$\n我们发现势能对位移求二阶导后恰好等于劲度系数，因此有\n$$\n\\begin{aligned}\n\tT &= \\frac 12 T'' s^2 \\\\\n\tf_{\\rm 回} &= -T''s\n\\end{aligned}\n$$\n此时，我们上一小节所讲的所有公式中的振幅 $A$ 和 角频率 $\\omega$ 都可以用势能的二阶导数表示\n$$\n\\begin{aligned}\n\tA = s_{\\max} &= \\sqrt{ \\frac{2E}{k} } = \\sqrt{ \\frac{2E}{T''} } \\\\\n\t\t\\omega\t&= \\sqrt{ \\frac{k}{m} } = \\sqrt{ \\frac{T''}{m} }\n\\end{aligned}\n$$\n\n根据这个条件，当我们遇到某些特殊情况而无法很轻松求出 $k$ ，但 $T$ 又显而易见时，我们可以使用上面的式子来计算振动的相关参数（比如摆）。\n\n# 简正模\n\n当我们研究的系统不再由单一振子，而是多个振子耦合在一起时，各个振子可能会有各自不同的固有频率，此时系统内的振子如何运动？如果这个系统是孤立的，那么系统的动量守恒，所有的振子一定会按照统一的频率振动，那么这个频率是由谁来决定？我们用一个例子来说明这个问题：\n\n下图表示一个线形三原子分子 $\\rm A_2B$ ，相邻原子之间的化学键看成弹性力，它的大小正比于原子离开平衡位置的距离，假设原子只做纵向振动（即振动方向始终与原子核之间连线共线），试求分子可能的纵向运动形式和相应的振动角频率。\n\n![](http://owucpthrj.bkt.clouddn.com/Fk4cNP6wcbGvH68621OHVFdoQIVz)\n\n我们假设从左到右三个原子相对平衡位置的位移分别为 $x_1,\\, x_2,\\, x_3$ ，列出它们的运动方程为\n$$\n\\begin{aligned}\n\tm_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_1 &= -k(x_1 - x_2) \\\\\n\tm_B \\frac{\\mathrm d^2}{\\mathrm d t^2}x_2 &= -k(x_2 - x_1) - k(x_2 - x_3) \\\\\n\tm_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_3 &= -k(x_3 - x_2)\n\\end{aligned}\n$$\n因为这是个孤立系统，所有原子的振动角频率相同，不妨设所有原子的振动角频率都是 $\\omega$ ，所以所有原子的位移可以表示为\n$$\n\\tilde x_i = \\tilde A_i e^{\\mathrm i \\omega t}\n$$\n上面的运动方程可以改写为\n$$\n\\begin{aligned}\n\t-\\omega^2m_A A_1 e^{\\mathrm i\\omega t} &= -k(A_1 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2m_B A_2 e^{\\mathrm i\\omega t} &= -k(2A_2 e^{\\mathrm i \\omega t} - (A_1+A_3) e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2m_A A_3 e^{\\mathrm i\\omega t} &= -k(A_3 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\\n\\end{aligned}\n$$\n经过化简可以得到\n$$\n\\begin{cases}\n\t(\\omega^2-\\frac{k}{m_A})A_1 + \\dfrac{k}{m_A}A_2 = 0 \\\\\n\t\\dfrac{k}{m_B}A_1 + (\\omega^2-\\dfrac{2k}{m_B})A_2 + \\dfrac{k}{m_B}A_3 = 0 \\\\\n\t\\dfrac{k}{m_A}A_2 + (\\omega^2-\\dfrac{k}{m_A})A_3 = 0 \n\\end{cases}\n$$\n\n上述方程组有解得条件是\n$$\n\\begin{vmatrix}\n\t(\\omega^2-\\frac{k}{m_A})A_1 & \\frac{k}{m_A}A_2  & 0\\\\\n\t\\frac{k}{m_B}A_1 & (\\omega^2-\\frac{2k}{m_B})A_2 & \\frac{k}{m_B}A_3 \\\\\n\t0 & \\frac{k}{m_A}A_2 & (\\omega^2-\\frac{k}{m_A})A_3 \n\\end{vmatrix}\n= 0\n$$\n即\n$$\n(\\omega^2 - \\frac{k}{m_A})^2 (\\omega^2 - \\frac{2k}{m_B}) - 2(\\omega^2 - \\frac{k}{m_A})\\frac{k^2}{m_A m_B} = 0\n$$\n进一步因式分解可以得到\n$$\n(\\omega^2 - \\frac{k}{m_A}) (\\omega^2 - \\frac{k(2m_A+m_B)}{m_A m_B})\\omega^2= 0\n$$\n此时 $\\omega ^2$ 有三个根，分别为 $\\frac{k}{m_A} $ ， $\\frac{k(2m_A+m_B)}{m_A m_B}$ ， $0$ 。下面对这三个根进行讨论：\n\n1. 当 $\\omega^2 = \\frac{k}{m_A}$ 时，$A_1 + A_3 = 0$ 且 $A_2 = 0$ ，即中间原子不动，两边原子做做振动方向相反、振幅和频率相同的运动；\n2. 当 $\\omega^2 = \\frac{k(2m_A + m_B)}{m_A m_B}$ 时，$A_1 = A_3 = -\\frac{m_B}{2m_A} A_2$ ，即两边原子运动状态相同，但与中间原子的运动方向相反，振幅之比为 $A_1 : A_2 = m_B: 2m_A$ ；\n3. 当 $\\omega^2 = 0$ 时，$A_1 = A_2 = A_3$ ，系统做刚性平动。\n\n上面 $\\omega^2$ 取三个根时，系统分别对应了三个不同的状态，其中除了 $\\omega^2 = 0$ 外，其他两个状态都各自表明了一种特殊的振动模式，这些振动模式都对应了各自唯一的一个频率，称为**简正频率**。\n\n一般来说，简正模时系统中各自由度运动的某种特殊组合，是整个系统的集体运动方式，不是其中个别振子的行为所决定的。\n\n# 来两道题小试牛刀\n\n## 求下面系统的简正模\n\n三个质量为 $m$ 的质点和三个劲度系数为 $k$ 的弹簧串连在一起，紧套在光滑的水平圆周上（如下图）。求此系统的简正模（即简正频率和运动方式）。\n\n<img src=\"http://owucpthrj.bkt.clouddn.com/FvHP-LeH9BzMuBco5XNJP2darkrV\" width=\"400\"/>\n\n\n\n列出三个质点的动力学方程：\n$$\n\\begin{aligned}\n\tm\\frac{\\mathrm d^2}{\\mathrm dt^2} x_1&= -k(2x_1 - x_2 - x_3) = k(x_2 + x_3 - 2x_1) \\\\\n\tm\\frac{\\mathrm d^2}{\\mathrm dt^2} x_2&= -k(2x_2 - x_1 - x_3) = k(x_1 + x_3 - 2x_2) \\\\\n\tm\\frac{\\mathrm d^2}{\\mathrm dt^2} x_3&= -k(2x_3 - x_1 - x_2) = k(x_1 + x_2 - 2x_3) \n\\end{aligned}\n$$\n不妨设 $x_i = \\tilde{A_i}e^{\\mathrm i \\omega t}$ ，上面式子改写为\n$$\n\\begin{aligned}\n\t-\\omega^2 m A_1 e^{\\mathrm i\\omega t} &= k( A_2 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_1 e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2 m A_2 e^{\\mathrm i\\omega t} &= k( A_1 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_2 e^{\\mathrm i\\omega t} ) \\\\\n\t-\\omega^2 m A_3 e^{\\mathrm i\\omega t} &= k( A_1 e^{\\mathrm i\\omega t} + A_2 e^{\\mathrm i\\omega t} - 2A_3 e^{\\mathrm i\\omega t} ) \n\\end{aligned}\n$$\n经过化简，上面式子变为\n$$\n\\begin{aligned}\n\t( \\omega^2-\\frac{2k}{m} )A_1 + \\frac{k}{m}A_2 + \\frac{k}{m}A_3 &= 0\\\\\n\t\\frac{k}{m}A_1 + ( \\omega^2-\\frac{2k}{m} )A_2 + \\frac{k}{m}A_3 &= 0\\\\\n\t\\frac{k}{m}A_1 + \\frac{k}{m}A_2 + ( \\omega^2-\\frac{2k}{m} )A_2 &= 0\n\\end{aligned}\n$$\n\n上述式子成立的条件是矩阵对应的行列式值为零\n$$\n\\begin{vmatrix}\n\t( \\omega^2-\\frac{2k}{m} )A_1 & \\frac{k}{m}A_2 & \\frac{k}{m}A_3 \\\\\n\t\\frac{k}{m}A_1 & ( \\omega^2-\\frac{2k}{m} )A_2 & \\frac{k}{m}A_3 \\\\\n\t\\frac{k}{m}A_1 & \\frac{k}{m}A_2 & ( \\omega^2-\\frac{2k}{m} )A_3 \n\\end{vmatrix}\n= 0\n$$\n\n注意到这是一个特殊的行列式，使用结论可以~~口算~~很快算出\n$$\n(\\omega^2 - \\frac{2k}{m} + 2\\frac{k}{m}) (\\omega^2 -\\frac{2k}{m} - \\frac{k}{m}) ^2 = 0\n$$\n得到三个根 $\\omega_1 = 0$ ，$\\omega_2 = \\omega_3 = \\sqrt{\\frac{3k}{m}}$ 。\n\n这三个根代入方程组都得出\n$$\nA_1 = A_2 = A_3\n$$\n即当这个系统趋于稳定时，三个质点的运动是一致的，整个系统做刚体的平动（绕圆盘圆心转动）。\n\n\n\n## 求下面振子的周期公式\n\n竖直悬挂的弹簧振子，若弹簧本身质量不可忽略，试推导其周期公式。假设弹簧的质量不可忽略，k为其劲度系数，M为系于其上物体的质量（假设弹簧的伸长量由上到下与长度成正比地增加）。\n\n<img src=\"http://owucpthrj.bkt.clouddn.com/FvTsySEGcax0xAS0Xa7MC3bQuS3q\" width=\"150\"/>\n\n假设弹簧长度为 $L$ ，任意时刻 $M$ 的运动速度为 $v = v(t)$ ，则弹簧单位长度的质量为 $\\mu = \\frac{m}{L}$ ，又假设 $M$ 运动时弹簧上质点的速度是线性增加的，此时计算弹簧运动时的动能\n$$\n\\begin{aligned}\nV_{\\rm spring} &= \\int\\mathrm d \\bigg(\\frac{1}{2} m v^2 \\bigg) \\\\\n\t\t&= \\frac{1}{2} \\int_{0}^{L} \\bigg(\\mu \\mathrm dl \\cdot (v\\frac{l}{L})^2\\bigg) \\\\\n\t\t&= \\frac{mv^2}{2L^3} \\int_{0}^{L} l^2 \\mathrm d l \\\\\n\t\t&= \\frac{1}{2}\\cdot \\frac{m}{3} v^2\n\\end{aligned}\n$$\n 即弹簧的运动动能相当于在其末端悬挂了一个质量为 $\\frac{m}{3}$ 的质点运动时的动能，因此这个模型可以等效为一个质量为 0 的弹簧在其末端悬挂了质量 $M + \\frac{m}{3}$ 的质点做简谐运动，套用简谐运动的角频率公式即可解出 $M$ 运动时的角频率为\n$$\n\\begin{aligned}\n\t\\omega &= \\sqrt{ \\frac{k}{M + m/3} }\\\\\n\tT &= \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{ \\frac{M + m/3}{k} }\n\\end{aligned}\n$$\n\n# 总结\n\n简正模在刚开始看时还是挺费劲的，但是读了5遍左右就开始慢慢明白（大概是明白了吧，雾）了其物理含义，而在求解简正模时用到了线性代数的一点知识，算是复习了一下下线代，心里还是蛮开心的。最后那道题在看钱伯初先生的论文时对平均速度的求解目的不是很理解，后来经物吧腿娘大佬的正确指导下弄明白了如何应对这个问题。\n\n关于振动，不出意外，本渣应该会写两篇浅析，这是第一篇，第二篇已经在计划中，希望有生之年可以见到。\n\n以上","slug":"how-to-solve-viberation-1","published":1,"updated":"2017-10-02T02:33:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3sxb000ko1jmvsuu6zfg","content":"<h1 id=\"何为简谐振动\"><a href=\"#何为简谐振动\" class=\"headerlink\" title=\"何为简谐振动\"></a>何为简谐振动</h1><p>引用 Wikipedia 上的<a href=\"https://zh.wikipedia.org/zh-cn/%E7%B0%A1%E8%AB%A7%E9%81%8B%E5%8B%95\" target=\"_blank\" rel=\"external\">定义</a>，<strong>简谐运动</strong>（或<strong>简谐振动</strong>、<strong>谐振</strong>、<strong>SHM</strong>（Simple Harmonic Motion））既是最基本也是最简单的一种<a href=\"https://zh.wikipedia.org/wiki/%E6%8C%AF%E5%8A%A8\" target=\"_blank\" rel=\"external\">机械振动</a>。当某物体进行简谐运动时，物体所受的<a href=\"https://zh.wikipedia.org/wiki/%E5%8A%9B\" target=\"_blank\" rel=\"external\">力</a>跟<a href=\"https://zh.wikipedia.org/wiki/%E4%BD%8D%E7%A7%BB\" target=\"_blank\" rel=\"external\">位移</a>成正比，并且力总是指向平衡位置。</p>\n<p>典型的例子即为水平面内的弹簧振子，如下图所示（忽略一切摩擦）</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fkz3IAKLr9KLnGExvHe6RlsOB_Pr\" alt=\"\"></p>\n<p>如果用 $F$ 表示物体受到的回复力，用 $x$ 表示小球相对于平衡位置的位移，由胡克定律，小球受力总有<br>$$<br>F = -kx<br>$$<br>简谐振动系统的机械能守恒（即动能和弹簧的势能之间来回转换，动能和势能之和不变）。</p>\n<h1 id=\"动力学方程\"><a href=\"#动力学方程\" class=\"headerlink\" title=\"动力学方程\"></a>动力学方程</h1><h2 id=\"普通表述\"><a href=\"#普通表述\" class=\"headerlink\" title=\"普通表述\"></a>普通表述</h2><p>由牛顿第二定律<br>$$<br>F = ma<br>$$<br>因此<br>$$<br>ma + kx = 0<br>$$<br>即<br>$$<br>m\\ddot{x} + kx = 0<br>$$<br>解上面的方程（这是一个很简单的二阶线性齐次常系数微分方程，$mr^2 + k = 0$，推出 $r = \\pm i\\sqrt{\\frac{k}{m}}$，直接代入解的表达式并用欧拉公式展开即可），可以得到<br>$$<br>\\begin{aligned}<br>x &amp;= c_1 \\cos(\\omega t) + c_2 \\sin(\\omega t)\\\\<br> &amp;= A\\cos(\\omega t + \\varphi_0)<br>\\end{aligned}<br>$$</p>\n<p>式中<br>$$<br>\\begin{aligned}<br>\\omega &amp;= \\sqrt{\\frac km} &amp;&amp; \\omega 即为角频率\\\\<br>    A &amp;= \\sqrt{c_1^2 + c_2^2} &amp;&amp; A即为振幅\\\\<br>    \\varphi_0 &amp;= -\\tan\\frac{c_2}{c_1}&amp; &amp; \\varphi_0 即为初相位<br>\\end{aligned}<br>$$</p>\n<p>显然，从 $x(t)$ 的表达式可以看出，小球的运动呈现一个周期性，周期为<br>$$<br>T = \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{\\frac mk}<br>$$</p>\n<h2 id=\"复数表述\"><a href=\"#复数表述\" class=\"headerlink\" title=\"复数表述\"></a>复数表述</h2><p>这时 $x = A\\cos(\\omega t + \\varphi_0)$ 可以用一个复数表示（欧拉公式：$e^{\\mathrm i \\theta} = \\cos \\theta + \\mathrm i \\sin \\theta$，欧拉公式的推导借助了麦克劳林公式展开，感兴趣可以看<a href=\"https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%85%AC%E5%BC%8F\" target=\"_blank\" rel=\"external\">这里</a>）<br>$$<br>\\begin{aligned}<br>x = \\tilde{s}(t) &amp;= Ae^{\\mathrm i(\\omega t + \\varphi_0)} \\\\<br>  &amp; = Ae^{\\mathrm i\\omega t}\\cdot e^{\\mathrm i\\varphi_0} \\\\<br>  &amp; = (Ae^{\\mathrm i\\varphi_0})\\cdot e^{\\mathrm i\\omega t} \\\\<br>  &amp; = \\tilde{A} e^{\\mathrm i\\omega t}<br>\\end{aligned}<br>$$<br>（为什么要用复数呢？<del>因为可以装X，</del>因为后面涉及求简正模问题时使用复数会变得非常简单）</p>\n<p>此时小球的速度和加速度可以表示为<br>$$<br>\\begin{aligned}<br>    \\tilde{v} &amp;= \\frac{\\mathrm d \\tilde{s}}{\\mathrm d t} = \\frac{\\mathrm d}{\\mathrm dt} \\tilde{A} e^{\\mathrm i\\omega t}  = \\mathrm i \\omega \\tilde{A} e^{\\mathrm i\\omega t} = \\mathrm i\\omega \\tilde{s}\\\\<br>    \\tilde{a} &amp;= \\frac{\\mathrm d^2 \\tilde{s}}{\\mathrm d t^2} = \\frac{\\mathrm d^2}{\\mathrm d t^2} \\tilde{A} e^{\\mathrm i\\omega t} =  -{\\omega}^2 \\tilde{A} e^{\\mathrm i\\omega t}  = -{\\omega}^2 \\tilde{s}<br>\\end{aligned}<br>$$<br>显然，这种方式求导起来比普通表示法要方便很多。</p>\n<h1 id=\"能量转化分析\"><a href=\"#能量转化分析\" class=\"headerlink\" title=\"能量转化分析\"></a>能量转化分析</h1><p>这个系统中值得我们关注的能量有两种：弹簧的弹性势能 $T(x)$ 和小球的动能 $V(x)$。</p>\n<h2 id=\"对动能分析\"><a href=\"#对动能分析\" class=\"headerlink\" title=\"对动能分析\"></a>对动能分析</h2><p>显然有<br>$$<br>V(s) = \\frac 12 m\\dot{s}^2 = -\\frac 12 \\omega^2 \\tilde{s}^2<br>$$<br><del>没什么好说的</del></p>\n<h2 id=\"对势能分析\"><a href=\"#对势能分析\" class=\"headerlink\" title=\"对势能分析\"></a>对势能分析</h2><p><strong>注意，这一部分所分析的势能都是以平衡位置为零势能点所算起的势能。</strong></p>\n<p>弹簧的势能有<br>$$<br>T(s) = \\frac 12 k s^2<br>$$<br>对势能求二阶导<br>$$<br>\\frac{\\mathrm d^2}{\\mathrm ds^2} T(s) =  \\frac{\\mathrm d^2}{\\mathrm ds^2} \\bigg(\\frac12 ks^2 \\bigg)= k<br>$$<br>我们发现势能对位移求二阶导后恰好等于劲度系数，因此有<br>$$<br>\\begin{aligned}<br>    T &amp;= \\frac 12 T’’ s^2 \\\\<br>    f_{\\rm 回} &amp;= -T’’s<br>\\end{aligned}<br>$$<br>此时，我们上一小节所讲的所有公式中的振幅 $A$ 和 角频率 $\\omega$ 都可以用势能的二阶导数表示<br>$$<br>\\begin{aligned}<br>    A = s_{\\max} &amp;= \\sqrt{ \\frac{2E}{k} } = \\sqrt{ \\frac{2E}{T’’} } \\\\<br>        \\omega    &amp;= \\sqrt{ \\frac{k}{m} } = \\sqrt{ \\frac{T’’}{m} }<br>\\end{aligned}<br>$$</p>\n<p>根据这个条件，当我们遇到某些特殊情况而无法很轻松求出 $k$ ，但 $T$ 又显而易见时，我们可以使用上面的式子来计算振动的相关参数（比如摆）。</p>\n<h1 id=\"简正模\"><a href=\"#简正模\" class=\"headerlink\" title=\"简正模\"></a>简正模</h1><p>当我们研究的系统不再由单一振子，而是多个振子耦合在一起时，各个振子可能会有各自不同的固有频率，此时系统内的振子如何运动？如果这个系统是孤立的，那么系统的动量守恒，所有的振子一定会按照统一的频率振动，那么这个频率是由谁来决定？我们用一个例子来说明这个问题：</p>\n<p>下图表示一个线形三原子分子 $\\rm A_2B$ ，相邻原子之间的化学键看成弹性力，它的大小正比于原子离开平衡位置的距离，假设原子只做纵向振动（即振动方向始终与原子核之间连线共线），试求分子可能的纵向运动形式和相应的振动角频率。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fk4cNP6wcbGvH68621OHVFdoQIVz\" alt=\"\"></p>\n<p>我们假设从左到右三个原子相对平衡位置的位移分别为 $x_1,\\, x_2,\\, x_3$ ，列出它们的运动方程为<br>$$<br>\\begin{aligned}<br>    m_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_1 &amp;= -k(x_1 - x_2) \\\\<br>    m_B \\frac{\\mathrm d^2}{\\mathrm d t^2}x_2 &amp;= -k(x_2 - x_1) - k(x_2 - x_3) \\\\<br>    m_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_3 &amp;= -k(x_3 - x_2)<br>\\end{aligned}<br>$$<br>因为这是个孤立系统，所有原子的振动角频率相同，不妨设所有原子的振动角频率都是 $\\omega$ ，所以所有原子的位移可以表示为<br>$$<br>\\tilde x_i = \\tilde A_i e^{\\mathrm i \\omega t}<br>$$<br>上面的运动方程可以改写为<br>$$<br>\\begin{aligned}<br>    -\\omega^2m_A A_1 e^{\\mathrm i\\omega t} &amp;= -k(A_1 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2m_B A_2 e^{\\mathrm i\\omega t} &amp;= -k(2A_2 e^{\\mathrm i \\omega t} - (A_1+A_3) e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2m_A A_3 e^{\\mathrm i\\omega t} &amp;= -k(A_3 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\<br>\\end{aligned}<br>$$<br>经过化简可以得到<br>$$<br>\\begin{cases}<br>    (\\omega^2-\\frac{k}{m_A})A_1 + \\dfrac{k}{m_A}A_2 = 0 \\\\<br>    \\dfrac{k}{m_B}A_1 + (\\omega^2-\\dfrac{2k}{m_B})A_2 + \\dfrac{k}{m_B}A_3 = 0 \\\\<br>    \\dfrac{k}{m_A}A_2 + (\\omega^2-\\dfrac{k}{m_A})A_3 = 0<br>\\end{cases}<br>$$</p>\n<p>上述方程组有解得条件是<br>$$<br>\\begin{vmatrix}<br>    (\\omega^2-\\frac{k}{m_A})A_1 &amp; \\frac{k}{m_A}A_2  &amp; 0\\\\<br>    \\frac{k}{m_B}A_1 &amp; (\\omega^2-\\frac{2k}{m_B})A_2 &amp; \\frac{k}{m_B}A_3 \\\\<br>    0 &amp; \\frac{k}{m_A}A_2 &amp; (\\omega^2-\\frac{k}{m_A})A_3<br>\\end{vmatrix}<br>= 0<br>$$<br>即<br>$$<br>(\\omega^2 - \\frac{k}{m_A})^2 (\\omega^2 - \\frac{2k}{m_B}) - 2(\\omega^2 - \\frac{k}{m_A})\\frac{k^2}{m_A m_B} = 0<br>$$<br>进一步因式分解可以得到<br>$$<br>(\\omega^2 - \\frac{k}{m_A}) (\\omega^2 - \\frac{k(2m_A+m_B)}{m_A m_B})\\omega^2= 0<br>$$<br>此时 $\\omega ^2$ 有三个根，分别为 $\\frac{k}{m_A} $ ， $\\frac{k(2m_A+m_B)}{m_A m_B}$ ， $0$ 。下面对这三个根进行讨论：</p>\n<ol>\n<li>当 $\\omega^2 = \\frac{k}{m_A}$ 时，$A_1 + A_3 = 0$ 且 $A_2 = 0$ ，即中间原子不动，两边原子做做振动方向相反、振幅和频率相同的运动；</li>\n<li>当 $\\omega^2 = \\frac{k(2m_A + m_B)}{m_A m_B}$ 时，$A_1 = A_3 = -\\frac{m_B}{2m_A} A_2$ ，即两边原子运动状态相同，但与中间原子的运动方向相反，振幅之比为 $A_1 : A_2 = m_B: 2m_A$ ；</li>\n<li>当 $\\omega^2 = 0$ 时，$A_1 = A_2 = A_3$ ，系统做刚性平动。</li>\n</ol>\n<p>上面 $\\omega^2$ 取三个根时，系统分别对应了三个不同的状态，其中除了 $\\omega^2 = 0$ 外，其他两个状态都各自表明了一种特殊的振动模式，这些振动模式都对应了各自唯一的一个频率，称为<strong>简正频率</strong>。</p>\n<p>一般来说，简正模时系统中各自由度运动的某种特殊组合，是整个系统的集体运动方式，不是其中个别振子的行为所决定的。</p>\n<h1 id=\"来两道题小试牛刀\"><a href=\"#来两道题小试牛刀\" class=\"headerlink\" title=\"来两道题小试牛刀\"></a>来两道题小试牛刀</h1><h2 id=\"求下面系统的简正模\"><a href=\"#求下面系统的简正模\" class=\"headerlink\" title=\"求下面系统的简正模\"></a>求下面系统的简正模</h2><p>三个质量为 $m$ 的质点和三个劲度系数为 $k$ 的弹簧串连在一起，紧套在光滑的水平圆周上（如下图）。求此系统的简正模（即简正频率和运动方式）。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FvHP-LeH9BzMuBco5XNJP2darkrV\" width=\"400\"></p>\n<p>列出三个质点的动力学方程：<br>$$<br>\\begin{aligned}<br>    m\\frac{\\mathrm d^2}{\\mathrm dt^2} x_1&amp;= -k(2x_1 - x_2 - x_3) = k(x_2 + x_3 - 2x_1) \\\\<br>    m\\frac{\\mathrm d^2}{\\mathrm dt^2} x_2&amp;= -k(2x_2 - x_1 - x_3) = k(x_1 + x_3 - 2x_2) \\\\<br>    m\\frac{\\mathrm d^2}{\\mathrm dt^2} x_3&amp;= -k(2x_3 - x_1 - x_2) = k(x_1 + x_2 - 2x_3)<br>\\end{aligned}<br>$$<br>不妨设 $x_i = \\tilde{A_i}e^{\\mathrm i \\omega t}$ ，上面式子改写为<br>$$<br>\\begin{aligned}<br>    -\\omega^2 m A_1 e^{\\mathrm i\\omega t} &amp;= k( A_2 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_1 e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2 m A_2 e^{\\mathrm i\\omega t} &amp;= k( A_1 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_2 e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2 m A_3 e^{\\mathrm i\\omega t} &amp;= k( A_1 e^{\\mathrm i\\omega t} + A_2 e^{\\mathrm i\\omega t} - 2A_3 e^{\\mathrm i\\omega t} )<br>\\end{aligned}<br>$$<br>经过化简，上面式子变为<br>$$<br>\\begin{aligned}<br>    ( \\omega^2-\\frac{2k}{m} )A_1 + \\frac{k}{m}A_2 + \\frac{k}{m}A_3 &amp;= 0\\\\<br>    \\frac{k}{m}A_1 + ( \\omega^2-\\frac{2k}{m} )A_2 + \\frac{k}{m}A_3 &amp;= 0\\\\<br>    \\frac{k}{m}A_1 + \\frac{k}{m}A_2 + ( \\omega^2-\\frac{2k}{m} )A_2 &amp;= 0<br>\\end{aligned}<br>$$</p>\n<p>上述式子成立的条件是矩阵对应的行列式值为零<br>$$<br>\\begin{vmatrix}<br>    ( \\omega^2-\\frac{2k}{m} )A_1 &amp; \\frac{k}{m}A_2 &amp; \\frac{k}{m}A_3 \\\\<br>    \\frac{k}{m}A_1 &amp; ( \\omega^2-\\frac{2k}{m} )A_2 &amp; \\frac{k}{m}A_3 \\\\<br>    \\frac{k}{m}A_1 &amp; \\frac{k}{m}A_2 &amp; ( \\omega^2-\\frac{2k}{m} )A_3<br>\\end{vmatrix}<br>= 0<br>$$</p>\n<p>注意到这是一个特殊的行列式，使用结论可以<del>口算</del>很快算出<br>$$<br>(\\omega^2 - \\frac{2k}{m} + 2\\frac{k}{m}) (\\omega^2 -\\frac{2k}{m} - \\frac{k}{m}) ^2 = 0<br>$$<br>得到三个根 $\\omega_1 = 0$ ，$\\omega_2 = \\omega_3 = \\sqrt{\\frac{3k}{m}}$ 。</p>\n<p>这三个根代入方程组都得出<br>$$<br>A_1 = A_2 = A_3<br>$$<br>即当这个系统趋于稳定时，三个质点的运动是一致的，整个系统做刚体的平动（绕圆盘圆心转动）。</p>\n<h2 id=\"求下面振子的周期公式\"><a href=\"#求下面振子的周期公式\" class=\"headerlink\" title=\"求下面振子的周期公式\"></a>求下面振子的周期公式</h2><p>竖直悬挂的弹簧振子，若弹簧本身质量不可忽略，试推导其周期公式。假设弹簧的质量不可忽略，k为其劲度系数，M为系于其上物体的质量（假设弹簧的伸长量由上到下与长度成正比地增加）。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FvTsySEGcax0xAS0Xa7MC3bQuS3q\" width=\"150\"></p>\n<p>假设弹簧长度为 $L$ ，任意时刻 $M$ 的运动速度为 $v = v(t)$ ，则弹簧单位长度的质量为 $\\mu = \\frac{m}{L}$ ，又假设 $M$ 运动时弹簧上质点的速度是线性增加的，此时计算弹簧运动时的动能<br>$$<br>\\begin{aligned}<br>V_{\\rm spring} &amp;= \\int\\mathrm d \\bigg(\\frac{1}{2} m v^2 \\bigg) \\\\<br>        &amp;= \\frac{1}{2} \\int_{0}^{L} \\bigg(\\mu \\mathrm dl \\cdot (v\\frac{l}{L})^2\\bigg) \\\\<br>        &amp;= \\frac{mv^2}{2L^3} \\int_{0}^{L} l^2 \\mathrm d l \\\\<br>        &amp;= \\frac{1}{2}\\cdot \\frac{m}{3} v^2<br>\\end{aligned}<br>$$<br> 即弹簧的运动动能相当于在其末端悬挂了一个质量为 $\\frac{m}{3}$ 的质点运动时的动能，因此这个模型可以等效为一个质量为 0 的弹簧在其末端悬挂了质量 $M + \\frac{m}{3}$ 的质点做简谐运动，套用简谐运动的角频率公式即可解出 $M$ 运动时的角频率为<br>$$<br>\\begin{aligned}<br>    \\omega &amp;= \\sqrt{ \\frac{k}{M + m/3} }\\\\<br>    T &amp;= \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{ \\frac{M + m/3}{k} }<br>\\end{aligned}<br>$$</p>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>简正模在刚开始看时还是挺费劲的，但是读了5遍左右就开始慢慢明白（大概是明白了吧，雾）了其物理含义，而在求解简正模时用到了线性代数的一点知识，算是复习了一下下线代，心里还是蛮开心的。最后那道题在看钱伯初先生的论文时对平均速度的求解目的不是很理解，后来经物吧腿娘大佬的正确指导下弄明白了如何应对这个问题。</p>\n<p>关于振动，不出意外，本渣应该会写两篇浅析，这是第一篇，第二篇已经在计划中，希望有生之年可以见到。</p>\n<p>以上</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"何为简谐振动\"><a href=\"#何为简谐振动\" class=\"headerlink\" title=\"何为简谐振动\"></a>何为简谐振动</h1><p>引用 Wikipedia 上的<a href=\"https://zh.wikipedia.org/zh-cn/%E7%B0%A1%E8%AB%A7%E9%81%8B%E5%8B%95\" target=\"_blank\" rel=\"external\">定义</a>，<strong>简谐运动</strong>（或<strong>简谐振动</strong>、<strong>谐振</strong>、<strong>SHM</strong>（Simple Harmonic Motion））既是最基本也是最简单的一种<a href=\"https://zh.wikipedia.org/wiki/%E6%8C%AF%E5%8A%A8\" target=\"_blank\" rel=\"external\">机械振动</a>。当某物体进行简谐运动时，物体所受的<a href=\"https://zh.wikipedia.org/wiki/%E5%8A%9B\" target=\"_blank\" rel=\"external\">力</a>跟<a href=\"https://zh.wikipedia.org/wiki/%E4%BD%8D%E7%A7%BB\" target=\"_blank\" rel=\"external\">位移</a>成正比，并且力总是指向平衡位置。</p>\n<p>典型的例子即为水平面内的弹簧振子，如下图所示（忽略一切摩擦）</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fkz3IAKLr9KLnGExvHe6RlsOB_Pr\" alt=\"\"></p>\n<p>如果用 $F$ 表示物体受到的回复力，用 $x$ 表示小球相对于平衡位置的位移，由胡克定律，小球受力总有<br>$$<br>F = -kx<br>$$<br>简谐振动系统的机械能守恒（即动能和弹簧的势能之间来回转换，动能和势能之和不变）。</p>\n<h1 id=\"动力学方程\"><a href=\"#动力学方程\" class=\"headerlink\" title=\"动力学方程\"></a>动力学方程</h1><h2 id=\"普通表述\"><a href=\"#普通表述\" class=\"headerlink\" title=\"普通表述\"></a>普通表述</h2><p>由牛顿第二定律<br>$$<br>F = ma<br>$$<br>因此<br>$$<br>ma + kx = 0<br>$$<br>即<br>$$<br>m\\ddot{x} + kx = 0<br>$$<br>解上面的方程（这是一个很简单的二阶线性齐次常系数微分方程，$mr^2 + k = 0$，推出 $r = \\pm i\\sqrt{\\frac{k}{m}}$，直接代入解的表达式并用欧拉公式展开即可），可以得到<br>$$<br>\\begin{aligned}<br>x &amp;= c_1 \\cos(\\omega t) + c_2 \\sin(\\omega t)\\\\<br> &amp;= A\\cos(\\omega t + \\varphi_0)<br>\\end{aligned}<br>$$</p>\n<p>式中<br>$$<br>\\begin{aligned}<br>\\omega &amp;= \\sqrt{\\frac km} &amp;&amp; \\omega 即为角频率\\\\<br>    A &amp;= \\sqrt{c_1^2 + c_2^2} &amp;&amp; A即为振幅\\\\<br>    \\varphi_0 &amp;= -\\tan\\frac{c_2}{c_1}&amp; &amp; \\varphi_0 即为初相位<br>\\end{aligned}<br>$$</p>\n<p>显然，从 $x(t)$ 的表达式可以看出，小球的运动呈现一个周期性，周期为<br>$$<br>T = \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{\\frac mk}<br>$$</p>\n<h2 id=\"复数表述\"><a href=\"#复数表述\" class=\"headerlink\" title=\"复数表述\"></a>复数表述</h2><p>这时 $x = A\\cos(\\omega t + \\varphi_0)$ 可以用一个复数表示（欧拉公式：$e^{\\mathrm i \\theta} = \\cos \\theta + \\mathrm i \\sin \\theta$，欧拉公式的推导借助了麦克劳林公式展开，感兴趣可以看<a href=\"https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%85%AC%E5%BC%8F\" target=\"_blank\" rel=\"external\">这里</a>）<br>$$<br>\\begin{aligned}<br>x = \\tilde{s}(t) &amp;= Ae^{\\mathrm i(\\omega t + \\varphi_0)} \\\\<br>  &amp; = Ae^{\\mathrm i\\omega t}\\cdot e^{\\mathrm i\\varphi_0} \\\\<br>  &amp; = (Ae^{\\mathrm i\\varphi_0})\\cdot e^{\\mathrm i\\omega t} \\\\<br>  &amp; = \\tilde{A} e^{\\mathrm i\\omega t}<br>\\end{aligned}<br>$$<br>（为什么要用复数呢？<del>因为可以装X，</del>因为后面涉及求简正模问题时使用复数会变得非常简单）</p>\n<p>此时小球的速度和加速度可以表示为<br>$$<br>\\begin{aligned}<br>    \\tilde{v} &amp;= \\frac{\\mathrm d \\tilde{s}}{\\mathrm d t} = \\frac{\\mathrm d}{\\mathrm dt} \\tilde{A} e^{\\mathrm i\\omega t}  = \\mathrm i \\omega \\tilde{A} e^{\\mathrm i\\omega t} = \\mathrm i\\omega \\tilde{s}\\\\<br>    \\tilde{a} &amp;= \\frac{\\mathrm d^2 \\tilde{s}}{\\mathrm d t^2} = \\frac{\\mathrm d^2}{\\mathrm d t^2} \\tilde{A} e^{\\mathrm i\\omega t} =  -{\\omega}^2 \\tilde{A} e^{\\mathrm i\\omega t}  = -{\\omega}^2 \\tilde{s}<br>\\end{aligned}<br>$$<br>显然，这种方式求导起来比普通表示法要方便很多。</p>\n<h1 id=\"能量转化分析\"><a href=\"#能量转化分析\" class=\"headerlink\" title=\"能量转化分析\"></a>能量转化分析</h1><p>这个系统中值得我们关注的能量有两种：弹簧的弹性势能 $T(x)$ 和小球的动能 $V(x)$。</p>\n<h2 id=\"对动能分析\"><a href=\"#对动能分析\" class=\"headerlink\" title=\"对动能分析\"></a>对动能分析</h2><p>显然有<br>$$<br>V(s) = \\frac 12 m\\dot{s}^2 = -\\frac 12 \\omega^2 \\tilde{s}^2<br>$$<br><del>没什么好说的</del></p>\n<h2 id=\"对势能分析\"><a href=\"#对势能分析\" class=\"headerlink\" title=\"对势能分析\"></a>对势能分析</h2><p><strong>注意，这一部分所分析的势能都是以平衡位置为零势能点所算起的势能。</strong></p>\n<p>弹簧的势能有<br>$$<br>T(s) = \\frac 12 k s^2<br>$$<br>对势能求二阶导<br>$$<br>\\frac{\\mathrm d^2}{\\mathrm ds^2} T(s) =  \\frac{\\mathrm d^2}{\\mathrm ds^2} \\bigg(\\frac12 ks^2 \\bigg)= k<br>$$<br>我们发现势能对位移求二阶导后恰好等于劲度系数，因此有<br>$$<br>\\begin{aligned}<br>    T &amp;= \\frac 12 T’’ s^2 \\\\<br>    f_{\\rm 回} &amp;= -T’’s<br>\\end{aligned}<br>$$<br>此时，我们上一小节所讲的所有公式中的振幅 $A$ 和 角频率 $\\omega$ 都可以用势能的二阶导数表示<br>$$<br>\\begin{aligned}<br>    A = s_{\\max} &amp;= \\sqrt{ \\frac{2E}{k} } = \\sqrt{ \\frac{2E}{T’’} } \\\\<br>        \\omega    &amp;= \\sqrt{ \\frac{k}{m} } = \\sqrt{ \\frac{T’’}{m} }<br>\\end{aligned}<br>$$</p>\n<p>根据这个条件，当我们遇到某些特殊情况而无法很轻松求出 $k$ ，但 $T$ 又显而易见时，我们可以使用上面的式子来计算振动的相关参数（比如摆）。</p>\n<h1 id=\"简正模\"><a href=\"#简正模\" class=\"headerlink\" title=\"简正模\"></a>简正模</h1><p>当我们研究的系统不再由单一振子，而是多个振子耦合在一起时，各个振子可能会有各自不同的固有频率，此时系统内的振子如何运动？如果这个系统是孤立的，那么系统的动量守恒，所有的振子一定会按照统一的频率振动，那么这个频率是由谁来决定？我们用一个例子来说明这个问题：</p>\n<p>下图表示一个线形三原子分子 $\\rm A_2B$ ，相邻原子之间的化学键看成弹性力，它的大小正比于原子离开平衡位置的距离，假设原子只做纵向振动（即振动方向始终与原子核之间连线共线），试求分子可能的纵向运动形式和相应的振动角频率。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fk4cNP6wcbGvH68621OHVFdoQIVz\" alt=\"\"></p>\n<p>我们假设从左到右三个原子相对平衡位置的位移分别为 $x_1,\\, x_2,\\, x_3$ ，列出它们的运动方程为<br>$$<br>\\begin{aligned}<br>    m_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_1 &amp;= -k(x_1 - x_2) \\\\<br>    m_B \\frac{\\mathrm d^2}{\\mathrm d t^2}x_2 &amp;= -k(x_2 - x_1) - k(x_2 - x_3) \\\\<br>    m_A \\frac{\\mathrm d^2}{\\mathrm d t^2}x_3 &amp;= -k(x_3 - x_2)<br>\\end{aligned}<br>$$<br>因为这是个孤立系统，所有原子的振动角频率相同，不妨设所有原子的振动角频率都是 $\\omega$ ，所以所有原子的位移可以表示为<br>$$<br>\\tilde x_i = \\tilde A_i e^{\\mathrm i \\omega t}<br>$$<br>上面的运动方程可以改写为<br>$$<br>\\begin{aligned}<br>    -\\omega^2m_A A_1 e^{\\mathrm i\\omega t} &amp;= -k(A_1 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2m_B A_2 e^{\\mathrm i\\omega t} &amp;= -k(2A_2 e^{\\mathrm i \\omega t} - (A_1+A_3) e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2m_A A_3 e^{\\mathrm i\\omega t} &amp;= -k(A_3 e^{\\mathrm i \\omega t} - A_2 e^{\\mathrm i\\omega t} ) \\\\<br>\\end{aligned}<br>$$<br>经过化简可以得到<br>$$<br>\\begin{cases}<br>    (\\omega^2-\\frac{k}{m_A})A_1 + \\dfrac{k}{m_A}A_2 = 0 \\\\<br>    \\dfrac{k}{m_B}A_1 + (\\omega^2-\\dfrac{2k}{m_B})A_2 + \\dfrac{k}{m_B}A_3 = 0 \\\\<br>    \\dfrac{k}{m_A}A_2 + (\\omega^2-\\dfrac{k}{m_A})A_3 = 0<br>\\end{cases}<br>$$</p>\n<p>上述方程组有解得条件是<br>$$<br>\\begin{vmatrix}<br>    (\\omega^2-\\frac{k}{m_A})A_1 &amp; \\frac{k}{m_A}A_2  &amp; 0\\\\<br>    \\frac{k}{m_B}A_1 &amp; (\\omega^2-\\frac{2k}{m_B})A_2 &amp; \\frac{k}{m_B}A_3 \\\\<br>    0 &amp; \\frac{k}{m_A}A_2 &amp; (\\omega^2-\\frac{k}{m_A})A_3<br>\\end{vmatrix}<br>= 0<br>$$<br>即<br>$$<br>(\\omega^2 - \\frac{k}{m_A})^2 (\\omega^2 - \\frac{2k}{m_B}) - 2(\\omega^2 - \\frac{k}{m_A})\\frac{k^2}{m_A m_B} = 0<br>$$<br>进一步因式分解可以得到<br>$$<br>(\\omega^2 - \\frac{k}{m_A}) (\\omega^2 - \\frac{k(2m_A+m_B)}{m_A m_B})\\omega^2= 0<br>$$<br>此时 $\\omega ^2$ 有三个根，分别为 $\\frac{k}{m_A} $ ， $\\frac{k(2m_A+m_B)}{m_A m_B}$ ， $0$ 。下面对这三个根进行讨论：</p>\n<ol>\n<li>当 $\\omega^2 = \\frac{k}{m_A}$ 时，$A_1 + A_3 = 0$ 且 $A_2 = 0$ ，即中间原子不动，两边原子做做振动方向相反、振幅和频率相同的运动；</li>\n<li>当 $\\omega^2 = \\frac{k(2m_A + m_B)}{m_A m_B}$ 时，$A_1 = A_3 = -\\frac{m_B}{2m_A} A_2$ ，即两边原子运动状态相同，但与中间原子的运动方向相反，振幅之比为 $A_1 : A_2 = m_B: 2m_A$ ；</li>\n<li>当 $\\omega^2 = 0$ 时，$A_1 = A_2 = A_3$ ，系统做刚性平动。</li>\n</ol>\n<p>上面 $\\omega^2$ 取三个根时，系统分别对应了三个不同的状态，其中除了 $\\omega^2 = 0$ 外，其他两个状态都各自表明了一种特殊的振动模式，这些振动模式都对应了各自唯一的一个频率，称为<strong>简正频率</strong>。</p>\n<p>一般来说，简正模时系统中各自由度运动的某种特殊组合，是整个系统的集体运动方式，不是其中个别振子的行为所决定的。</p>\n<h1 id=\"来两道题小试牛刀\"><a href=\"#来两道题小试牛刀\" class=\"headerlink\" title=\"来两道题小试牛刀\"></a>来两道题小试牛刀</h1><h2 id=\"求下面系统的简正模\"><a href=\"#求下面系统的简正模\" class=\"headerlink\" title=\"求下面系统的简正模\"></a>求下面系统的简正模</h2><p>三个质量为 $m$ 的质点和三个劲度系数为 $k$ 的弹簧串连在一起，紧套在光滑的水平圆周上（如下图）。求此系统的简正模（即简正频率和运动方式）。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FvHP-LeH9BzMuBco5XNJP2darkrV\" width=\"400\"></p>\n<p>列出三个质点的动力学方程：<br>$$<br>\\begin{aligned}<br>    m\\frac{\\mathrm d^2}{\\mathrm dt^2} x_1&amp;= -k(2x_1 - x_2 - x_3) = k(x_2 + x_3 - 2x_1) \\\\<br>    m\\frac{\\mathrm d^2}{\\mathrm dt^2} x_2&amp;= -k(2x_2 - x_1 - x_3) = k(x_1 + x_3 - 2x_2) \\\\<br>    m\\frac{\\mathrm d^2}{\\mathrm dt^2} x_3&amp;= -k(2x_3 - x_1 - x_2) = k(x_1 + x_2 - 2x_3)<br>\\end{aligned}<br>$$<br>不妨设 $x_i = \\tilde{A_i}e^{\\mathrm i \\omega t}$ ，上面式子改写为<br>$$<br>\\begin{aligned}<br>    -\\omega^2 m A_1 e^{\\mathrm i\\omega t} &amp;= k( A_2 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_1 e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2 m A_2 e^{\\mathrm i\\omega t} &amp;= k( A_1 e^{\\mathrm i\\omega t} + A_3 e^{\\mathrm i\\omega t} - 2A_2 e^{\\mathrm i\\omega t} ) \\\\<br>    -\\omega^2 m A_3 e^{\\mathrm i\\omega t} &amp;= k( A_1 e^{\\mathrm i\\omega t} + A_2 e^{\\mathrm i\\omega t} - 2A_3 e^{\\mathrm i\\omega t} )<br>\\end{aligned}<br>$$<br>经过化简，上面式子变为<br>$$<br>\\begin{aligned}<br>    ( \\omega^2-\\frac{2k}{m} )A_1 + \\frac{k}{m}A_2 + \\frac{k}{m}A_3 &amp;= 0\\\\<br>    \\frac{k}{m}A_1 + ( \\omega^2-\\frac{2k}{m} )A_2 + \\frac{k}{m}A_3 &amp;= 0\\\\<br>    \\frac{k}{m}A_1 + \\frac{k}{m}A_2 + ( \\omega^2-\\frac{2k}{m} )A_2 &amp;= 0<br>\\end{aligned}<br>$$</p>\n<p>上述式子成立的条件是矩阵对应的行列式值为零<br>$$<br>\\begin{vmatrix}<br>    ( \\omega^2-\\frac{2k}{m} )A_1 &amp; \\frac{k}{m}A_2 &amp; \\frac{k}{m}A_3 \\\\<br>    \\frac{k}{m}A_1 &amp; ( \\omega^2-\\frac{2k}{m} )A_2 &amp; \\frac{k}{m}A_3 \\\\<br>    \\frac{k}{m}A_1 &amp; \\frac{k}{m}A_2 &amp; ( \\omega^2-\\frac{2k}{m} )A_3<br>\\end{vmatrix}<br>= 0<br>$$</p>\n<p>注意到这是一个特殊的行列式，使用结论可以<del>口算</del>很快算出<br>$$<br>(\\omega^2 - \\frac{2k}{m} + 2\\frac{k}{m}) (\\omega^2 -\\frac{2k}{m} - \\frac{k}{m}) ^2 = 0<br>$$<br>得到三个根 $\\omega_1 = 0$ ，$\\omega_2 = \\omega_3 = \\sqrt{\\frac{3k}{m}}$ 。</p>\n<p>这三个根代入方程组都得出<br>$$<br>A_1 = A_2 = A_3<br>$$<br>即当这个系统趋于稳定时，三个质点的运动是一致的，整个系统做刚体的平动（绕圆盘圆心转动）。</p>\n<h2 id=\"求下面振子的周期公式\"><a href=\"#求下面振子的周期公式\" class=\"headerlink\" title=\"求下面振子的周期公式\"></a>求下面振子的周期公式</h2><p>竖直悬挂的弹簧振子，若弹簧本身质量不可忽略，试推导其周期公式。假设弹簧的质量不可忽略，k为其劲度系数，M为系于其上物体的质量（假设弹簧的伸长量由上到下与长度成正比地增加）。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FvTsySEGcax0xAS0Xa7MC3bQuS3q\" width=\"150\"></p>\n<p>假设弹簧长度为 $L$ ，任意时刻 $M$ 的运动速度为 $v = v(t)$ ，则弹簧单位长度的质量为 $\\mu = \\frac{m}{L}$ ，又假设 $M$ 运动时弹簧上质点的速度是线性增加的，此时计算弹簧运动时的动能<br>$$<br>\\begin{aligned}<br>V_{\\rm spring} &amp;= \\int\\mathrm d \\bigg(\\frac{1}{2} m v^2 \\bigg) \\\\<br>        &amp;= \\frac{1}{2} \\int_{0}^{L} \\bigg(\\mu \\mathrm dl \\cdot (v\\frac{l}{L})^2\\bigg) \\\\<br>        &amp;= \\frac{mv^2}{2L^3} \\int_{0}^{L} l^2 \\mathrm d l \\\\<br>        &amp;= \\frac{1}{2}\\cdot \\frac{m}{3} v^2<br>\\end{aligned}<br>$$<br> 即弹簧的运动动能相当于在其末端悬挂了一个质量为 $\\frac{m}{3}$ 的质点运动时的动能，因此这个模型可以等效为一个质量为 0 的弹簧在其末端悬挂了质量 $M + \\frac{m}{3}$ 的质点做简谐运动，套用简谐运动的角频率公式即可解出 $M$ 运动时的角频率为<br>$$<br>\\begin{aligned}<br>    \\omega &amp;= \\sqrt{ \\frac{k}{M + m/3} }\\\\<br>    T &amp;= \\frac{2\\pi}{\\omega} = 2\\pi \\sqrt{ \\frac{M + m/3}{k} }<br>\\end{aligned}<br>$$</p>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>简正模在刚开始看时还是挺费劲的，但是读了5遍左右就开始慢慢明白（大概是明白了吧，雾）了其物理含义，而在求解简正模时用到了线性代数的一点知识，算是复习了一下下线代，心里还是蛮开心的。最后那道题在看钱伯初先生的论文时对平均速度的求解目的不是很理解，后来经物吧腿娘大佬的正确指导下弄明白了如何应对这个问题。</p>\n<p>关于振动，不出意外，本渣应该会写两篇浅析，这是第一篇，第二篇已经在计划中，希望有生之年可以见到。</p>\n<p>以上</p>\n"},{"title":"在 VASP(PBE) 计算中如何优雅地踩坑？","date":"2018-03-28T09:28:20.000Z","_content":"\n\n# 在 `VASP` (PBE)计算中如何优雅地踩坑？\n\n[TOC]\n\n> **警告**：本渣刚学 `VASP` 不久，对 `VASP` 的算法、参数不甚了解，如果有大触偶遇此文，并发现有错误，请在评论区指出或邮箱联系本渣。\n\n本文是本渣从 3 月初以来刚接触 `VASP` 所学技能与遇到坑的总结，以纪念我为文献中一副图而逝去的最近一星期。何为 `VASP` 以及` VASP` 能做什么？本渣只是一个刚学的菜鸡，恕不能回答，请自行 Google 解决。\n\n## VASP 的输入文件\n\n想要执行一次最简单的计算，`VASP` 需要至少4个文件，它们分别是：\n\n- `INCAR`：`VASP` 计算的**核心**文件，基本等同于本次计算的司令部。它包含了“**算什么**”、“**怎么算**”、和“**输入、输出那些**”这三个方面的内容，它的几项常用（PBE计算中）参数在后面我们会较为详细地了解到；\n- `POSCAR`：决定元胞结构的文件。它包含了元胞的格子类型、格子大小、以和格子内所有原子的种类及坐标，在弛豫时，它还可以指定哪些原子可以在哪些方向上进行[弛豫](https://en.wikipedia.org/wiki/Relaxation_(physics))，在 `VASP` 中我们无需给出原子间的成键情况，仅给出原子的坐标即可；\n- `KPOINTS`：描述 `VASP` 计算中对元胞格子的 mesh 精细度，或指定格子中哪些点的信息需要计算（？这里留个问号，本渣也不是很懂这里）；\n- `POTCAR`：赝势库，按 `POSCAR` 中元素列出顺序给出了对应元素的赝势库。\n\n**以上四个文件全为文本文件**。当然我们还可以命令 `VASP` 读取上一次的计算结果，比如 `WAVECAR` ，比如 `CHGCAR` ，用以更快地收敛或者执行某些特殊的计算。\n\n## 我们需要 VASP 的哪些输出文件？（目前为止）\n\n- `OUTCAR`：`VASP` 的计算日志，里面包含了几乎所有我们需要的结果，明文存储，随计算过程实时更新；\n- ~~`WAVECAR`：**二进制**文件，经常很大，计算结束时会将内存中的波函数平面波系数写入该文件。（我对这个文件所了解的仅有这些；~~\n- `OSZICAR`：`VASP` 计算过程中能量收敛日志，每个电子步结束时写入；\n- ~~`EIGENVAL`：`VASP` 计算出的能带信息保存在这个文件中，计算结束时被写入（可以使用 `Python` 等工具以它为输入绘制能带图，但本渣太菜，目前还没写这个小程序；~~\n- `CONTCAR`：在[弛豫](https://en.wikipedia.org/wiki/Relaxation_(physics))中，这个文件包含了`VASP`每个离子步结束时系统优化得到的元胞原子的坐标，每个离子步结束时写入；如果希望从还未收敛的弛豫结果继续计算，应直接将这个文件复制并重命名为 `POSCAR` 继续计算即可；\n- ~~`CHG` & `CHGCAR`：这个两个文件都包含了元胞中原子的位置信息，以及电荷密度信息，但 `CHG` 比 `CHGCAR` 小一些，因其不包含 `PAW one centre`；~~\n- `vasprun.xml`：XML 格式存储的 `VASP` 计算过程日志。\n\n## 用 PBE 方法跑出能带图的总体步骤\n\n1. 阅读文献，列出文献所给参数（如果有的话），比如 `SIGMA` ，`ISMEAR` ，`ENCUT` ，晶格常数 $a$ 等等信息；\n2. 查阅资料，实现文献所给结构，关注文献的结构是否经过超胞，是否有真空层，是否考虑 vdW ；\n3. 按顺序测出适合该体系的 `SIGMA` 、`ENCUT` 、kpts 、`a` ；（如果文献中给出了这些参数可跳过这一步\n4. 对结构进行弛豫，优化出最稳定结构；\n5. 对体系进行高精度的电子自洽计算；\n6. 跑出能带图、DOS 图以及直接获得所需的能量值等。\n\n# 正文开始\n\n下面以单层 C3B 结构为例，走一遍上面的流程，看看有哪些坑。\n\n## 获取参数\n\n```fortran\na = 5.17 \t\t! 晶格常数\nEDIFF = 1.0E-6\t! 弛豫收敛条件\nEDIFFG = -0.001\t! \n\nkpts: Monkhorst\t! KPOINTS 取法\n```\n\n文献给出单层 C3B 的结构为 D6，长这样（从上往下看：\n\n![](http://owucpthrj.bkt.clouddn.com/FpGVI905Z66B8ksQjiULb3cLahCV)\n\n## 实现结构\n\n建立元胞的格子基矢，并表示出各个原子的坐标\n\n![](http://owucpthrj.bkt.clouddn.com/FiQMZt8-XbO9iXes05rkDhfFjHls)\n\n所以它对应的 `POSCAR` 应为：\n\n```fortran\nC3B graphene like structure, a = 5.17\t\t\t\t! 注释\n   5.17\t\t\t\t\t\t\t\t\t\t\t\t! 晶格放大系数\n    0.8660254037   -0.5000000000     0.0000000000\t! 下面三行为实空间中定义元胞的三个格矢 a1, a2, a3\n    0.8660254037    0.5000000000   \t 0.0000000000\n    0.0000000000    0.0000000000     4.0000000000\t! 真空层厚度为 4.0*5.17 = 20.68A\n   B    C\t\t\t\t\t\t\t\t\t\t\t! 元素种类，这一行是给人看的，而不是给VASP看的\n   2    6\t\t\t\t\t\t\t\t\t\t\t! 对应元素的原子数目\nDirect\t\t\t\t\t\t\t\t\t\t\t\t! 以定义的格矢为基底\n    0.0000000000    0.0000000000    0.0000000000    ! B 下面皆为原子坐标\n    0.6666666666    0.6666666666    0.0000000000\n    0.5000000000    0.0000000000    0.0000000000    ! C\n    0.1666666666    0.1666666666    0.0000000000\n    0.0000000000    0.5000000000    0.0000000000\n    0.5000000000    0.5000000000    0.0000000000\n    0.6666666666    0.1666666666    0.0000000000\n    0.1666666666    0.6666666666    0.0000000000\n```\n\n**第一个坑**：文献中的晶格常数应该怎样对应 `POSCAR` 中的晶格参数？\n\n这取决于我们取的基底。上文中我们以相邻两个元胞的 B 原子间模长最短的矢量为基矢，因此这个这个元胞的实际晶格常数应为 $a = |\\vec{a}_i| \\times a_{POSCAR}$ ， $a$ 即为文中给出的晶格常数，可见，`POSCAR` 中的晶格参数可以理解为缩放系数，所以写完结构时应与文献对照或放入 VESTA 等软件测出原子键长看与文献是否一致。有的文献作者基底的取法特殊，所给的晶格常数也很“魔性”，但不变的是格子的实际大小、原子间距离等，以这些信息为准才能写出与文献中真正等价的结构。此外，二维结构的实现时需要层间有 20 A 左右的真空层，以避免层间不必要的相互作用，但真空层不可取太厚，否则计算量的增加不仅仅是线性的。\n\n## 测出必要的参数\n\n### `INCAR` Template\n\n在测各项参数之前，先给出一个`INCAR` 模板，具体参数的含义见注释或`VASP`手册。\n\n```fortran\nC3B Mono Layer  strcut_optim\n  SYSTEM = \"C3B Mono Layer\" # 系统注释\n\nElectronic minimization\n  ISMEAR =                  # 使用Gaussian smearing，取 0 用于导体、绝缘体的计算\n  SIGMA =                   # Smearring 的宽度，在精度允许范围内应尽量大以减小计算量\n  EDIFF =                   # 收敛判据的能量判据\n  EDIFFG =                  # 收敛判据，若值为负，则为力判据；若值为正，则为能量判据\n  PREC =                    # 精确度\n  IBRION =                  # 离子移动方法，跑MD、弛豫抑或静态计算时设置不同\n  ISIF =                    # 结构优化类型\n\nIonic minimization\n  NSW =                     # 离子步数上限\n  NELMIN = \t\t\t\t\t# 电子步收敛下限\n  ENCUT =                   # 截断能，在保证收敛良好的情况下应尽量小\n  LWAVE =                   # 是否输出 WAVECAR；该值为 .FALSE. 时也会有 WAVECAR 输出，但其长度为 0\n  LCHARG =                  # 是否输出 CHGCAR\n\nBand Calcs\n  ISTART =                  # 是否从当前目录读取 WAVECAR\n  ICHARG =                  #  1: 读取 CHGCAR\n                            # 10: 不改变当前目录下的 CHGCAR\n```\n\n同时 `POTCAR` 这样获得：\n\n```bash\ncat path/to/PPs/B/POTCAR >> POTCAR\ncat path/to/PPs/C/POTCAR >> POTCAR\n```\n\n这里注意 `POTCAR` 中元素赝势的顺序应与 `POSCAR` 元素出现的顺序一致。\n\n### 测出 `SIGMA`\n\n固定`ENCUT`和kpts为较大的值`ENCUT = 600`、`kpts = 21`，固定晶格常数为“合适”值，取一系列`SIGMA`值做静态计算，当`OSZICAR`中`dE`绝对值小于 1.0 meV/atom 时取最大的 `SIGMA` 值。\n\n使用脚本如下（参考候柱锋老师的入门指南）：\n\n```bash\n#!/bin/bash\nrm WAVECAR\t\t\t# 删除目录中的 WAVECAR 以免影响收敛\n# in 后面 0.20 0.10 0.05 即为 sigma 所取的值，一般从大到小取，取值越小计算量越大当发现 dE 满足要求后可以及时终止计算\nfor i in 0.20 0.10 0.05\t\ndo\n    cat > INCAR <<!\t# 在 INCAR 中覆盖以下内容, ! 表示cat内容终止标志，可以自定义，如用 EOF\nSYSTEM = Na adsorbed on site 1\nENCUT = 600\t\t\t# 截断能取较大值\nISMEAR = 0\t\t\t# Gaussian Smearing\nSIGMA = $i\t\t\t# 每次循环 SIGMA 取 $i 的值\nNSW = 0\t\t\t\t# 静态计算，离子步数为 1\nIBRION = -1\t\t\t# 静态计算\nLWAVE = .FALSE.\t\t# 不输出 WAVECAR，不使用上次计算所得平面波系数作为初始值\n!\n    echo \" SIGMA = $i eV \"\n    time vasp >> vasp.log\t# 执行 vasp 计算，重定向输出到 vasp.log ，并对该过程计时，结果输出到 stdout\n    # OUTCAR 中 EENTRO 等于 OSZICAR 中的 dE，这里取出 dE\n    TS=`grep \"EENTRO\" OUTCAR | tail -1 | awk '{printf \"%12.6f\", $5}'`\n    echo \"$i   $TS\" >> sigma.txt\t# 输出 SIGMA 和 dE 到sigma.txt\n    echo -e \"\\n\\n\"\t# 换行 3 次\ndone\n```\n\n所得 sigma.txt 内容如下\n\n```\n0.20   -0.00519083\n0.10   -0.00009427\n0.05   0.00000000\n```\n\n显然，这里`SIGMA`取 0.10 即可，当然还可以在 (0.10, 0.20) 之间再取几个点，逼近使 dE < 1meV/atom 的最大 SIGMA。\n\n### 测出 `ENCUT`\n\n将上面测出的 `SIGMA = 0.10` 固定，`ENCUT` 取不同值，过程与上面类似，只是判断 `ENCUT` 取值的依据变成了两次计算结果的`TOTEN`之差绝对值小于 1 meV/atom。\n\n使用脚本如下：\n\n```bash\n#!/bin/bash\n\nrm WAVECAR\nfor i in 300 350 400 450 500 550 600 # 每次循环 ENCUT 的取值\ndo\n    cat > INCAR <<!\nSYSTEM = Na adsorbed on site 1\nENCUT = $i\nISMEAR = 0\nSIGMA = 0.10\t\t# SIGMA 取上面测得的值\nNSW = 0\nIBRION = -1\n!\n    echo \" ENCUT = $i eV \"\n    time vasp >> vasp.log\n    E=`grep \"TOTEN\" OUTCAR | tail -1 | awk '{printf \"%12.6f\", $5}'`\t# 取出 OUTCAR 中的 TOTEN\n    echo \"$i   $E\" >> encut.txt\n    echo -e \"E = $E\\n\\n\"\ndone\n```\n\n测得 `ENCUT` 取值为 450。\n\n### 测出 kpts\n\nkpts 指的是 `KPOINTS` 里 meshgrid 的取样点数，取样越多，计算结果收敛越好，同时计算量也变大。取值条件与上面相同，即两次计算的 `TOTEN` 相差小于 1meV/atom 。\n\n**注意，不要忘了把测好的 `SIGMA` 和 `ENCUT` 写入 `INCAR`**\n\n```bash\n#!/bin/bash\n\nrm WAVECAR\nfor i in 9 13 17 21\t# kpts 取 9 13 17 21\ndo\n    cat > KPOINTS <<!\nNa adsorbed on site1 -- det_kp\n0\nMonkhorst-Pack\t\t# 只要第一个字母为 M 即可\n    $i  $i  1\t\t# 有真空层存在，z方向采样点数为 1\n    0   0   0\n!\n    echo -e \"k mesh = $i\\t$i\\t1\"; time vasp >> vasp.log\n    E=`grep \"TOTEN\" OUTCAR | tail -1 | awk '{printf \"%18.10f\", $5}'`\n    KP=`grep \"irreducible\" OUTCAR | tail -1 | awk '{printf \"%5i\", $2}'`\n    echo $i $KP $E >> det_kp.txt\ndone\n```\n\n测得 kpts 取15。\n\n**第二个坑**：`KPOINTS` 文件名一定要写对，本渣使用的 `VASP` 版本为 5.3.5，计算中如果没检测到 `KPOINTS` 文件存在，则**默认** kpts 取值为 **3** ，导致结果错误。本渣某次计算中误将 `KPOINTS` 写成了 `KPOINS` ，导致后面无论如何修改参数，结果与文献值始终相差很大。（这个东西不仅坑了我，还坑了**比那名居腿娘**(来自WHU的EE大佬)大神熬夜到 3 点多，说来惭愧……\n\n### 测出 `a` \n\n这里的`a`确切地指 `POSCAR` 中第二行的那个数值，即元胞的放大系数。因为本例中的晶格基矢模长 $|\\vec{a_1}| = |\\vec{a_2}| = 1$ ，故其放大系等于文献中的晶格常数 $a$。这里 `a` 的取值条件与上面相同。给出测试脚本如下：\n\n```bash\n#!/bin/bash\n\nrm WAVECAR\n# 晶格参数的取值应在文献值附近取点\nfor i in 4.97 5.02 5.07 5.12 5.17 5.22 5.27 5.32 5.37\ndo\n    cat > POSCAR <<!\nC3B graphene like structure, a = 5.17\n   $i\n    0.8660254037   -0.5000000000    0.0000000000\n    0.8660254037    0.5000000000    0.0000000000\n    0.0000000000    0.0000000000    3.0000000000\n   N    C\n   2    6\nDirect\n    0.0000000000    0.0000000000    0.0000000000    ! B1\n    0.6666666666    0.6666666666    0.0000000000    ! B2\n    0.5000000000    0.0000000000    0.0000000000    ! C1\n    0.1666666666    0.1666666666    0.0000000000    ! C2\n    0.0000000000    0.5000000000    0.0000000000    ! C3\n    0.5000000000    0.5000000000    0.0000000000    ! C4\n    0.6666666666    0.1666666666    0.0000000000    ! C5\n    0.1666666666    0.6666666666    0.0000000000    ! C6\n!\n\techo -e \"a = $i angstrom\"; time vasp >> vasp.log\n\tE=`grep \"TOTEN\" OUTCAR | tail -1 | awk '{printf \"%12.6f\", $5 }'`\n\tV=`grep \"volume\" OUTCAR | tail -1 | awk '{printf \"%12.4f\", $5}'`\n\tprintf \"%6.3f %10.4f %18.10f\\n\" $i $V $E >> a.txt\n\ttail -1 a.txt\ndone\n```\n\n测得 `a` 与文献值相同，5.17\n\n## 弛豫（结构优化，relaxation）\n\n弛豫中需要用到的 `INCAR` 参数有\n\n```fortran\nISMEAR = 0\t\t! 继承自上面的计算结果\nSIGMA = 0.1\nENCUT = 450\n\nPREC = Accurate\nEDIFF = 1.0E-6\nEDIFFG = -0.01\nIBRION = 1\t! 准牛顿法\nISIF = 3\t! 计算 force、stress tensor，对离子、晶格进行弛豫 \n\nNELMIN = 6\t! (optional) 强制每个离子步跑至少 6 电子步，提高收敛效果\nNSW = 200\t! 离子步上限为 200 步，目前本渣所算的体系中离子步数没有超过这个值的，也许是我太年轻了吧\n```\n\n这个步骤耗时最长，尤其是加上 `PREC` 后，每个电子步计算量上升很多，而为了结构的优化，离子步数的增多也使这个过程耗时不少，本例中 8 个原子的体系优化需要数个小时；本渣另外的一个体系中有 12 个原子，优化就需要 12h+ 。\n\n**第三个坑**：`EDIFFG`有正负之分，**负数**表示收敛的力判据。如果`EDIFFG`误写为正，则`EDIFF`会被覆盖，`VASP`按照`EDIFFG`进行收敛判断，结果就是收敛可能会变得很快（快上几个数量级），但是所得结构不是我们想要的结构。\n\n**第四个坑**：如果 `EDIFF`和`EDIFFG`设置过小，则计算时收敛可能会变得非常漫长，有时甚至会将结构跑散——原子间距离越来越大，这时候有三种选择：1. 提高精度，重新测出晶格常数，晶格常数可以精确到 0.001；2. 放宽收敛判据； 3. `IBRION` 取 2 （如果你对这个结构是否稳定没有信心的话。\n\n## 高精度的电子自洽计算（SCF）\n\n这一步需要**将 relaxation 得到的 CONTCAR 复制到 SCF 计算目录下，并重命名为 POSCAR** ，`INCAR` 内容相似，仅将弛豫相关参数修改即可，`INCAR` 如下\n\n```fortran\nC3B Mono Layer  strcut_optim\n  SYSTEM = \"C3B Mono Layer\" # System Name\n\nElectronic minimization\n  ISMEAR = 1                # Toggle Gaussian Method, complete later\n  SIGMA = 0.1               # Broadening in eV -4-tet-1-fermi 0-gaus\n  EDIFF = 1.E-6             # Energy tolerance eV/atom\n#  EDIFFG = -0.01            # Force tolerance\n  PREC = Accurate           # Accuracy\n  IBRION = -1               # quasi-Newton algorithm\n#  ISIF = 3                  # optim totally: volume, stress, force, ion, shape\n\nIonic minimization\n  NSW = 0                   # Converge steps, must set\n  ENCUT = 450               # components beyond ENCUT are 'removed' from the projection\n                            # operators\n  LWAVE = .TRUE.            # Output WAVECAR\n  LCHARG = .TRUE.           # Output density of charge to CHG and CHGCAR\n  NCORE = 4\n```\n\n由于默认输出 `CHGCAR` ， `INCAR` 中的 `LCHARG` 可以不写。\n\n## 计算能带（band）\n\n**复制 SCF 计算所得 CHGCAR 到 band 计算目录下。**\n\n我们需要重写 `KPOINTS` ，之前的 `KPOINTS` 一直是系统帮助我们在布里渊区采样，现在我们想要得到布里渊区某一路径上能带的能量变化，则需要在 `KPOINTS` 指定出路径。\n\n根据 [DOI:10.1016/j.commatsci.2010.05.010](https://arxiv.org/abs/1004.2974) 后面所给资料提示选择对应的布里渊区 K 点路径（注意文中基矢的取法是否与自己一致，否则需要重新画出布里渊区，找出对应的 K 点。\n\n![这里取 Gamma -> K -> M -> Gamma](http://owucpthrj.bkt.clouddn.com/FpmnmrDYGQOgi2NLIPUvy31t0c4p)\n\n写出 `KPOINTS` 如下：\n\n```fortran\nK-POINTS    C3B Mono Layer Bands\t! 注释行\n    40\t\t\t\t\t\t\t\t! 每两个K点之间取样点数\nLine-mode\t\t\t\t\t\t\t! Line-mode，区别于自动取样模式，跑能带专用\nRec\t\t\t\t\t\t\t\t\t! 在倒空间内取点\n    0       0       0   \t\t\t! Gamma\n    0.33333 0.66666 0   \t\t\t! K\n\n    0.33333 0.66666 0   \t\t\t! K\n    0.5     0.5     0   \t\t\t! M\n\n    0.5     0.5     0   \t\t\t! M\n    0       0       0   \t\t\t! Gamma\n```\n\n同时在 `INCAR` 中加上 `ICHARG = 11` 以读取 SCF 所得 `CHGCAR` 进行能带计算。\n\n最后，取所得 `vasprun.xml` 导入 `p4vasp` 进行绘制能带图。如果读者有兴趣可以以 `EIGENVAL`  文件为输入自己实现绘制band的程序（不会很难）。\n\n> 跑能带的感觉就和抽卡/开箱是一样的，你永远也不知道下一个体系的 band 会是什么鸟样。\n\n跑出的能带是这个样子\n\n![](http://owucpthrj.bkt.clouddn.com/Fodl8Omy6tyxekWIF6pAxHI_lPkN)\n\n文献中的截图是这个样子的\n\n![](http://owucpthrj.bkt.clouddn.com/Fp0bJ1vUyw-dm2uxoVXt61hm6ka_)\n\n这里解释一下，本渣最初在跑 band 时 K 点取的路径和文献不同，所以两幅图基本等于对方水平翻转所得，但本文中所给 `KPOINTS` 里 K 点路径与文献是相符的。细心的大神已经看出两幅图中上图似乎向下平移了一部分，这可能是费米能级的取值差异所致，由于本渣水平太低，姑且只能这样理解了。\n\n\n\n# 论检查输入文件正确性的重要性\n\n这里的输入文件指 `VASP` 计算时需要用到的文件，如`INCAR`、`POSCAR`、`POTCAR`、`KPOINTS`、`CHGCAR`等。\n\n1. 文件名是否正确。我知道很多人在 `bash` 中喜欢用 Tab 补全，这对提高命令输入效率非常有效，但同时也降低了我们检查文件名正确性的机会，上文中提到的 `KPOINS` 错误就是因为一直使用 Tab 补全而使它一直被继承到跑出 band ，还不止坑了自己，多么可笑；\n2. 脚本中重定向输出的文件名是否与需求一致。当使用上一次计算的脚本进行修改时本渣很容易忘了修改输出重定向的目标，从而导致 `POSCAR` 的内容被输出到 `KPOINTS` 里，这时 `VASP` 会报错，遇到这种情况及时修改脚本重新提交任务即可，无非是重新排队的问题；\n3. `POTCAR` 是否与体系相对应。有的论文并不明确说出自己使用哪个 `POTCAR` ，而是这样说：\"We treated 4p, 5s, 4d orbitals of xx, and x orbitals of xxx as valence electrons…\"，这就表明我们需要考虑使用带 `_pv` 、 `_sv` 的 `POTCAR` 。**这大概是本人近期踩过的最大的坑了吧**，可以想象，如果从一开始的 `POTCAR` 就出了问题，那么后面所有的计算就都是徒劳的，而在排错时无论如何也很难将目光投向 `POTCAR` 。这里要特别感谢**比那名居腿娘**同学的帮助；\n4. `POSCAR` 中的晶胞是否需要超胞。有的文献中给出一个 band 图但未给出其对应的结构，本渣按照前文所给结构计算，始终无法得到与文献相符的 band 图，直到本渣使用 2x2 超胞后的结构进行计算，终于重复出和文献很接近的结果；\n5. 有时在弛豫后进行 SCF 计算时会提示对称性错误，这时需要在 `INCAR` 中指定 `SYMPREC` 的值，这个值默认为`SYMPREC = 1.0E-5`，指定时可以使用更小的值。\n\n除了上面说到的 `INCAR`、`POSCAR`、`POTCAR`、`KPOINTS`、`CHGCAR`等，有时还会用到 `WAVECAR` ，`WAVECAR` 是二进制文件，在使用 FileZilla 传送时，如果没有勾选 `binary` 选项，则传送时会按照 ASCII 编码进行传送，后果就是 `WAVECAR` 文件损坏。\n\n\n\n这次 blog 就写到这里吧，反正也是为自己写的。（当然如果有大佬愿意在评论区指出其中的错误，本渣感激不尽！\n\n最后祝愿各位读到这里的菊苣，提前（\n","source":"_posts/how-to-struggle-with-vasp.md","raw":"---\ntitle: 在 VASP(PBE) 计算中如何优雅地踩坑？\ntags: VASP\ncategories:\n  - First Principle Calculation\ndate: 2018-03-28 17:28:20\n---\n\n\n# 在 `VASP` (PBE)计算中如何优雅地踩坑？\n\n[TOC]\n\n> **警告**：本渣刚学 `VASP` 不久，对 `VASP` 的算法、参数不甚了解，如果有大触偶遇此文，并发现有错误，请在评论区指出或邮箱联系本渣。\n\n本文是本渣从 3 月初以来刚接触 `VASP` 所学技能与遇到坑的总结，以纪念我为文献中一副图而逝去的最近一星期。何为 `VASP` 以及` VASP` 能做什么？本渣只是一个刚学的菜鸡，恕不能回答，请自行 Google 解决。\n\n## VASP 的输入文件\n\n想要执行一次最简单的计算，`VASP` 需要至少4个文件，它们分别是：\n\n- `INCAR`：`VASP` 计算的**核心**文件，基本等同于本次计算的司令部。它包含了“**算什么**”、“**怎么算**”、和“**输入、输出那些**”这三个方面的内容，它的几项常用（PBE计算中）参数在后面我们会较为详细地了解到；\n- `POSCAR`：决定元胞结构的文件。它包含了元胞的格子类型、格子大小、以和格子内所有原子的种类及坐标，在弛豫时，它还可以指定哪些原子可以在哪些方向上进行[弛豫](https://en.wikipedia.org/wiki/Relaxation_(physics))，在 `VASP` 中我们无需给出原子间的成键情况，仅给出原子的坐标即可；\n- `KPOINTS`：描述 `VASP` 计算中对元胞格子的 mesh 精细度，或指定格子中哪些点的信息需要计算（？这里留个问号，本渣也不是很懂这里）；\n- `POTCAR`：赝势库，按 `POSCAR` 中元素列出顺序给出了对应元素的赝势库。\n\n**以上四个文件全为文本文件**。当然我们还可以命令 `VASP` 读取上一次的计算结果，比如 `WAVECAR` ，比如 `CHGCAR` ，用以更快地收敛或者执行某些特殊的计算。\n\n## 我们需要 VASP 的哪些输出文件？（目前为止）\n\n- `OUTCAR`：`VASP` 的计算日志，里面包含了几乎所有我们需要的结果，明文存储，随计算过程实时更新；\n- ~~`WAVECAR`：**二进制**文件，经常很大，计算结束时会将内存中的波函数平面波系数写入该文件。（我对这个文件所了解的仅有这些；~~\n- `OSZICAR`：`VASP` 计算过程中能量收敛日志，每个电子步结束时写入；\n- ~~`EIGENVAL`：`VASP` 计算出的能带信息保存在这个文件中，计算结束时被写入（可以使用 `Python` 等工具以它为输入绘制能带图，但本渣太菜，目前还没写这个小程序；~~\n- `CONTCAR`：在[弛豫](https://en.wikipedia.org/wiki/Relaxation_(physics))中，这个文件包含了`VASP`每个离子步结束时系统优化得到的元胞原子的坐标，每个离子步结束时写入；如果希望从还未收敛的弛豫结果继续计算，应直接将这个文件复制并重命名为 `POSCAR` 继续计算即可；\n- ~~`CHG` & `CHGCAR`：这个两个文件都包含了元胞中原子的位置信息，以及电荷密度信息，但 `CHG` 比 `CHGCAR` 小一些，因其不包含 `PAW one centre`；~~\n- `vasprun.xml`：XML 格式存储的 `VASP` 计算过程日志。\n\n## 用 PBE 方法跑出能带图的总体步骤\n\n1. 阅读文献，列出文献所给参数（如果有的话），比如 `SIGMA` ，`ISMEAR` ，`ENCUT` ，晶格常数 $a$ 等等信息；\n2. 查阅资料，实现文献所给结构，关注文献的结构是否经过超胞，是否有真空层，是否考虑 vdW ；\n3. 按顺序测出适合该体系的 `SIGMA` 、`ENCUT` 、kpts 、`a` ；（如果文献中给出了这些参数可跳过这一步\n4. 对结构进行弛豫，优化出最稳定结构；\n5. 对体系进行高精度的电子自洽计算；\n6. 跑出能带图、DOS 图以及直接获得所需的能量值等。\n\n# 正文开始\n\n下面以单层 C3B 结构为例，走一遍上面的流程，看看有哪些坑。\n\n## 获取参数\n\n```fortran\na = 5.17 \t\t! 晶格常数\nEDIFF = 1.0E-6\t! 弛豫收敛条件\nEDIFFG = -0.001\t! \n\nkpts: Monkhorst\t! KPOINTS 取法\n```\n\n文献给出单层 C3B 的结构为 D6，长这样（从上往下看：\n\n![](http://owucpthrj.bkt.clouddn.com/FpGVI905Z66B8ksQjiULb3cLahCV)\n\n## 实现结构\n\n建立元胞的格子基矢，并表示出各个原子的坐标\n\n![](http://owucpthrj.bkt.clouddn.com/FiQMZt8-XbO9iXes05rkDhfFjHls)\n\n所以它对应的 `POSCAR` 应为：\n\n```fortran\nC3B graphene like structure, a = 5.17\t\t\t\t! 注释\n   5.17\t\t\t\t\t\t\t\t\t\t\t\t! 晶格放大系数\n    0.8660254037   -0.5000000000     0.0000000000\t! 下面三行为实空间中定义元胞的三个格矢 a1, a2, a3\n    0.8660254037    0.5000000000   \t 0.0000000000\n    0.0000000000    0.0000000000     4.0000000000\t! 真空层厚度为 4.0*5.17 = 20.68A\n   B    C\t\t\t\t\t\t\t\t\t\t\t! 元素种类，这一行是给人看的，而不是给VASP看的\n   2    6\t\t\t\t\t\t\t\t\t\t\t! 对应元素的原子数目\nDirect\t\t\t\t\t\t\t\t\t\t\t\t! 以定义的格矢为基底\n    0.0000000000    0.0000000000    0.0000000000    ! B 下面皆为原子坐标\n    0.6666666666    0.6666666666    0.0000000000\n    0.5000000000    0.0000000000    0.0000000000    ! C\n    0.1666666666    0.1666666666    0.0000000000\n    0.0000000000    0.5000000000    0.0000000000\n    0.5000000000    0.5000000000    0.0000000000\n    0.6666666666    0.1666666666    0.0000000000\n    0.1666666666    0.6666666666    0.0000000000\n```\n\n**第一个坑**：文献中的晶格常数应该怎样对应 `POSCAR` 中的晶格参数？\n\n这取决于我们取的基底。上文中我们以相邻两个元胞的 B 原子间模长最短的矢量为基矢，因此这个这个元胞的实际晶格常数应为 $a = |\\vec{a}_i| \\times a_{POSCAR}$ ， $a$ 即为文中给出的晶格常数，可见，`POSCAR` 中的晶格参数可以理解为缩放系数，所以写完结构时应与文献对照或放入 VESTA 等软件测出原子键长看与文献是否一致。有的文献作者基底的取法特殊，所给的晶格常数也很“魔性”，但不变的是格子的实际大小、原子间距离等，以这些信息为准才能写出与文献中真正等价的结构。此外，二维结构的实现时需要层间有 20 A 左右的真空层，以避免层间不必要的相互作用，但真空层不可取太厚，否则计算量的增加不仅仅是线性的。\n\n## 测出必要的参数\n\n### `INCAR` Template\n\n在测各项参数之前，先给出一个`INCAR` 模板，具体参数的含义见注释或`VASP`手册。\n\n```fortran\nC3B Mono Layer  strcut_optim\n  SYSTEM = \"C3B Mono Layer\" # 系统注释\n\nElectronic minimization\n  ISMEAR =                  # 使用Gaussian smearing，取 0 用于导体、绝缘体的计算\n  SIGMA =                   # Smearring 的宽度，在精度允许范围内应尽量大以减小计算量\n  EDIFF =                   # 收敛判据的能量判据\n  EDIFFG =                  # 收敛判据，若值为负，则为力判据；若值为正，则为能量判据\n  PREC =                    # 精确度\n  IBRION =                  # 离子移动方法，跑MD、弛豫抑或静态计算时设置不同\n  ISIF =                    # 结构优化类型\n\nIonic minimization\n  NSW =                     # 离子步数上限\n  NELMIN = \t\t\t\t\t# 电子步收敛下限\n  ENCUT =                   # 截断能，在保证收敛良好的情况下应尽量小\n  LWAVE =                   # 是否输出 WAVECAR；该值为 .FALSE. 时也会有 WAVECAR 输出，但其长度为 0\n  LCHARG =                  # 是否输出 CHGCAR\n\nBand Calcs\n  ISTART =                  # 是否从当前目录读取 WAVECAR\n  ICHARG =                  #  1: 读取 CHGCAR\n                            # 10: 不改变当前目录下的 CHGCAR\n```\n\n同时 `POTCAR` 这样获得：\n\n```bash\ncat path/to/PPs/B/POTCAR >> POTCAR\ncat path/to/PPs/C/POTCAR >> POTCAR\n```\n\n这里注意 `POTCAR` 中元素赝势的顺序应与 `POSCAR` 元素出现的顺序一致。\n\n### 测出 `SIGMA`\n\n固定`ENCUT`和kpts为较大的值`ENCUT = 600`、`kpts = 21`，固定晶格常数为“合适”值，取一系列`SIGMA`值做静态计算，当`OSZICAR`中`dE`绝对值小于 1.0 meV/atom 时取最大的 `SIGMA` 值。\n\n使用脚本如下（参考候柱锋老师的入门指南）：\n\n```bash\n#!/bin/bash\nrm WAVECAR\t\t\t# 删除目录中的 WAVECAR 以免影响收敛\n# in 后面 0.20 0.10 0.05 即为 sigma 所取的值，一般从大到小取，取值越小计算量越大当发现 dE 满足要求后可以及时终止计算\nfor i in 0.20 0.10 0.05\t\ndo\n    cat > INCAR <<!\t# 在 INCAR 中覆盖以下内容, ! 表示cat内容终止标志，可以自定义，如用 EOF\nSYSTEM = Na adsorbed on site 1\nENCUT = 600\t\t\t# 截断能取较大值\nISMEAR = 0\t\t\t# Gaussian Smearing\nSIGMA = $i\t\t\t# 每次循环 SIGMA 取 $i 的值\nNSW = 0\t\t\t\t# 静态计算，离子步数为 1\nIBRION = -1\t\t\t# 静态计算\nLWAVE = .FALSE.\t\t# 不输出 WAVECAR，不使用上次计算所得平面波系数作为初始值\n!\n    echo \" SIGMA = $i eV \"\n    time vasp >> vasp.log\t# 执行 vasp 计算，重定向输出到 vasp.log ，并对该过程计时，结果输出到 stdout\n    # OUTCAR 中 EENTRO 等于 OSZICAR 中的 dE，这里取出 dE\n    TS=`grep \"EENTRO\" OUTCAR | tail -1 | awk '{printf \"%12.6f\", $5}'`\n    echo \"$i   $TS\" >> sigma.txt\t# 输出 SIGMA 和 dE 到sigma.txt\n    echo -e \"\\n\\n\"\t# 换行 3 次\ndone\n```\n\n所得 sigma.txt 内容如下\n\n```\n0.20   -0.00519083\n0.10   -0.00009427\n0.05   0.00000000\n```\n\n显然，这里`SIGMA`取 0.10 即可，当然还可以在 (0.10, 0.20) 之间再取几个点，逼近使 dE < 1meV/atom 的最大 SIGMA。\n\n### 测出 `ENCUT`\n\n将上面测出的 `SIGMA = 0.10` 固定，`ENCUT` 取不同值，过程与上面类似，只是判断 `ENCUT` 取值的依据变成了两次计算结果的`TOTEN`之差绝对值小于 1 meV/atom。\n\n使用脚本如下：\n\n```bash\n#!/bin/bash\n\nrm WAVECAR\nfor i in 300 350 400 450 500 550 600 # 每次循环 ENCUT 的取值\ndo\n    cat > INCAR <<!\nSYSTEM = Na adsorbed on site 1\nENCUT = $i\nISMEAR = 0\nSIGMA = 0.10\t\t# SIGMA 取上面测得的值\nNSW = 0\nIBRION = -1\n!\n    echo \" ENCUT = $i eV \"\n    time vasp >> vasp.log\n    E=`grep \"TOTEN\" OUTCAR | tail -1 | awk '{printf \"%12.6f\", $5}'`\t# 取出 OUTCAR 中的 TOTEN\n    echo \"$i   $E\" >> encut.txt\n    echo -e \"E = $E\\n\\n\"\ndone\n```\n\n测得 `ENCUT` 取值为 450。\n\n### 测出 kpts\n\nkpts 指的是 `KPOINTS` 里 meshgrid 的取样点数，取样越多，计算结果收敛越好，同时计算量也变大。取值条件与上面相同，即两次计算的 `TOTEN` 相差小于 1meV/atom 。\n\n**注意，不要忘了把测好的 `SIGMA` 和 `ENCUT` 写入 `INCAR`**\n\n```bash\n#!/bin/bash\n\nrm WAVECAR\nfor i in 9 13 17 21\t# kpts 取 9 13 17 21\ndo\n    cat > KPOINTS <<!\nNa adsorbed on site1 -- det_kp\n0\nMonkhorst-Pack\t\t# 只要第一个字母为 M 即可\n    $i  $i  1\t\t# 有真空层存在，z方向采样点数为 1\n    0   0   0\n!\n    echo -e \"k mesh = $i\\t$i\\t1\"; time vasp >> vasp.log\n    E=`grep \"TOTEN\" OUTCAR | tail -1 | awk '{printf \"%18.10f\", $5}'`\n    KP=`grep \"irreducible\" OUTCAR | tail -1 | awk '{printf \"%5i\", $2}'`\n    echo $i $KP $E >> det_kp.txt\ndone\n```\n\n测得 kpts 取15。\n\n**第二个坑**：`KPOINTS` 文件名一定要写对，本渣使用的 `VASP` 版本为 5.3.5，计算中如果没检测到 `KPOINTS` 文件存在，则**默认** kpts 取值为 **3** ，导致结果错误。本渣某次计算中误将 `KPOINTS` 写成了 `KPOINS` ，导致后面无论如何修改参数，结果与文献值始终相差很大。（这个东西不仅坑了我，还坑了**比那名居腿娘**(来自WHU的EE大佬)大神熬夜到 3 点多，说来惭愧……\n\n### 测出 `a` \n\n这里的`a`确切地指 `POSCAR` 中第二行的那个数值，即元胞的放大系数。因为本例中的晶格基矢模长 $|\\vec{a_1}| = |\\vec{a_2}| = 1$ ，故其放大系等于文献中的晶格常数 $a$。这里 `a` 的取值条件与上面相同。给出测试脚本如下：\n\n```bash\n#!/bin/bash\n\nrm WAVECAR\n# 晶格参数的取值应在文献值附近取点\nfor i in 4.97 5.02 5.07 5.12 5.17 5.22 5.27 5.32 5.37\ndo\n    cat > POSCAR <<!\nC3B graphene like structure, a = 5.17\n   $i\n    0.8660254037   -0.5000000000    0.0000000000\n    0.8660254037    0.5000000000    0.0000000000\n    0.0000000000    0.0000000000    3.0000000000\n   N    C\n   2    6\nDirect\n    0.0000000000    0.0000000000    0.0000000000    ! B1\n    0.6666666666    0.6666666666    0.0000000000    ! B2\n    0.5000000000    0.0000000000    0.0000000000    ! C1\n    0.1666666666    0.1666666666    0.0000000000    ! C2\n    0.0000000000    0.5000000000    0.0000000000    ! C3\n    0.5000000000    0.5000000000    0.0000000000    ! C4\n    0.6666666666    0.1666666666    0.0000000000    ! C5\n    0.1666666666    0.6666666666    0.0000000000    ! C6\n!\n\techo -e \"a = $i angstrom\"; time vasp >> vasp.log\n\tE=`grep \"TOTEN\" OUTCAR | tail -1 | awk '{printf \"%12.6f\", $5 }'`\n\tV=`grep \"volume\" OUTCAR | tail -1 | awk '{printf \"%12.4f\", $5}'`\n\tprintf \"%6.3f %10.4f %18.10f\\n\" $i $V $E >> a.txt\n\ttail -1 a.txt\ndone\n```\n\n测得 `a` 与文献值相同，5.17\n\n## 弛豫（结构优化，relaxation）\n\n弛豫中需要用到的 `INCAR` 参数有\n\n```fortran\nISMEAR = 0\t\t! 继承自上面的计算结果\nSIGMA = 0.1\nENCUT = 450\n\nPREC = Accurate\nEDIFF = 1.0E-6\nEDIFFG = -0.01\nIBRION = 1\t! 准牛顿法\nISIF = 3\t! 计算 force、stress tensor，对离子、晶格进行弛豫 \n\nNELMIN = 6\t! (optional) 强制每个离子步跑至少 6 电子步，提高收敛效果\nNSW = 200\t! 离子步上限为 200 步，目前本渣所算的体系中离子步数没有超过这个值的，也许是我太年轻了吧\n```\n\n这个步骤耗时最长，尤其是加上 `PREC` 后，每个电子步计算量上升很多，而为了结构的优化，离子步数的增多也使这个过程耗时不少，本例中 8 个原子的体系优化需要数个小时；本渣另外的一个体系中有 12 个原子，优化就需要 12h+ 。\n\n**第三个坑**：`EDIFFG`有正负之分，**负数**表示收敛的力判据。如果`EDIFFG`误写为正，则`EDIFF`会被覆盖，`VASP`按照`EDIFFG`进行收敛判断，结果就是收敛可能会变得很快（快上几个数量级），但是所得结构不是我们想要的结构。\n\n**第四个坑**：如果 `EDIFF`和`EDIFFG`设置过小，则计算时收敛可能会变得非常漫长，有时甚至会将结构跑散——原子间距离越来越大，这时候有三种选择：1. 提高精度，重新测出晶格常数，晶格常数可以精确到 0.001；2. 放宽收敛判据； 3. `IBRION` 取 2 （如果你对这个结构是否稳定没有信心的话。\n\n## 高精度的电子自洽计算（SCF）\n\n这一步需要**将 relaxation 得到的 CONTCAR 复制到 SCF 计算目录下，并重命名为 POSCAR** ，`INCAR` 内容相似，仅将弛豫相关参数修改即可，`INCAR` 如下\n\n```fortran\nC3B Mono Layer  strcut_optim\n  SYSTEM = \"C3B Mono Layer\" # System Name\n\nElectronic minimization\n  ISMEAR = 1                # Toggle Gaussian Method, complete later\n  SIGMA = 0.1               # Broadening in eV -4-tet-1-fermi 0-gaus\n  EDIFF = 1.E-6             # Energy tolerance eV/atom\n#  EDIFFG = -0.01            # Force tolerance\n  PREC = Accurate           # Accuracy\n  IBRION = -1               # quasi-Newton algorithm\n#  ISIF = 3                  # optim totally: volume, stress, force, ion, shape\n\nIonic minimization\n  NSW = 0                   # Converge steps, must set\n  ENCUT = 450               # components beyond ENCUT are 'removed' from the projection\n                            # operators\n  LWAVE = .TRUE.            # Output WAVECAR\n  LCHARG = .TRUE.           # Output density of charge to CHG and CHGCAR\n  NCORE = 4\n```\n\n由于默认输出 `CHGCAR` ， `INCAR` 中的 `LCHARG` 可以不写。\n\n## 计算能带（band）\n\n**复制 SCF 计算所得 CHGCAR 到 band 计算目录下。**\n\n我们需要重写 `KPOINTS` ，之前的 `KPOINTS` 一直是系统帮助我们在布里渊区采样，现在我们想要得到布里渊区某一路径上能带的能量变化，则需要在 `KPOINTS` 指定出路径。\n\n根据 [DOI:10.1016/j.commatsci.2010.05.010](https://arxiv.org/abs/1004.2974) 后面所给资料提示选择对应的布里渊区 K 点路径（注意文中基矢的取法是否与自己一致，否则需要重新画出布里渊区，找出对应的 K 点。\n\n![这里取 Gamma -> K -> M -> Gamma](http://owucpthrj.bkt.clouddn.com/FpmnmrDYGQOgi2NLIPUvy31t0c4p)\n\n写出 `KPOINTS` 如下：\n\n```fortran\nK-POINTS    C3B Mono Layer Bands\t! 注释行\n    40\t\t\t\t\t\t\t\t! 每两个K点之间取样点数\nLine-mode\t\t\t\t\t\t\t! Line-mode，区别于自动取样模式，跑能带专用\nRec\t\t\t\t\t\t\t\t\t! 在倒空间内取点\n    0       0       0   \t\t\t! Gamma\n    0.33333 0.66666 0   \t\t\t! K\n\n    0.33333 0.66666 0   \t\t\t! K\n    0.5     0.5     0   \t\t\t! M\n\n    0.5     0.5     0   \t\t\t! M\n    0       0       0   \t\t\t! Gamma\n```\n\n同时在 `INCAR` 中加上 `ICHARG = 11` 以读取 SCF 所得 `CHGCAR` 进行能带计算。\n\n最后，取所得 `vasprun.xml` 导入 `p4vasp` 进行绘制能带图。如果读者有兴趣可以以 `EIGENVAL`  文件为输入自己实现绘制band的程序（不会很难）。\n\n> 跑能带的感觉就和抽卡/开箱是一样的，你永远也不知道下一个体系的 band 会是什么鸟样。\n\n跑出的能带是这个样子\n\n![](http://owucpthrj.bkt.clouddn.com/Fodl8Omy6tyxekWIF6pAxHI_lPkN)\n\n文献中的截图是这个样子的\n\n![](http://owucpthrj.bkt.clouddn.com/Fp0bJ1vUyw-dm2uxoVXt61hm6ka_)\n\n这里解释一下，本渣最初在跑 band 时 K 点取的路径和文献不同，所以两幅图基本等于对方水平翻转所得，但本文中所给 `KPOINTS` 里 K 点路径与文献是相符的。细心的大神已经看出两幅图中上图似乎向下平移了一部分，这可能是费米能级的取值差异所致，由于本渣水平太低，姑且只能这样理解了。\n\n\n\n# 论检查输入文件正确性的重要性\n\n这里的输入文件指 `VASP` 计算时需要用到的文件，如`INCAR`、`POSCAR`、`POTCAR`、`KPOINTS`、`CHGCAR`等。\n\n1. 文件名是否正确。我知道很多人在 `bash` 中喜欢用 Tab 补全，这对提高命令输入效率非常有效，但同时也降低了我们检查文件名正确性的机会，上文中提到的 `KPOINS` 错误就是因为一直使用 Tab 补全而使它一直被继承到跑出 band ，还不止坑了自己，多么可笑；\n2. 脚本中重定向输出的文件名是否与需求一致。当使用上一次计算的脚本进行修改时本渣很容易忘了修改输出重定向的目标，从而导致 `POSCAR` 的内容被输出到 `KPOINTS` 里，这时 `VASP` 会报错，遇到这种情况及时修改脚本重新提交任务即可，无非是重新排队的问题；\n3. `POTCAR` 是否与体系相对应。有的论文并不明确说出自己使用哪个 `POTCAR` ，而是这样说：\"We treated 4p, 5s, 4d orbitals of xx, and x orbitals of xxx as valence electrons…\"，这就表明我们需要考虑使用带 `_pv` 、 `_sv` 的 `POTCAR` 。**这大概是本人近期踩过的最大的坑了吧**，可以想象，如果从一开始的 `POTCAR` 就出了问题，那么后面所有的计算就都是徒劳的，而在排错时无论如何也很难将目光投向 `POTCAR` 。这里要特别感谢**比那名居腿娘**同学的帮助；\n4. `POSCAR` 中的晶胞是否需要超胞。有的文献中给出一个 band 图但未给出其对应的结构，本渣按照前文所给结构计算，始终无法得到与文献相符的 band 图，直到本渣使用 2x2 超胞后的结构进行计算，终于重复出和文献很接近的结果；\n5. 有时在弛豫后进行 SCF 计算时会提示对称性错误，这时需要在 `INCAR` 中指定 `SYMPREC` 的值，这个值默认为`SYMPREC = 1.0E-5`，指定时可以使用更小的值。\n\n除了上面说到的 `INCAR`、`POSCAR`、`POTCAR`、`KPOINTS`、`CHGCAR`等，有时还会用到 `WAVECAR` ，`WAVECAR` 是二进制文件，在使用 FileZilla 传送时，如果没有勾选 `binary` 选项，则传送时会按照 ASCII 编码进行传送，后果就是 `WAVECAR` 文件损坏。\n\n\n\n这次 blog 就写到这里吧，反正也是为自己写的。（当然如果有大佬愿意在评论区指出其中的错误，本渣感激不尽！\n\n最后祝愿各位读到这里的菊苣，提前（\n","slug":"how-to-struggle-with-vasp","published":1,"updated":"2018-03-28T09:28:59.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjfaw3sxd000oo1jmn7o9uaro","content":"<h1 id=\"在-VASP-PBE-计算中如何优雅地踩坑？\"><a href=\"#在-VASP-PBE-计算中如何优雅地踩坑？\" class=\"headerlink\" title=\"在 VASP (PBE)计算中如何优雅地踩坑？\"></a>在 <code>VASP</code> (PBE)计算中如何优雅地踩坑？</h1><p>[TOC]</p>\n<blockquote>\n<p><strong>警告</strong>：本渣刚学 <code>VASP</code> 不久，对 <code>VASP</code> 的算法、参数不甚了解，如果有大触偶遇此文，并发现有错误，请在评论区指出或邮箱联系本渣。</p>\n</blockquote>\n<p>本文是本渣从 3 月初以来刚接触 <code>VASP</code> 所学技能与遇到坑的总结，以纪念我为文献中一副图而逝去的最近一星期。何为 <code>VASP</code> 以及<code>VASP</code> 能做什么？本渣只是一个刚学的菜鸡，恕不能回答，请自行 Google 解决。</p>\n<h2 id=\"VASP-的输入文件\"><a href=\"#VASP-的输入文件\" class=\"headerlink\" title=\"VASP 的输入文件\"></a>VASP 的输入文件</h2><p>想要执行一次最简单的计算，<code>VASP</code> 需要至少4个文件，它们分别是：</p>\n<ul>\n<li><code>INCAR</code>：<code>VASP</code> 计算的<strong>核心</strong>文件，基本等同于本次计算的司令部。它包含了“<strong>算什么</strong>”、“<strong>怎么算</strong>”、和“<strong>输入、输出那些</strong>”这三个方面的内容，它的几项常用（PBE计算中）参数在后面我们会较为详细地了解到；</li>\n<li><code>POSCAR</code>：决定元胞结构的文件。它包含了元胞的格子类型、格子大小、以和格子内所有原子的种类及坐标，在弛豫时，它还可以指定哪些原子可以在哪些方向上进行<a href=\"https://en.wikipedia.org/wiki/Relaxation_(physics\" target=\"_blank\" rel=\"external\">弛豫</a>)，在 <code>VASP</code> 中我们无需给出原子间的成键情况，仅给出原子的坐标即可；</li>\n<li><code>KPOINTS</code>：描述 <code>VASP</code> 计算中对元胞格子的 mesh 精细度，或指定格子中哪些点的信息需要计算（？这里留个问号，本渣也不是很懂这里）；</li>\n<li><code>POTCAR</code>：赝势库，按 <code>POSCAR</code> 中元素列出顺序给出了对应元素的赝势库。</li>\n</ul>\n<p><strong>以上四个文件全为文本文件</strong>。当然我们还可以命令 <code>VASP</code> 读取上一次的计算结果，比如 <code>WAVECAR</code> ，比如 <code>CHGCAR</code> ，用以更快地收敛或者执行某些特殊的计算。</p>\n<h2 id=\"我们需要-VASP-的哪些输出文件？（目前为止）\"><a href=\"#我们需要-VASP-的哪些输出文件？（目前为止）\" class=\"headerlink\" title=\"我们需要 VASP 的哪些输出文件？（目前为止）\"></a>我们需要 VASP 的哪些输出文件？（目前为止）</h2><ul>\n<li><code>OUTCAR</code>：<code>VASP</code> 的计算日志，里面包含了几乎所有我们需要的结果，明文存储，随计算过程实时更新；</li>\n<li><del><code>WAVECAR</code>：<strong>二进制</strong>文件，经常很大，计算结束时会将内存中的波函数平面波系数写入该文件。（我对这个文件所了解的仅有这些；</del></li>\n<li><code>OSZICAR</code>：<code>VASP</code> 计算过程中能量收敛日志，每个电子步结束时写入；</li>\n<li><del><code>EIGENVAL</code>：<code>VASP</code> 计算出的能带信息保存在这个文件中，计算结束时被写入（可以使用 <code>Python</code> 等工具以它为输入绘制能带图，但本渣太菜，目前还没写这个小程序；</del></li>\n<li><code>CONTCAR</code>：在<a href=\"https://en.wikipedia.org/wiki/Relaxation_(physics\" target=\"_blank\" rel=\"external\">弛豫</a>)中，这个文件包含了<code>VASP</code>每个离子步结束时系统优化得到的元胞原子的坐标，每个离子步结束时写入；如果希望从还未收敛的弛豫结果继续计算，应直接将这个文件复制并重命名为 <code>POSCAR</code> 继续计算即可；</li>\n<li><del><code>CHG</code> &amp; <code>CHGCAR</code>：这个两个文件都包含了元胞中原子的位置信息，以及电荷密度信息，但 <code>CHG</code> 比 <code>CHGCAR</code> 小一些，因其不包含 <code>PAW one centre</code>；</del></li>\n<li><code>vasprun.xml</code>：XML 格式存储的 <code>VASP</code> 计算过程日志。</li>\n</ul>\n<h2 id=\"用-PBE-方法跑出能带图的总体步骤\"><a href=\"#用-PBE-方法跑出能带图的总体步骤\" class=\"headerlink\" title=\"用 PBE 方法跑出能带图的总体步骤\"></a>用 PBE 方法跑出能带图的总体步骤</h2><ol>\n<li>阅读文献，列出文献所给参数（如果有的话），比如 <code>SIGMA</code> ，<code>ISMEAR</code> ，<code>ENCUT</code> ，晶格常数 $a$ 等等信息；</li>\n<li>查阅资料，实现文献所给结构，关注文献的结构是否经过超胞，是否有真空层，是否考虑 vdW ；</li>\n<li>按顺序测出适合该体系的 <code>SIGMA</code> 、<code>ENCUT</code> 、kpts 、<code>a</code> ；（如果文献中给出了这些参数可跳过这一步</li>\n<li>对结构进行弛豫，优化出最稳定结构；</li>\n<li>对体系进行高精度的电子自洽计算；</li>\n<li>跑出能带图、DOS 图以及直接获得所需的能量值等。</li>\n</ol>\n<h1 id=\"正文开始\"><a href=\"#正文开始\" class=\"headerlink\" title=\"正文开始\"></a>正文开始</h1><p>下面以单层 C3B 结构为例，走一遍上面的流程，看看有哪些坑。</p>\n<h2 id=\"获取参数\"><a href=\"#获取参数\" class=\"headerlink\" title=\"获取参数\"></a>获取参数</h2><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">a = <span class=\"number\">5.17</span> \t\t<span class=\"comment\">! 晶格常数</span></div><div class=\"line\">EDIFF = <span class=\"number\">1.0E-6</span>\t<span class=\"comment\">! 弛豫收敛条件</span></div><div class=\"line\">EDIFFG = -<span class=\"number\">0.001</span>\t<span class=\"comment\">! </span></div><div class=\"line\"></div><div class=\"line\">kpts: Monkhorst\t<span class=\"comment\">! KPOINTS 取法</span></div></pre></td></tr></table></figure>\n<p>文献给出单层 C3B 的结构为 D6，长这样（从上往下看：</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FpGVI905Z66B8ksQjiULb3cLahCV\" alt=\"\"></p>\n<h2 id=\"实现结构\"><a href=\"#实现结构\" class=\"headerlink\" title=\"实现结构\"></a>实现结构</h2><p>建立元胞的格子基矢，并表示出各个原子的坐标</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FiQMZt8-XbO9iXes05rkDhfFjHls\" alt=\"\"></p>\n<p>所以它对应的 <code>POSCAR</code> 应为：</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">C3B graphene like structure, a = <span class=\"number\">5.17</span>\t\t\t\t<span class=\"comment\">! 注释</span></div><div class=\"line\">   <span class=\"number\">5.17</span>\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 晶格放大系数</span></div><div class=\"line\">    <span class=\"number\">0.8660254037</span>   -<span class=\"number\">0.5000000000</span>     <span class=\"number\">0.0000000000</span>\t<span class=\"comment\">! 下面三行为实空间中定义元胞的三个格矢 a1, a2, a3</span></div><div class=\"line\">    <span class=\"number\">0.8660254037</span>    <span class=\"number\">0.5000000000</span>   \t <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>     <span class=\"number\">4.0000000000</span>\t<span class=\"comment\">! 真空层厚度为 4.0*5.17 = 20.68A</span></div><div class=\"line\">   B    C\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 元素种类，这一行是给人看的，而不是给VASP看的</span></div><div class=\"line\">   <span class=\"number\">2</span>    <span class=\"number\">6</span>\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 对应元素的原子数目</span></div><div class=\"line\"><span class=\"keyword\">Direct</span>\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 以定义的格矢为基底</span></div><div class=\"line\">    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"comment\">! B 下面皆为原子坐标</span></div><div class=\"line\">    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"comment\">! C</span></div><div class=\"line\">    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.0000000000</span></div></pre></td></tr></table></figure>\n<p><strong>第一个坑</strong>：文献中的晶格常数应该怎样对应 <code>POSCAR</code> 中的晶格参数？</p>\n<p>这取决于我们取的基底。上文中我们以相邻两个元胞的 B 原子间模长最短的矢量为基矢，因此这个这个元胞的实际晶格常数应为 $a = |\\vec{a}_i| \\times a_{POSCAR}$ ， $a$ 即为文中给出的晶格常数，可见，<code>POSCAR</code> 中的晶格参数可以理解为缩放系数，所以写完结构时应与文献对照或放入 VESTA 等软件测出原子键长看与文献是否一致。有的文献作者基底的取法特殊，所给的晶格常数也很“魔性”，但不变的是格子的实际大小、原子间距离等，以这些信息为准才能写出与文献中真正等价的结构。此外，二维结构的实现时需要层间有 20 A 左右的真空层，以避免层间不必要的相互作用，但真空层不可取太厚，否则计算量的增加不仅仅是线性的。</p>\n<h2 id=\"测出必要的参数\"><a href=\"#测出必要的参数\" class=\"headerlink\" title=\"测出必要的参数\"></a>测出必要的参数</h2><h3 id=\"INCAR-Template\"><a href=\"#INCAR-Template\" class=\"headerlink\" title=\"INCAR Template\"></a><code>INCAR</code> Template</h3><p>在测各项参数之前，先给出一个<code>INCAR</code> 模板，具体参数的含义见注释或<code>VASP</code>手册。</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">C3B Mono Layer  strcut_optim</div><div class=\"line\">  SYSTEM = <span class=\"string\">\"C3B Mono Layer\"</span> # 系统注释</div><div class=\"line\"></div><div class=\"line\">Electronic minimization</div><div class=\"line\">  ISMEAR =                  # 使用Gaussian smearing，取 <span class=\"number\">0</span> 用于导体、绝缘体的计算</div><div class=\"line\">  SIGMA =                   # Smearring 的宽度，在精度允许范围内应尽量大以减小计算量</div><div class=\"line\">  EDIFF =                   # 收敛判据的能量判据</div><div class=\"line\">  EDIFFG =                  # 收敛判据，若值为负，则为力判据；若值为正，则为能量判据</div><div class=\"line\">  PREC =                    # 精确度</div><div class=\"line\">  IBRION =                  # 离子移动方法，跑MD、弛豫抑或静态计算时设置不同</div><div class=\"line\">  ISIF =                    # 结构优化类型</div><div class=\"line\"></div><div class=\"line\">Ionic minimization</div><div class=\"line\">  NSW =                     # 离子步数上限</div><div class=\"line\">  NELMIN = \t\t\t\t\t# 电子步收敛下限</div><div class=\"line\">  ENCUT =                   # 截断能，在保证收敛良好的情况下应尽量小</div><div class=\"line\">  LWAVE =                   # 是否输出 WAVECAR；该值为 .FALSE. 时也会有 WAVECAR 输出，但其长度为 <span class=\"number\">0</span></div><div class=\"line\">  LCHARG =                  # 是否输出 CHGCAR</div><div class=\"line\"></div><div class=\"line\">Band Calcs</div><div class=\"line\">  ISTART =                  # 是否从当前目录读取 WAVECAR</div><div class=\"line\">  ICHARG =                  #  <span class=\"number\">1</span>: 读取 CHGCAR</div><div class=\"line\">                            # <span class=\"number\">10</span>: 不改变当前目录下的 CHGCAR</div></pre></td></tr></table></figure>\n<p>同时 <code>POTCAR</code> 这样获得：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cat path/to/PPs/B/POTCAR &gt;&gt; POTCAR</div><div class=\"line\">cat path/to/PPs/C/POTCAR &gt;&gt; POTCAR</div></pre></td></tr></table></figure>\n<p>这里注意 <code>POTCAR</code> 中元素赝势的顺序应与 <code>POSCAR</code> 元素出现的顺序一致。</p>\n<h3 id=\"测出-SIGMA\"><a href=\"#测出-SIGMA\" class=\"headerlink\" title=\"测出 SIGMA\"></a>测出 <code>SIGMA</code></h3><p>固定<code>ENCUT</code>和kpts为较大的值<code>ENCUT = 600</code>、<code>kpts = 21</code>，固定晶格常数为“合适”值，取一系列<code>SIGMA</code>值做静态计算，当<code>OSZICAR</code>中<code>dE</code>绝对值小于 1.0 meV/atom 时取最大的 <code>SIGMA</code> 值。</p>\n<p>使用脚本如下（参考候柱锋老师的入门指南）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\">rm WAVECAR\t\t\t<span class=\"comment\"># 删除目录中的 WAVECAR 以免影响收敛</span></div><div class=\"line\"><span class=\"comment\"># in 后面 0.20 0.10 0.05 即为 sigma 所取的值，一般从大到小取，取值越小计算量越大当发现 dE 满足要求后可以及时终止计算</span></div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 0.20 0.10 0.05\t</div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; INCAR &lt;&lt;!\t<span class=\"comment\"># 在 INCAR 中覆盖以下内容, ! 表示cat内容终止标志，可以自定义，如用 EOF</span></div><div class=\"line\">SYSTEM = Na adsorbed on site 1</div><div class=\"line\">ENCUT = 600\t\t\t<span class=\"comment\"># 截断能取较大值</span></div><div class=\"line\">ISMEAR = 0\t\t\t<span class=\"comment\"># Gaussian Smearing</span></div><div class=\"line\">SIGMA = <span class=\"variable\">$i</span>\t\t\t<span class=\"comment\"># 每次循环 SIGMA 取 $i 的值</span></div><div class=\"line\">NSW = 0\t\t\t\t<span class=\"comment\"># 静态计算，离子步数为 1</span></div><div class=\"line\">IBRION = -1\t\t\t<span class=\"comment\"># 静态计算</span></div><div class=\"line\">LWAVE = .FALSE.\t\t<span class=\"comment\"># 不输出 WAVECAR，不使用上次计算所得平面波系数作为初始值</span></div><div class=\"line\">!</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\" SIGMA = <span class=\"variable\">$i</span> eV \"</span></div><div class=\"line\">    time vasp &gt;&gt; vasp.log\t<span class=\"comment\"># 执行 vasp 计算，重定向输出到 vasp.log ，并对该过程计时，结果输出到 stdout</span></div><div class=\"line\">    <span class=\"comment\"># OUTCAR 中 EENTRO 等于 OSZICAR 中的 dE，这里取出 dE</span></div><div class=\"line\">    TS=`grep <span class=\"string\">\"EENTRO\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.6f\", $5&#125;'</span>`</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$i</span>   <span class=\"variable\">$TS</span>\"</span> &gt;&gt; sigma.txt\t<span class=\"comment\"># 输出 SIGMA 和 dE 到sigma.txt</span></div><div class=\"line\">    <span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\n\\n\"</span>\t<span class=\"comment\"># 换行 3 次</span></div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>所得 sigma.txt 内容如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">0.20   -0.00519083</div><div class=\"line\">0.10   -0.00009427</div><div class=\"line\">0.05   0.00000000</div></pre></td></tr></table></figure>\n<p>显然，这里<code>SIGMA</code>取 0.10 即可，当然还可以在 (0.10, 0.20) 之间再取几个点，逼近使 dE &lt; 1meV/atom 的最大 SIGMA。</p>\n<h3 id=\"测出-ENCUT\"><a href=\"#测出-ENCUT\" class=\"headerlink\" title=\"测出 ENCUT\"></a>测出 <code>ENCUT</code></h3><p>将上面测出的 <code>SIGMA = 0.10</code> 固定，<code>ENCUT</code> 取不同值，过程与上面类似，只是判断 <code>ENCUT</code> 取值的依据变成了两次计算结果的<code>TOTEN</code>之差绝对值小于 1 meV/atom。</p>\n<p>使用脚本如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\"></div><div class=\"line\">rm WAVECAR</div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 300 350 400 450 500 550 600 <span class=\"comment\"># 每次循环 ENCUT 的取值</span></div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; INCAR &lt;&lt;!</div><div class=\"line\">SYSTEM = Na adsorbed on site 1</div><div class=\"line\">ENCUT = <span class=\"variable\">$i</span></div><div class=\"line\">ISMEAR = 0</div><div class=\"line\">SIGMA = 0.10\t\t<span class=\"comment\"># SIGMA 取上面测得的值</span></div><div class=\"line\">NSW = 0</div><div class=\"line\">IBRION = -1</div><div class=\"line\">!</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\" ENCUT = <span class=\"variable\">$i</span> eV \"</span></div><div class=\"line\">    time vasp &gt;&gt; vasp.log</div><div class=\"line\">    E=`grep <span class=\"string\">\"TOTEN\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.6f\", $5&#125;'</span>`\t<span class=\"comment\"># 取出 OUTCAR 中的 TOTEN</span></div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$i</span>   <span class=\"variable\">$E</span>\"</span> &gt;&gt; encut.txt</div><div class=\"line\">    <span class=\"built_in\">echo</span> -e <span class=\"string\">\"E = <span class=\"variable\">$E</span>\\n\\n\"</span></div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>测得 <code>ENCUT</code> 取值为 450。</p>\n<h3 id=\"测出-kpts\"><a href=\"#测出-kpts\" class=\"headerlink\" title=\"测出 kpts\"></a>测出 kpts</h3><p>kpts 指的是 <code>KPOINTS</code> 里 meshgrid 的取样点数，取样越多，计算结果收敛越好，同时计算量也变大。取值条件与上面相同，即两次计算的 <code>TOTEN</code> 相差小于 1meV/atom 。</p>\n<p><strong>注意，不要忘了把测好的 <code>SIGMA</code> 和 <code>ENCUT</code> 写入 <code>INCAR</code></strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\"></div><div class=\"line\">rm WAVECAR</div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 9 13 17 21\t<span class=\"comment\"># kpts 取 9 13 17 21</span></div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; KPOINTS &lt;&lt;!</div><div class=\"line\">Na adsorbed on site1 -- det_kp</div><div class=\"line\">0</div><div class=\"line\">Monkhorst-Pack\t\t<span class=\"comment\"># 只要第一个字母为 M 即可</span></div><div class=\"line\">    <span class=\"variable\">$i</span>  <span class=\"variable\">$i</span>  1\t\t<span class=\"comment\"># 有真空层存在，z方向采样点数为 1</span></div><div class=\"line\">    0   0   0</div><div class=\"line\">!</div><div class=\"line\">    <span class=\"built_in\">echo</span> -e <span class=\"string\">\"k mesh = <span class=\"variable\">$i</span>\\t<span class=\"variable\">$i</span>\\t1\"</span>; time vasp &gt;&gt; vasp.log</div><div class=\"line\">    E=`grep <span class=\"string\">\"TOTEN\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%18.10f\", $5&#125;'</span>`</div><div class=\"line\">    KP=`grep <span class=\"string\">\"irreducible\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%5i\", $2&#125;'</span>`</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"variable\">$i</span> <span class=\"variable\">$KP</span> <span class=\"variable\">$E</span> &gt;&gt; det_kp.txt</div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>测得 kpts 取15。</p>\n<p><strong>第二个坑</strong>：<code>KPOINTS</code> 文件名一定要写对，本渣使用的 <code>VASP</code> 版本为 5.3.5，计算中如果没检测到 <code>KPOINTS</code> 文件存在，则<strong>默认</strong> kpts 取值为 <strong>3</strong> ，导致结果错误。本渣某次计算中误将 <code>KPOINTS</code> 写成了 <code>KPOINS</code> ，导致后面无论如何修改参数，结果与文献值始终相差很大。（这个东西不仅坑了我，还坑了<strong>比那名居腿娘</strong>(来自WHU的EE大佬)大神熬夜到 3 点多，说来惭愧……</p>\n<h3 id=\"测出-a\"><a href=\"#测出-a\" class=\"headerlink\" title=\"测出 a\"></a>测出 <code>a</code></h3><p>这里的<code>a</code>确切地指 <code>POSCAR</code> 中第二行的那个数值，即元胞的放大系数。因为本例中的晶格基矢模长 $|\\vec{a_1}| = |\\vec{a_2}| = 1$ ，故其放大系等于文献中的晶格常数 $a$。这里 <code>a</code> 的取值条件与上面相同。给出测试脚本如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\"></div><div class=\"line\">rm WAVECAR</div><div class=\"line\"><span class=\"comment\"># 晶格参数的取值应在文献值附近取点</span></div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 4.97 5.02 5.07 5.12 5.17 5.22 5.27 5.32 5.37</div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; POSCAR &lt;&lt;!</div><div class=\"line\">C3B graphene like structure, a = 5.17</div><div class=\"line\">   <span class=\"variable\">$i</span></div><div class=\"line\">    0.8660254037   -0.5000000000    0.0000000000</div><div class=\"line\">    0.8660254037    0.5000000000    0.0000000000</div><div class=\"line\">    0.0000000000    0.0000000000    3.0000000000</div><div class=\"line\">   N    C</div><div class=\"line\">   2    6</div><div class=\"line\">Direct</div><div class=\"line\">    0.0000000000    0.0000000000    0.0000000000    ! B1</div><div class=\"line\">    0.6666666666    0.6666666666    0.0000000000    ! B2</div><div class=\"line\">    0.5000000000    0.0000000000    0.0000000000    ! C1</div><div class=\"line\">    0.1666666666    0.1666666666    0.0000000000    ! C2</div><div class=\"line\">    0.0000000000    0.5000000000    0.0000000000    ! C3</div><div class=\"line\">    0.5000000000    0.5000000000    0.0000000000    ! C4</div><div class=\"line\">    0.6666666666    0.1666666666    0.0000000000    ! C5</div><div class=\"line\">    0.1666666666    0.6666666666    0.0000000000    ! C6</div><div class=\"line\">!</div><div class=\"line\">\t<span class=\"built_in\">echo</span> -e <span class=\"string\">\"a = <span class=\"variable\">$i</span> angstrom\"</span>; time vasp &gt;&gt; vasp.log</div><div class=\"line\">\tE=`grep <span class=\"string\">\"TOTEN\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.6f\", $5 &#125;'</span>`</div><div class=\"line\">\tV=`grep <span class=\"string\">\"volume\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.4f\", $5&#125;'</span>`</div><div class=\"line\">\t<span class=\"built_in\">printf</span> <span class=\"string\">\"%6.3f %10.4f %18.10f\\n\"</span> <span class=\"variable\">$i</span> <span class=\"variable\">$V</span> <span class=\"variable\">$E</span> &gt;&gt; a.txt</div><div class=\"line\">\ttail -1 a.txt</div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>测得 <code>a</code> 与文献值相同，5.17</p>\n<h2 id=\"弛豫（结构优化，relaxation）\"><a href=\"#弛豫（结构优化，relaxation）\" class=\"headerlink\" title=\"弛豫（结构优化，relaxation）\"></a>弛豫（结构优化，relaxation）</h2><p>弛豫中需要用到的 <code>INCAR</code> 参数有</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">ISMEAR = <span class=\"number\">0</span>\t\t<span class=\"comment\">! 继承自上面的计算结果</span></div><div class=\"line\">SIGMA = <span class=\"number\">0.1</span></div><div class=\"line\">ENCUT = <span class=\"number\">450</span></div><div class=\"line\"></div><div class=\"line\">PREC = Accurate</div><div class=\"line\">EDIFF = <span class=\"number\">1.0E-6</span></div><div class=\"line\">EDIFFG = -<span class=\"number\">0.01</span></div><div class=\"line\">IBRION = <span class=\"number\">1</span>\t<span class=\"comment\">! 准牛顿法</span></div><div class=\"line\">ISIF = <span class=\"number\">3</span>\t<span class=\"comment\">! 计算 force、stress tensor，对离子、晶格进行弛豫 </span></div><div class=\"line\"></div><div class=\"line\">NELMIN = <span class=\"number\">6</span>\t<span class=\"comment\">! (optional) 强制每个离子步跑至少 6 电子步，提高收敛效果</span></div><div class=\"line\">NSW = <span class=\"number\">200</span>\t<span class=\"comment\">! 离子步上限为 200 步，目前本渣所算的体系中离子步数没有超过这个值的，也许是我太年轻了吧</span></div></pre></td></tr></table></figure>\n<p>这个步骤耗时最长，尤其是加上 <code>PREC</code> 后，每个电子步计算量上升很多，而为了结构的优化，离子步数的增多也使这个过程耗时不少，本例中 8 个原子的体系优化需要数个小时；本渣另外的一个体系中有 12 个原子，优化就需要 12h+ 。</p>\n<p><strong>第三个坑</strong>：<code>EDIFFG</code>有正负之分，<strong>负数</strong>表示收敛的力判据。如果<code>EDIFFG</code>误写为正，则<code>EDIFF</code>会被覆盖，<code>VASP</code>按照<code>EDIFFG</code>进行收敛判断，结果就是收敛可能会变得很快（快上几个数量级），但是所得结构不是我们想要的结构。</p>\n<p><strong>第四个坑</strong>：如果 <code>EDIFF</code>和<code>EDIFFG</code>设置过小，则计算时收敛可能会变得非常漫长，有时甚至会将结构跑散——原子间距离越来越大，这时候有三种选择：1. 提高精度，重新测出晶格常数，晶格常数可以精确到 0.001；2. 放宽收敛判据； 3. <code>IBRION</code> 取 2 （如果你对这个结构是否稳定没有信心的话。</p>\n<h2 id=\"高精度的电子自洽计算（SCF）\"><a href=\"#高精度的电子自洽计算（SCF）\" class=\"headerlink\" title=\"高精度的电子自洽计算（SCF）\"></a>高精度的电子自洽计算（SCF）</h2><p>这一步需要<strong>将 relaxation 得到的 CONTCAR 复制到 SCF 计算目录下，并重命名为 POSCAR</strong> ，<code>INCAR</code> 内容相似，仅将弛豫相关参数修改即可，<code>INCAR</code> 如下</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">C3B Mono Layer  strcut_optim</div><div class=\"line\">  SYSTEM = <span class=\"string\">\"C3B Mono Layer\"</span> # System <span class=\"keyword\">Name</span></div><div class=\"line\"></div><div class=\"line\">Electronic minimization</div><div class=\"line\">  ISMEAR = <span class=\"number\">1</span>                # Toggle Gaussian Method, complete later</div><div class=\"line\">  SIGMA = <span class=\"number\">0.1</span>               # Broadening <span class=\"keyword\">in</span> eV -<span class=\"number\">4</span>-tet-<span class=\"number\">1</span>-fermi <span class=\"number\">0</span>-gaus</div><div class=\"line\">  EDIFF = <span class=\"number\">1.E-6</span>             # Energy tolerance eV/atom</div><div class=\"line\">#  EDIFFG = -<span class=\"number\">0.01</span>            # Force tolerance</div><div class=\"line\">  PREC = Accurate           # Accuracy</div><div class=\"line\">  IBRION = -<span class=\"number\">1</span>               # quasi-Newton algorithm</div><div class=\"line\">#  ISIF = <span class=\"number\">3</span>                  # optim totally: volume, stress, force, ion, <span class=\"built_in\">shape</span></div><div class=\"line\"></div><div class=\"line\">Ionic minimization</div><div class=\"line\">  NSW = <span class=\"number\">0</span>                   # Converge steps, must set</div><div class=\"line\">  ENCUT = <span class=\"number\">450</span>               # components beyond ENCUT are <span class=\"string\">'removed'</span> from the projection</div><div class=\"line\">                            # operators</div><div class=\"line\">  LWAVE = .TRUE.            # Output WAVECAR</div><div class=\"line\">  LCHARG = .TRUE.           # Output density of charge to CHG and CHGCAR</div><div class=\"line\">  NCORE = <span class=\"number\">4</span></div></pre></td></tr></table></figure>\n<p>由于默认输出 <code>CHGCAR</code> ， <code>INCAR</code> 中的 <code>LCHARG</code> 可以不写。</p>\n<h2 id=\"计算能带（band）\"><a href=\"#计算能带（band）\" class=\"headerlink\" title=\"计算能带（band）\"></a>计算能带（band）</h2><p><strong>复制 SCF 计算所得 CHGCAR 到 band 计算目录下。</strong></p>\n<p>我们需要重写 <code>KPOINTS</code> ，之前的 <code>KPOINTS</code> 一直是系统帮助我们在布里渊区采样，现在我们想要得到布里渊区某一路径上能带的能量变化，则需要在 <code>KPOINTS</code> 指定出路径。</p>\n<p>根据 <a href=\"https://arxiv.org/abs/1004.2974\" target=\"_blank\" rel=\"external\">DOI:10.1016/j.commatsci.2010.05.010</a> 后面所给资料提示选择对应的布里渊区 K 点路径（注意文中基矢的取法是否与自己一致，否则需要重新画出布里渊区，找出对应的 K 点。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FpmnmrDYGQOgi2NLIPUvy31t0c4p\" alt=\"这里取 Gamma -&gt; K -&gt; M -&gt; Gamma\"></p>\n<p>写出 <code>KPOINTS</code> 如下：</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">K-POINTS    C3B Mono Layer Bands\t<span class=\"comment\">! 注释行</span></div><div class=\"line\">    <span class=\"number\">40</span>\t\t\t\t\t\t\t\t<span class=\"comment\">! 每两个K点之间取样点数</span></div><div class=\"line\">Line-mode\t\t\t\t\t\t\t<span class=\"comment\">! Line-mode，区别于自动取样模式，跑能带专用</span></div><div class=\"line\"><span class=\"keyword\">Rec</span>\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 在倒空间内取点</span></div><div class=\"line\">    <span class=\"number\">0</span>       <span class=\"number\">0</span>       <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! Gamma</span></div><div class=\"line\">    <span class=\"number\">0.33333</span> <span class=\"number\">0.66666</span> <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! K</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.33333</span> <span class=\"number\">0.66666</span> <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! K</span></div><div class=\"line\">    <span class=\"number\">0.5</span>     <span class=\"number\">0.5</span>     <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! M</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.5</span>     <span class=\"number\">0.5</span>     <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! M</span></div><div class=\"line\">    <span class=\"number\">0</span>       <span class=\"number\">0</span>       <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! Gamma</span></div></pre></td></tr></table></figure>\n<p>同时在 <code>INCAR</code> 中加上 <code>ICHARG = 11</code> 以读取 SCF 所得 <code>CHGCAR</code> 进行能带计算。</p>\n<p>最后，取所得 <code>vasprun.xml</code> 导入 <code>p4vasp</code> 进行绘制能带图。如果读者有兴趣可以以 <code>EIGENVAL</code>  文件为输入自己实现绘制band的程序（不会很难）。</p>\n<blockquote>\n<p>跑能带的感觉就和抽卡/开箱是一样的，你永远也不知道下一个体系的 band 会是什么鸟样。</p>\n</blockquote>\n<p>跑出的能带是这个样子</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fodl8Omy6tyxekWIF6pAxHI_lPkN\" alt=\"\"></p>\n<p>文献中的截图是这个样子的</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fp0bJ1vUyw-dm2uxoVXt61hm6ka_\" alt=\"\"></p>\n<p>这里解释一下，本渣最初在跑 band 时 K 点取的路径和文献不同，所以两幅图基本等于对方水平翻转所得，但本文中所给 <code>KPOINTS</code> 里 K 点路径与文献是相符的。细心的大神已经看出两幅图中上图似乎向下平移了一部分，这可能是费米能级的取值差异所致，由于本渣水平太低，姑且只能这样理解了。</p>\n<h1 id=\"论检查输入文件正确性的重要性\"><a href=\"#论检查输入文件正确性的重要性\" class=\"headerlink\" title=\"论检查输入文件正确性的重要性\"></a>论检查输入文件正确性的重要性</h1><p>这里的输入文件指 <code>VASP</code> 计算时需要用到的文件，如<code>INCAR</code>、<code>POSCAR</code>、<code>POTCAR</code>、<code>KPOINTS</code>、<code>CHGCAR</code>等。</p>\n<ol>\n<li>文件名是否正确。我知道很多人在 <code>bash</code> 中喜欢用 Tab 补全，这对提高命令输入效率非常有效，但同时也降低了我们检查文件名正确性的机会，上文中提到的 <code>KPOINS</code> 错误就是因为一直使用 Tab 补全而使它一直被继承到跑出 band ，还不止坑了自己，多么可笑；</li>\n<li>脚本中重定向输出的文件名是否与需求一致。当使用上一次计算的脚本进行修改时本渣很容易忘了修改输出重定向的目标，从而导致 <code>POSCAR</code> 的内容被输出到 <code>KPOINTS</code> 里，这时 <code>VASP</code> 会报错，遇到这种情况及时修改脚本重新提交任务即可，无非是重新排队的问题；</li>\n<li><code>POTCAR</code> 是否与体系相对应。有的论文并不明确说出自己使用哪个 <code>POTCAR</code> ，而是这样说：”We treated 4p, 5s, 4d orbitals of xx, and x orbitals of xxx as valence electrons…”，这就表明我们需要考虑使用带 <code>_pv</code> 、 <code>_sv</code> 的 <code>POTCAR</code> 。<strong>这大概是本人近期踩过的最大的坑了吧</strong>，可以想象，如果从一开始的 <code>POTCAR</code> 就出了问题，那么后面所有的计算就都是徒劳的，而在排错时无论如何也很难将目光投向 <code>POTCAR</code> 。这里要特别感谢<strong>比那名居腿娘</strong>同学的帮助；</li>\n<li><code>POSCAR</code> 中的晶胞是否需要超胞。有的文献中给出一个 band 图但未给出其对应的结构，本渣按照前文所给结构计算，始终无法得到与文献相符的 band 图，直到本渣使用 2x2 超胞后的结构进行计算，终于重复出和文献很接近的结果；</li>\n<li>有时在弛豫后进行 SCF 计算时会提示对称性错误，这时需要在 <code>INCAR</code> 中指定 <code>SYMPREC</code> 的值，这个值默认为<code>SYMPREC = 1.0E-5</code>，指定时可以使用更小的值。</li>\n</ol>\n<p>除了上面说到的 <code>INCAR</code>、<code>POSCAR</code>、<code>POTCAR</code>、<code>KPOINTS</code>、<code>CHGCAR</code>等，有时还会用到 <code>WAVECAR</code> ，<code>WAVECAR</code> 是二进制文件，在使用 FileZilla 传送时，如果没有勾选 <code>binary</code> 选项，则传送时会按照 ASCII 编码进行传送，后果就是 <code>WAVECAR</code> 文件损坏。</p>\n<p>这次 blog 就写到这里吧，反正也是为自己写的。（当然如果有大佬愿意在评论区指出其中的错误，本渣感激不尽！</p>\n<p>最后祝愿各位读到这里的菊苣，提前（</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"在-VASP-PBE-计算中如何优雅地踩坑？\"><a href=\"#在-VASP-PBE-计算中如何优雅地踩坑？\" class=\"headerlink\" title=\"在 VASP (PBE)计算中如何优雅地踩坑？\"></a>在 <code>VASP</code> (PBE)计算中如何优雅地踩坑？</h1><p>[TOC]</p>\n<blockquote>\n<p><strong>警告</strong>：本渣刚学 <code>VASP</code> 不久，对 <code>VASP</code> 的算法、参数不甚了解，如果有大触偶遇此文，并发现有错误，请在评论区指出或邮箱联系本渣。</p>\n</blockquote>\n<p>本文是本渣从 3 月初以来刚接触 <code>VASP</code> 所学技能与遇到坑的总结，以纪念我为文献中一副图而逝去的最近一星期。何为 <code>VASP</code> 以及<code>VASP</code> 能做什么？本渣只是一个刚学的菜鸡，恕不能回答，请自行 Google 解决。</p>\n<h2 id=\"VASP-的输入文件\"><a href=\"#VASP-的输入文件\" class=\"headerlink\" title=\"VASP 的输入文件\"></a>VASP 的输入文件</h2><p>想要执行一次最简单的计算，<code>VASP</code> 需要至少4个文件，它们分别是：</p>\n<ul>\n<li><code>INCAR</code>：<code>VASP</code> 计算的<strong>核心</strong>文件，基本等同于本次计算的司令部。它包含了“<strong>算什么</strong>”、“<strong>怎么算</strong>”、和“<strong>输入、输出那些</strong>”这三个方面的内容，它的几项常用（PBE计算中）参数在后面我们会较为详细地了解到；</li>\n<li><code>POSCAR</code>：决定元胞结构的文件。它包含了元胞的格子类型、格子大小、以和格子内所有原子的种类及坐标，在弛豫时，它还可以指定哪些原子可以在哪些方向上进行<a href=\"https://en.wikipedia.org/wiki/Relaxation_(physics\" target=\"_blank\" rel=\"external\">弛豫</a>)，在 <code>VASP</code> 中我们无需给出原子间的成键情况，仅给出原子的坐标即可；</li>\n<li><code>KPOINTS</code>：描述 <code>VASP</code> 计算中对元胞格子的 mesh 精细度，或指定格子中哪些点的信息需要计算（？这里留个问号，本渣也不是很懂这里）；</li>\n<li><code>POTCAR</code>：赝势库，按 <code>POSCAR</code> 中元素列出顺序给出了对应元素的赝势库。</li>\n</ul>\n<p><strong>以上四个文件全为文本文件</strong>。当然我们还可以命令 <code>VASP</code> 读取上一次的计算结果，比如 <code>WAVECAR</code> ，比如 <code>CHGCAR</code> ，用以更快地收敛或者执行某些特殊的计算。</p>\n<h2 id=\"我们需要-VASP-的哪些输出文件？（目前为止）\"><a href=\"#我们需要-VASP-的哪些输出文件？（目前为止）\" class=\"headerlink\" title=\"我们需要 VASP 的哪些输出文件？（目前为止）\"></a>我们需要 VASP 的哪些输出文件？（目前为止）</h2><ul>\n<li><code>OUTCAR</code>：<code>VASP</code> 的计算日志，里面包含了几乎所有我们需要的结果，明文存储，随计算过程实时更新；</li>\n<li><del><code>WAVECAR</code>：<strong>二进制</strong>文件，经常很大，计算结束时会将内存中的波函数平面波系数写入该文件。（我对这个文件所了解的仅有这些；</del></li>\n<li><code>OSZICAR</code>：<code>VASP</code> 计算过程中能量收敛日志，每个电子步结束时写入；</li>\n<li><del><code>EIGENVAL</code>：<code>VASP</code> 计算出的能带信息保存在这个文件中，计算结束时被写入（可以使用 <code>Python</code> 等工具以它为输入绘制能带图，但本渣太菜，目前还没写这个小程序；</del></li>\n<li><code>CONTCAR</code>：在<a href=\"https://en.wikipedia.org/wiki/Relaxation_(physics\" target=\"_blank\" rel=\"external\">弛豫</a>)中，这个文件包含了<code>VASP</code>每个离子步结束时系统优化得到的元胞原子的坐标，每个离子步结束时写入；如果希望从还未收敛的弛豫结果继续计算，应直接将这个文件复制并重命名为 <code>POSCAR</code> 继续计算即可；</li>\n<li><del><code>CHG</code> &amp; <code>CHGCAR</code>：这个两个文件都包含了元胞中原子的位置信息，以及电荷密度信息，但 <code>CHG</code> 比 <code>CHGCAR</code> 小一些，因其不包含 <code>PAW one centre</code>；</del></li>\n<li><code>vasprun.xml</code>：XML 格式存储的 <code>VASP</code> 计算过程日志。</li>\n</ul>\n<h2 id=\"用-PBE-方法跑出能带图的总体步骤\"><a href=\"#用-PBE-方法跑出能带图的总体步骤\" class=\"headerlink\" title=\"用 PBE 方法跑出能带图的总体步骤\"></a>用 PBE 方法跑出能带图的总体步骤</h2><ol>\n<li>阅读文献，列出文献所给参数（如果有的话），比如 <code>SIGMA</code> ，<code>ISMEAR</code> ，<code>ENCUT</code> ，晶格常数 $a$ 等等信息；</li>\n<li>查阅资料，实现文献所给结构，关注文献的结构是否经过超胞，是否有真空层，是否考虑 vdW ；</li>\n<li>按顺序测出适合该体系的 <code>SIGMA</code> 、<code>ENCUT</code> 、kpts 、<code>a</code> ；（如果文献中给出了这些参数可跳过这一步</li>\n<li>对结构进行弛豫，优化出最稳定结构；</li>\n<li>对体系进行高精度的电子自洽计算；</li>\n<li>跑出能带图、DOS 图以及直接获得所需的能量值等。</li>\n</ol>\n<h1 id=\"正文开始\"><a href=\"#正文开始\" class=\"headerlink\" title=\"正文开始\"></a>正文开始</h1><p>下面以单层 C3B 结构为例，走一遍上面的流程，看看有哪些坑。</p>\n<h2 id=\"获取参数\"><a href=\"#获取参数\" class=\"headerlink\" title=\"获取参数\"></a>获取参数</h2><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">a = <span class=\"number\">5.17</span> \t\t<span class=\"comment\">! 晶格常数</span></div><div class=\"line\">EDIFF = <span class=\"number\">1.0E-6</span>\t<span class=\"comment\">! 弛豫收敛条件</span></div><div class=\"line\">EDIFFG = -<span class=\"number\">0.001</span>\t<span class=\"comment\">! </span></div><div class=\"line\"></div><div class=\"line\">kpts: Monkhorst\t<span class=\"comment\">! KPOINTS 取法</span></div></pre></td></tr></table></figure>\n<p>文献给出单层 C3B 的结构为 D6，长这样（从上往下看：</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FpGVI905Z66B8ksQjiULb3cLahCV\" alt=\"\"></p>\n<h2 id=\"实现结构\"><a href=\"#实现结构\" class=\"headerlink\" title=\"实现结构\"></a>实现结构</h2><p>建立元胞的格子基矢，并表示出各个原子的坐标</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FiQMZt8-XbO9iXes05rkDhfFjHls\" alt=\"\"></p>\n<p>所以它对应的 <code>POSCAR</code> 应为：</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">C3B graphene like structure, a = <span class=\"number\">5.17</span>\t\t\t\t<span class=\"comment\">! 注释</span></div><div class=\"line\">   <span class=\"number\">5.17</span>\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 晶格放大系数</span></div><div class=\"line\">    <span class=\"number\">0.8660254037</span>   -<span class=\"number\">0.5000000000</span>     <span class=\"number\">0.0000000000</span>\t<span class=\"comment\">! 下面三行为实空间中定义元胞的三个格矢 a1, a2, a3</span></div><div class=\"line\">    <span class=\"number\">0.8660254037</span>    <span class=\"number\">0.5000000000</span>   \t <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>     <span class=\"number\">4.0000000000</span>\t<span class=\"comment\">! 真空层厚度为 4.0*5.17 = 20.68A</span></div><div class=\"line\">   B    C\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 元素种类，这一行是给人看的，而不是给VASP看的</span></div><div class=\"line\">   <span class=\"number\">2</span>    <span class=\"number\">6</span>\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 对应元素的原子数目</span></div><div class=\"line\"><span class=\"keyword\">Direct</span>\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 以定义的格矢为基底</span></div><div class=\"line\">    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"comment\">! B 下面皆为原子坐标</span></div><div class=\"line\">    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.0000000000</span>    <span class=\"comment\">! C</span></div><div class=\"line\">    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.0000000000</span>    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.5000000000</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.0000000000</span></div><div class=\"line\">    <span class=\"number\">0.1666666666</span>    <span class=\"number\">0.6666666666</span>    <span class=\"number\">0.0000000000</span></div></pre></td></tr></table></figure>\n<p><strong>第一个坑</strong>：文献中的晶格常数应该怎样对应 <code>POSCAR</code> 中的晶格参数？</p>\n<p>这取决于我们取的基底。上文中我们以相邻两个元胞的 B 原子间模长最短的矢量为基矢，因此这个这个元胞的实际晶格常数应为 $a = |\\vec{a}_i| \\times a_{POSCAR}$ ， $a$ 即为文中给出的晶格常数，可见，<code>POSCAR</code> 中的晶格参数可以理解为缩放系数，所以写完结构时应与文献对照或放入 VESTA 等软件测出原子键长看与文献是否一致。有的文献作者基底的取法特殊，所给的晶格常数也很“魔性”，但不变的是格子的实际大小、原子间距离等，以这些信息为准才能写出与文献中真正等价的结构。此外，二维结构的实现时需要层间有 20 A 左右的真空层，以避免层间不必要的相互作用，但真空层不可取太厚，否则计算量的增加不仅仅是线性的。</p>\n<h2 id=\"测出必要的参数\"><a href=\"#测出必要的参数\" class=\"headerlink\" title=\"测出必要的参数\"></a>测出必要的参数</h2><h3 id=\"INCAR-Template\"><a href=\"#INCAR-Template\" class=\"headerlink\" title=\"INCAR Template\"></a><code>INCAR</code> Template</h3><p>在测各项参数之前，先给出一个<code>INCAR</code> 模板，具体参数的含义见注释或<code>VASP</code>手册。</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">C3B Mono Layer  strcut_optim</div><div class=\"line\">  SYSTEM = <span class=\"string\">\"C3B Mono Layer\"</span> # 系统注释</div><div class=\"line\"></div><div class=\"line\">Electronic minimization</div><div class=\"line\">  ISMEAR =                  # 使用Gaussian smearing，取 <span class=\"number\">0</span> 用于导体、绝缘体的计算</div><div class=\"line\">  SIGMA =                   # Smearring 的宽度，在精度允许范围内应尽量大以减小计算量</div><div class=\"line\">  EDIFF =                   # 收敛判据的能量判据</div><div class=\"line\">  EDIFFG =                  # 收敛判据，若值为负，则为力判据；若值为正，则为能量判据</div><div class=\"line\">  PREC =                    # 精确度</div><div class=\"line\">  IBRION =                  # 离子移动方法，跑MD、弛豫抑或静态计算时设置不同</div><div class=\"line\">  ISIF =                    # 结构优化类型</div><div class=\"line\"></div><div class=\"line\">Ionic minimization</div><div class=\"line\">  NSW =                     # 离子步数上限</div><div class=\"line\">  NELMIN = \t\t\t\t\t# 电子步收敛下限</div><div class=\"line\">  ENCUT =                   # 截断能，在保证收敛良好的情况下应尽量小</div><div class=\"line\">  LWAVE =                   # 是否输出 WAVECAR；该值为 .FALSE. 时也会有 WAVECAR 输出，但其长度为 <span class=\"number\">0</span></div><div class=\"line\">  LCHARG =                  # 是否输出 CHGCAR</div><div class=\"line\"></div><div class=\"line\">Band Calcs</div><div class=\"line\">  ISTART =                  # 是否从当前目录读取 WAVECAR</div><div class=\"line\">  ICHARG =                  #  <span class=\"number\">1</span>: 读取 CHGCAR</div><div class=\"line\">                            # <span class=\"number\">10</span>: 不改变当前目录下的 CHGCAR</div></pre></td></tr></table></figure>\n<p>同时 <code>POTCAR</code> 这样获得：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cat path/to/PPs/B/POTCAR &gt;&gt; POTCAR</div><div class=\"line\">cat path/to/PPs/C/POTCAR &gt;&gt; POTCAR</div></pre></td></tr></table></figure>\n<p>这里注意 <code>POTCAR</code> 中元素赝势的顺序应与 <code>POSCAR</code> 元素出现的顺序一致。</p>\n<h3 id=\"测出-SIGMA\"><a href=\"#测出-SIGMA\" class=\"headerlink\" title=\"测出 SIGMA\"></a>测出 <code>SIGMA</code></h3><p>固定<code>ENCUT</code>和kpts为较大的值<code>ENCUT = 600</code>、<code>kpts = 21</code>，固定晶格常数为“合适”值，取一系列<code>SIGMA</code>值做静态计算，当<code>OSZICAR</code>中<code>dE</code>绝对值小于 1.0 meV/atom 时取最大的 <code>SIGMA</code> 值。</p>\n<p>使用脚本如下（参考候柱锋老师的入门指南）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\">rm WAVECAR\t\t\t<span class=\"comment\"># 删除目录中的 WAVECAR 以免影响收敛</span></div><div class=\"line\"><span class=\"comment\"># in 后面 0.20 0.10 0.05 即为 sigma 所取的值，一般从大到小取，取值越小计算量越大当发现 dE 满足要求后可以及时终止计算</span></div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 0.20 0.10 0.05\t</div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; INCAR &lt;&lt;!\t<span class=\"comment\"># 在 INCAR 中覆盖以下内容, ! 表示cat内容终止标志，可以自定义，如用 EOF</span></div><div class=\"line\">SYSTEM = Na adsorbed on site 1</div><div class=\"line\">ENCUT = 600\t\t\t<span class=\"comment\"># 截断能取较大值</span></div><div class=\"line\">ISMEAR = 0\t\t\t<span class=\"comment\"># Gaussian Smearing</span></div><div class=\"line\">SIGMA = <span class=\"variable\">$i</span>\t\t\t<span class=\"comment\"># 每次循环 SIGMA 取 $i 的值</span></div><div class=\"line\">NSW = 0\t\t\t\t<span class=\"comment\"># 静态计算，离子步数为 1</span></div><div class=\"line\">IBRION = -1\t\t\t<span class=\"comment\"># 静态计算</span></div><div class=\"line\">LWAVE = .FALSE.\t\t<span class=\"comment\"># 不输出 WAVECAR，不使用上次计算所得平面波系数作为初始值</span></div><div class=\"line\">!</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\" SIGMA = <span class=\"variable\">$i</span> eV \"</span></div><div class=\"line\">    time vasp &gt;&gt; vasp.log\t<span class=\"comment\"># 执行 vasp 计算，重定向输出到 vasp.log ，并对该过程计时，结果输出到 stdout</span></div><div class=\"line\">    <span class=\"comment\"># OUTCAR 中 EENTRO 等于 OSZICAR 中的 dE，这里取出 dE</span></div><div class=\"line\">    TS=`grep <span class=\"string\">\"EENTRO\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.6f\", $5&#125;'</span>`</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$i</span>   <span class=\"variable\">$TS</span>\"</span> &gt;&gt; sigma.txt\t<span class=\"comment\"># 输出 SIGMA 和 dE 到sigma.txt</span></div><div class=\"line\">    <span class=\"built_in\">echo</span> -e <span class=\"string\">\"\\n\\n\"</span>\t<span class=\"comment\"># 换行 3 次</span></div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>所得 sigma.txt 内容如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">0.20   -0.00519083</div><div class=\"line\">0.10   -0.00009427</div><div class=\"line\">0.05   0.00000000</div></pre></td></tr></table></figure>\n<p>显然，这里<code>SIGMA</code>取 0.10 即可，当然还可以在 (0.10, 0.20) 之间再取几个点，逼近使 dE &lt; 1meV/atom 的最大 SIGMA。</p>\n<h3 id=\"测出-ENCUT\"><a href=\"#测出-ENCUT\" class=\"headerlink\" title=\"测出 ENCUT\"></a>测出 <code>ENCUT</code></h3><p>将上面测出的 <code>SIGMA = 0.10</code> 固定，<code>ENCUT</code> 取不同值，过程与上面类似，只是判断 <code>ENCUT</code> 取值的依据变成了两次计算结果的<code>TOTEN</code>之差绝对值小于 1 meV/atom。</p>\n<p>使用脚本如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\"></div><div class=\"line\">rm WAVECAR</div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 300 350 400 450 500 550 600 <span class=\"comment\"># 每次循环 ENCUT 的取值</span></div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; INCAR &lt;&lt;!</div><div class=\"line\">SYSTEM = Na adsorbed on site 1</div><div class=\"line\">ENCUT = <span class=\"variable\">$i</span></div><div class=\"line\">ISMEAR = 0</div><div class=\"line\">SIGMA = 0.10\t\t<span class=\"comment\"># SIGMA 取上面测得的值</span></div><div class=\"line\">NSW = 0</div><div class=\"line\">IBRION = -1</div><div class=\"line\">!</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\" ENCUT = <span class=\"variable\">$i</span> eV \"</span></div><div class=\"line\">    time vasp &gt;&gt; vasp.log</div><div class=\"line\">    E=`grep <span class=\"string\">\"TOTEN\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.6f\", $5&#125;'</span>`\t<span class=\"comment\"># 取出 OUTCAR 中的 TOTEN</span></div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$i</span>   <span class=\"variable\">$E</span>\"</span> &gt;&gt; encut.txt</div><div class=\"line\">    <span class=\"built_in\">echo</span> -e <span class=\"string\">\"E = <span class=\"variable\">$E</span>\\n\\n\"</span></div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>测得 <code>ENCUT</code> 取值为 450。</p>\n<h3 id=\"测出-kpts\"><a href=\"#测出-kpts\" class=\"headerlink\" title=\"测出 kpts\"></a>测出 kpts</h3><p>kpts 指的是 <code>KPOINTS</code> 里 meshgrid 的取样点数，取样越多，计算结果收敛越好，同时计算量也变大。取值条件与上面相同，即两次计算的 <code>TOTEN</code> 相差小于 1meV/atom 。</p>\n<p><strong>注意，不要忘了把测好的 <code>SIGMA</code> 和 <code>ENCUT</code> 写入 <code>INCAR</code></strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\"></div><div class=\"line\">rm WAVECAR</div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 9 13 17 21\t<span class=\"comment\"># kpts 取 9 13 17 21</span></div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; KPOINTS &lt;&lt;!</div><div class=\"line\">Na adsorbed on site1 -- det_kp</div><div class=\"line\">0</div><div class=\"line\">Monkhorst-Pack\t\t<span class=\"comment\"># 只要第一个字母为 M 即可</span></div><div class=\"line\">    <span class=\"variable\">$i</span>  <span class=\"variable\">$i</span>  1\t\t<span class=\"comment\"># 有真空层存在，z方向采样点数为 1</span></div><div class=\"line\">    0   0   0</div><div class=\"line\">!</div><div class=\"line\">    <span class=\"built_in\">echo</span> -e <span class=\"string\">\"k mesh = <span class=\"variable\">$i</span>\\t<span class=\"variable\">$i</span>\\t1\"</span>; time vasp &gt;&gt; vasp.log</div><div class=\"line\">    E=`grep <span class=\"string\">\"TOTEN\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%18.10f\", $5&#125;'</span>`</div><div class=\"line\">    KP=`grep <span class=\"string\">\"irreducible\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%5i\", $2&#125;'</span>`</div><div class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"variable\">$i</span> <span class=\"variable\">$KP</span> <span class=\"variable\">$E</span> &gt;&gt; det_kp.txt</div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>测得 kpts 取15。</p>\n<p><strong>第二个坑</strong>：<code>KPOINTS</code> 文件名一定要写对，本渣使用的 <code>VASP</code> 版本为 5.3.5，计算中如果没检测到 <code>KPOINTS</code> 文件存在，则<strong>默认</strong> kpts 取值为 <strong>3</strong> ，导致结果错误。本渣某次计算中误将 <code>KPOINTS</code> 写成了 <code>KPOINS</code> ，导致后面无论如何修改参数，结果与文献值始终相差很大。（这个东西不仅坑了我，还坑了<strong>比那名居腿娘</strong>(来自WHU的EE大佬)大神熬夜到 3 点多，说来惭愧……</p>\n<h3 id=\"测出-a\"><a href=\"#测出-a\" class=\"headerlink\" title=\"测出 a\"></a>测出 <code>a</code></h3><p>这里的<code>a</code>确切地指 <code>POSCAR</code> 中第二行的那个数值，即元胞的放大系数。因为本例中的晶格基矢模长 $|\\vec{a_1}| = |\\vec{a_2}| = 1$ ，故其放大系等于文献中的晶格常数 $a$。这里 <code>a</code> 的取值条件与上面相同。给出测试脚本如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/bash</span></div><div class=\"line\"></div><div class=\"line\">rm WAVECAR</div><div class=\"line\"><span class=\"comment\"># 晶格参数的取值应在文献值附近取点</span></div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> 4.97 5.02 5.07 5.12 5.17 5.22 5.27 5.32 5.37</div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    cat &gt; POSCAR &lt;&lt;!</div><div class=\"line\">C3B graphene like structure, a = 5.17</div><div class=\"line\">   <span class=\"variable\">$i</span></div><div class=\"line\">    0.8660254037   -0.5000000000    0.0000000000</div><div class=\"line\">    0.8660254037    0.5000000000    0.0000000000</div><div class=\"line\">    0.0000000000    0.0000000000    3.0000000000</div><div class=\"line\">   N    C</div><div class=\"line\">   2    6</div><div class=\"line\">Direct</div><div class=\"line\">    0.0000000000    0.0000000000    0.0000000000    ! B1</div><div class=\"line\">    0.6666666666    0.6666666666    0.0000000000    ! B2</div><div class=\"line\">    0.5000000000    0.0000000000    0.0000000000    ! C1</div><div class=\"line\">    0.1666666666    0.1666666666    0.0000000000    ! C2</div><div class=\"line\">    0.0000000000    0.5000000000    0.0000000000    ! C3</div><div class=\"line\">    0.5000000000    0.5000000000    0.0000000000    ! C4</div><div class=\"line\">    0.6666666666    0.1666666666    0.0000000000    ! C5</div><div class=\"line\">    0.1666666666    0.6666666666    0.0000000000    ! C6</div><div class=\"line\">!</div><div class=\"line\">\t<span class=\"built_in\">echo</span> -e <span class=\"string\">\"a = <span class=\"variable\">$i</span> angstrom\"</span>; time vasp &gt;&gt; vasp.log</div><div class=\"line\">\tE=`grep <span class=\"string\">\"TOTEN\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.6f\", $5 &#125;'</span>`</div><div class=\"line\">\tV=`grep <span class=\"string\">\"volume\"</span> OUTCAR | tail -1 | awk <span class=\"string\">'&#123;printf \"%12.4f\", $5&#125;'</span>`</div><div class=\"line\">\t<span class=\"built_in\">printf</span> <span class=\"string\">\"%6.3f %10.4f %18.10f\\n\"</span> <span class=\"variable\">$i</span> <span class=\"variable\">$V</span> <span class=\"variable\">$E</span> &gt;&gt; a.txt</div><div class=\"line\">\ttail -1 a.txt</div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n<p>测得 <code>a</code> 与文献值相同，5.17</p>\n<h2 id=\"弛豫（结构优化，relaxation）\"><a href=\"#弛豫（结构优化，relaxation）\" class=\"headerlink\" title=\"弛豫（结构优化，relaxation）\"></a>弛豫（结构优化，relaxation）</h2><p>弛豫中需要用到的 <code>INCAR</code> 参数有</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">ISMEAR = <span class=\"number\">0</span>\t\t<span class=\"comment\">! 继承自上面的计算结果</span></div><div class=\"line\">SIGMA = <span class=\"number\">0.1</span></div><div class=\"line\">ENCUT = <span class=\"number\">450</span></div><div class=\"line\"></div><div class=\"line\">PREC = Accurate</div><div class=\"line\">EDIFF = <span class=\"number\">1.0E-6</span></div><div class=\"line\">EDIFFG = -<span class=\"number\">0.01</span></div><div class=\"line\">IBRION = <span class=\"number\">1</span>\t<span class=\"comment\">! 准牛顿法</span></div><div class=\"line\">ISIF = <span class=\"number\">3</span>\t<span class=\"comment\">! 计算 force、stress tensor，对离子、晶格进行弛豫 </span></div><div class=\"line\"></div><div class=\"line\">NELMIN = <span class=\"number\">6</span>\t<span class=\"comment\">! (optional) 强制每个离子步跑至少 6 电子步，提高收敛效果</span></div><div class=\"line\">NSW = <span class=\"number\">200</span>\t<span class=\"comment\">! 离子步上限为 200 步，目前本渣所算的体系中离子步数没有超过这个值的，也许是我太年轻了吧</span></div></pre></td></tr></table></figure>\n<p>这个步骤耗时最长，尤其是加上 <code>PREC</code> 后，每个电子步计算量上升很多，而为了结构的优化，离子步数的增多也使这个过程耗时不少，本例中 8 个原子的体系优化需要数个小时；本渣另外的一个体系中有 12 个原子，优化就需要 12h+ 。</p>\n<p><strong>第三个坑</strong>：<code>EDIFFG</code>有正负之分，<strong>负数</strong>表示收敛的力判据。如果<code>EDIFFG</code>误写为正，则<code>EDIFF</code>会被覆盖，<code>VASP</code>按照<code>EDIFFG</code>进行收敛判断，结果就是收敛可能会变得很快（快上几个数量级），但是所得结构不是我们想要的结构。</p>\n<p><strong>第四个坑</strong>：如果 <code>EDIFF</code>和<code>EDIFFG</code>设置过小，则计算时收敛可能会变得非常漫长，有时甚至会将结构跑散——原子间距离越来越大，这时候有三种选择：1. 提高精度，重新测出晶格常数，晶格常数可以精确到 0.001；2. 放宽收敛判据； 3. <code>IBRION</code> 取 2 （如果你对这个结构是否稳定没有信心的话。</p>\n<h2 id=\"高精度的电子自洽计算（SCF）\"><a href=\"#高精度的电子自洽计算（SCF）\" class=\"headerlink\" title=\"高精度的电子自洽计算（SCF）\"></a>高精度的电子自洽计算（SCF）</h2><p>这一步需要<strong>将 relaxation 得到的 CONTCAR 复制到 SCF 计算目录下，并重命名为 POSCAR</strong> ，<code>INCAR</code> 内容相似，仅将弛豫相关参数修改即可，<code>INCAR</code> 如下</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">C3B Mono Layer  strcut_optim</div><div class=\"line\">  SYSTEM = <span class=\"string\">\"C3B Mono Layer\"</span> # System <span class=\"keyword\">Name</span></div><div class=\"line\"></div><div class=\"line\">Electronic minimization</div><div class=\"line\">  ISMEAR = <span class=\"number\">1</span>                # Toggle Gaussian Method, complete later</div><div class=\"line\">  SIGMA = <span class=\"number\">0.1</span>               # Broadening <span class=\"keyword\">in</span> eV -<span class=\"number\">4</span>-tet-<span class=\"number\">1</span>-fermi <span class=\"number\">0</span>-gaus</div><div class=\"line\">  EDIFF = <span class=\"number\">1.E-6</span>             # Energy tolerance eV/atom</div><div class=\"line\">#  EDIFFG = -<span class=\"number\">0.01</span>            # Force tolerance</div><div class=\"line\">  PREC = Accurate           # Accuracy</div><div class=\"line\">  IBRION = -<span class=\"number\">1</span>               # quasi-Newton algorithm</div><div class=\"line\">#  ISIF = <span class=\"number\">3</span>                  # optim totally: volume, stress, force, ion, <span class=\"built_in\">shape</span></div><div class=\"line\"></div><div class=\"line\">Ionic minimization</div><div class=\"line\">  NSW = <span class=\"number\">0</span>                   # Converge steps, must set</div><div class=\"line\">  ENCUT = <span class=\"number\">450</span>               # components beyond ENCUT are <span class=\"string\">'removed'</span> from the projection</div><div class=\"line\">                            # operators</div><div class=\"line\">  LWAVE = .TRUE.            # Output WAVECAR</div><div class=\"line\">  LCHARG = .TRUE.           # Output density of charge to CHG and CHGCAR</div><div class=\"line\">  NCORE = <span class=\"number\">4</span></div></pre></td></tr></table></figure>\n<p>由于默认输出 <code>CHGCAR</code> ， <code>INCAR</code> 中的 <code>LCHARG</code> 可以不写。</p>\n<h2 id=\"计算能带（band）\"><a href=\"#计算能带（band）\" class=\"headerlink\" title=\"计算能带（band）\"></a>计算能带（band）</h2><p><strong>复制 SCF 计算所得 CHGCAR 到 band 计算目录下。</strong></p>\n<p>我们需要重写 <code>KPOINTS</code> ，之前的 <code>KPOINTS</code> 一直是系统帮助我们在布里渊区采样，现在我们想要得到布里渊区某一路径上能带的能量变化，则需要在 <code>KPOINTS</code> 指定出路径。</p>\n<p>根据 <a href=\"https://arxiv.org/abs/1004.2974\" target=\"_blank\" rel=\"external\">DOI:10.1016/j.commatsci.2010.05.010</a> 后面所给资料提示选择对应的布里渊区 K 点路径（注意文中基矢的取法是否与自己一致，否则需要重新画出布里渊区，找出对应的 K 点。</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/FpmnmrDYGQOgi2NLIPUvy31t0c4p\" alt=\"这里取 Gamma -&gt; K -&gt; M -&gt; Gamma\"></p>\n<p>写出 <code>KPOINTS</code> 如下：</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">K-POINTS    C3B Mono Layer Bands\t<span class=\"comment\">! 注释行</span></div><div class=\"line\">    <span class=\"number\">40</span>\t\t\t\t\t\t\t\t<span class=\"comment\">! 每两个K点之间取样点数</span></div><div class=\"line\">Line-mode\t\t\t\t\t\t\t<span class=\"comment\">! Line-mode，区别于自动取样模式，跑能带专用</span></div><div class=\"line\"><span class=\"keyword\">Rec</span>\t\t\t\t\t\t\t\t\t<span class=\"comment\">! 在倒空间内取点</span></div><div class=\"line\">    <span class=\"number\">0</span>       <span class=\"number\">0</span>       <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! Gamma</span></div><div class=\"line\">    <span class=\"number\">0.33333</span> <span class=\"number\">0.66666</span> <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! K</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.33333</span> <span class=\"number\">0.66666</span> <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! K</span></div><div class=\"line\">    <span class=\"number\">0.5</span>     <span class=\"number\">0.5</span>     <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! M</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.5</span>     <span class=\"number\">0.5</span>     <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! M</span></div><div class=\"line\">    <span class=\"number\">0</span>       <span class=\"number\">0</span>       <span class=\"number\">0</span>   \t\t\t<span class=\"comment\">! Gamma</span></div></pre></td></tr></table></figure>\n<p>同时在 <code>INCAR</code> 中加上 <code>ICHARG = 11</code> 以读取 SCF 所得 <code>CHGCAR</code> 进行能带计算。</p>\n<p>最后，取所得 <code>vasprun.xml</code> 导入 <code>p4vasp</code> 进行绘制能带图。如果读者有兴趣可以以 <code>EIGENVAL</code>  文件为输入自己实现绘制band的程序（不会很难）。</p>\n<blockquote>\n<p>跑能带的感觉就和抽卡/开箱是一样的，你永远也不知道下一个体系的 band 会是什么鸟样。</p>\n</blockquote>\n<p>跑出的能带是这个样子</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fodl8Omy6tyxekWIF6pAxHI_lPkN\" alt=\"\"></p>\n<p>文献中的截图是这个样子的</p>\n<p><img src=\"http://owucpthrj.bkt.clouddn.com/Fp0bJ1vUyw-dm2uxoVXt61hm6ka_\" alt=\"\"></p>\n<p>这里解释一下，本渣最初在跑 band 时 K 点取的路径和文献不同，所以两幅图基本等于对方水平翻转所得，但本文中所给 <code>KPOINTS</code> 里 K 点路径与文献是相符的。细心的大神已经看出两幅图中上图似乎向下平移了一部分，这可能是费米能级的取值差异所致，由于本渣水平太低，姑且只能这样理解了。</p>\n<h1 id=\"论检查输入文件正确性的重要性\"><a href=\"#论检查输入文件正确性的重要性\" class=\"headerlink\" title=\"论检查输入文件正确性的重要性\"></a>论检查输入文件正确性的重要性</h1><p>这里的输入文件指 <code>VASP</code> 计算时需要用到的文件，如<code>INCAR</code>、<code>POSCAR</code>、<code>POTCAR</code>、<code>KPOINTS</code>、<code>CHGCAR</code>等。</p>\n<ol>\n<li>文件名是否正确。我知道很多人在 <code>bash</code> 中喜欢用 Tab 补全，这对提高命令输入效率非常有效，但同时也降低了我们检查文件名正确性的机会，上文中提到的 <code>KPOINS</code> 错误就是因为一直使用 Tab 补全而使它一直被继承到跑出 band ，还不止坑了自己，多么可笑；</li>\n<li>脚本中重定向输出的文件名是否与需求一致。当使用上一次计算的脚本进行修改时本渣很容易忘了修改输出重定向的目标，从而导致 <code>POSCAR</code> 的内容被输出到 <code>KPOINTS</code> 里，这时 <code>VASP</code> 会报错，遇到这种情况及时修改脚本重新提交任务即可，无非是重新排队的问题；</li>\n<li><code>POTCAR</code> 是否与体系相对应。有的论文并不明确说出自己使用哪个 <code>POTCAR</code> ，而是这样说：”We treated 4p, 5s, 4d orbitals of xx, and x orbitals of xxx as valence electrons…”，这就表明我们需要考虑使用带 <code>_pv</code> 、 <code>_sv</code> 的 <code>POTCAR</code> 。<strong>这大概是本人近期踩过的最大的坑了吧</strong>，可以想象，如果从一开始的 <code>POTCAR</code> 就出了问题，那么后面所有的计算就都是徒劳的，而在排错时无论如何也很难将目光投向 <code>POTCAR</code> 。这里要特别感谢<strong>比那名居腿娘</strong>同学的帮助；</li>\n<li><code>POSCAR</code> 中的晶胞是否需要超胞。有的文献中给出一个 band 图但未给出其对应的结构，本渣按照前文所给结构计算，始终无法得到与文献相符的 band 图，直到本渣使用 2x2 超胞后的结构进行计算，终于重复出和文献很接近的结果；</li>\n<li>有时在弛豫后进行 SCF 计算时会提示对称性错误，这时需要在 <code>INCAR</code> 中指定 <code>SYMPREC</code> 的值，这个值默认为<code>SYMPREC = 1.0E-5</code>，指定时可以使用更小的值。</li>\n</ol>\n<p>除了上面说到的 <code>INCAR</code>、<code>POSCAR</code>、<code>POTCAR</code>、<code>KPOINTS</code>、<code>CHGCAR</code>等，有时还会用到 <code>WAVECAR</code> ，<code>WAVECAR</code> 是二进制文件，在使用 FileZilla 传送时，如果没有勾选 <code>binary</code> 选项，则传送时会按照 ASCII 编码进行传送，后果就是 <code>WAVECAR</code> 文件损坏。</p>\n<p>这次 blog 就写到这里吧，反正也是为自己写的。（当然如果有大佬愿意在评论区指出其中的错误，本渣感激不尽！</p>\n<p>最后祝愿各位读到这里的菊苣，提前（</p>\n"}],"PostAsset":[{"_id":"source/_posts/Quantum-Physics-Learning-Log-1/fig.svg","post":"cjfaw3sxa000io1jmp1goi8oh","slug":"fig.svg","modified":1,"renderable":1},{"_id":"source/_posts/how-to-struggle-with-vasp/lattice1.ggb","post":"cjfaw3sxd000oo1jmn7o9uaro","slug":"lattice1.ggb","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.aux","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex1.aux","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.log","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex1.log","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.pdf","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex1.pdf","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.synctex.gz","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex1.synctex.gz","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex1.tex","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex1.tex","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.aux","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex2.aux","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.log","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex2.log","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.pdf","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex2.pdf","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.synctex.gz","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex2.synctex.gz","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/ex2.tex","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"ex2.tex","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/vib1.ggb","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"vib1.ggb","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/vib1.svg","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"vib1.svg","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/vib2.ggb","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"vib2.ggb","modified":1,"renderable":1},{"_id":"source/_posts/how-to-solve-viberation-1/vib2.svg","post":"cjfaw3sxb000ko1jmvsuu6zfg","slug":"vib2.svg","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/Sagiri.jpg","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"Sagiri.jpg","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/animated.gif","slug":"animated.gif","post":"cjfaw3sx10009o1jm0s89ixyi","modified":1,"renderable":0},{"_id":"source/_posts/Coriolis-Force/fig1.ggb","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig1.ggb","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig1.png","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig1.png","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig2.ggb","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig2.ggb","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig2.png","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig2.png","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig2.svg","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig2.svg","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig3.ggb","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig3.ggb","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig3.png","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig3.png","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig4.ggb","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig4.ggb","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig4.png","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig4.png","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig5.ggb","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig5.ggb","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig5.gif","slug":"fig5.gif","post":"cjfaw3sx10009o1jm0s89ixyi","modified":1,"renderable":0},{"_id":"source/_posts/Coriolis-Force/fig5.png","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig5.png","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig6.ggb","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig6.ggb","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig6_1.png","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig6_1.png","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig6_2.pdf","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig6_2.pdf","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig6_2.svg","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig6_2.svg","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig6_3.pdf","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig6_3.pdf","modified":1,"renderable":1},{"_id":"source/_posts/Coriolis-Force/fig6_3.svg","post":"cjfaw3sx10009o1jm0s89ixyi","slug":"fig6_3.svg","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cjfaw3sx00008o1jmw71rfwah","category_id":"cjfaw3swx0004o1jmzfwhudgq","_id":"cjfaw3sx9000fo1jm3z0cknn2"},{"post_id":"cjfaw3swo0000o1jmn5qkokpg","category_id":"cjfaw3swx0004o1jmzfwhudgq","_id":"cjfaw3sxb000jo1jmddg6lliq"},{"post_id":"cjfaw3swt0002o1jm4xgtq0y7","category_id":"cjfaw3swx0004o1jmzfwhudgq","_id":"cjfaw3sxc000lo1jmjfxi6mp9"},{"post_id":"cjfaw3sxa000io1jmp1goi8oh","category_id":"cjfaw3swx0004o1jmzfwhudgq","_id":"cjfaw3sxe000po1jmfvwda1h5"},{"post_id":"cjfaw3swy0006o1jmcah91r5a","category_id":"cjfaw3sx9000go1jm27nn6jcx","_id":"cjfaw3sxf000so1jm9zlouc37"},{"post_id":"cjfaw3sxb000ko1jmvsuu6zfg","category_id":"cjfaw3sx9000go1jm27nn6jcx","_id":"cjfaw3sxg000to1jmhodg0n4z"},{"post_id":"cjfaw3sx10009o1jm0s89ixyi","category_id":"cjfaw3sx9000go1jm27nn6jcx","_id":"cjfaw3sxg000wo1jmb78ixho8"},{"post_id":"cjfaw3sx4000do1jmtn8umj65","category_id":"cjfaw3sxf000qo1jmurpmazpv","_id":"cjfaw3sxh000yo1jm4pzj04gy"},{"post_id":"cjfaw3sx8000eo1jm2m3uycw8","category_id":"cjfaw3sxg000uo1jm2prfxq6p","_id":"cjfaw3sxi0014o1jmy5uj29k6"},{"post_id":"cjfaw3sxd000oo1jmn7o9uaro","category_id":"cjfaw3sxh0010o1jm81y44g99","_id":"cjfaw3sxj0017o1jmq9an9oo8"}],"PostTag":[{"post_id":"cjfaw3swo0000o1jmn5qkokpg","tag_id":"cjfaw3swx0005o1jmmji1zljk","_id":"cjfaw3sx4000co1jmud9p1uln"},{"post_id":"cjfaw3swt0002o1jm4xgtq0y7","tag_id":"cjfaw3sx2000bo1jmzvkrbg9a","_id":"cjfaw3sxh000xo1jmwxbfpu5q"},{"post_id":"cjfaw3swt0002o1jm4xgtq0y7","tag_id":"cjfaw3sxa000ho1jmsahbkyz4","_id":"cjfaw3sxh000zo1jmzhkle1h8"},{"post_id":"cjfaw3swt0002o1jm4xgtq0y7","tag_id":"cjfaw3sxd000no1jmg92u7o0r","_id":"cjfaw3sxi0012o1jm9s5127vv"},{"post_id":"cjfaw3swt0002o1jm4xgtq0y7","tag_id":"cjfaw3swx0005o1jmmji1zljk","_id":"cjfaw3sxi0013o1jmbnhiwwig"},{"post_id":"cjfaw3swy0006o1jmcah91r5a","tag_id":"cjfaw3sxg000vo1jme8jnrvra","_id":"cjfaw3sxj0016o1jm5nei6pj2"},{"post_id":"cjfaw3swy0006o1jmcah91r5a","tag_id":"cjfaw3sxh0011o1jmdocqttgw","_id":"cjfaw3sxj0018o1jmlfbjc12s"},{"post_id":"cjfaw3sx00008o1jmw71rfwah","tag_id":"cjfaw3swx0005o1jmmji1zljk","_id":"cjfaw3sxl001co1jm54to04ye"},{"post_id":"cjfaw3sx00008o1jmw71rfwah","tag_id":"cjfaw3sxg000vo1jme8jnrvra","_id":"cjfaw3sxl001do1jmo1600zh8"},{"post_id":"cjfaw3sx00008o1jmw71rfwah","tag_id":"cjfaw3sxa000ho1jmsahbkyz4","_id":"cjfaw3sxm001fo1jmwdcx4l63"},{"post_id":"cjfaw3sx00008o1jmw71rfwah","tag_id":"cjfaw3sxk001ao1jmd9szs17z","_id":"cjfaw3sxm001go1jm7l47n77h"},{"post_id":"cjfaw3sx10009o1jm0s89ixyi","tag_id":"cjfaw3sxg000vo1jme8jnrvra","_id":"cjfaw3sxn001jo1jme7iyf998"},{"post_id":"cjfaw3sx10009o1jm0s89ixyi","tag_id":"cjfaw3sxm001eo1jmydend8vi","_id":"cjfaw3sxo001ko1jm7jft61fg"},{"post_id":"cjfaw3sx10009o1jm0s89ixyi","tag_id":"cjfaw3sxn001ho1jmttpf9plt","_id":"cjfaw3sxo001mo1jmqplztle1"},{"post_id":"cjfaw3sx4000do1jmtn8umj65","tag_id":"cjfaw3sxn001io1jmwu5btgfp","_id":"cjfaw3sxp001po1jm9ydurqh5"},{"post_id":"cjfaw3sx4000do1jmtn8umj65","tag_id":"cjfaw3sxo001lo1jm26v3pll8","_id":"cjfaw3sxq001qo1jmiqzqufod"},{"post_id":"cjfaw3sx4000do1jmtn8umj65","tag_id":"cjfaw3sxo001no1jmdnjtqsap","_id":"cjfaw3sxq001so1jmlfb9z90b"},{"post_id":"cjfaw3sx8000eo1jm2m3uycw8","tag_id":"cjfaw3sxp001oo1jmytpkavjx","_id":"cjfaw3sxr001uo1jmwln0ejqb"},{"post_id":"cjfaw3sx8000eo1jm2m3uycw8","tag_id":"cjfaw3sxq001ro1jmq19l2cqz","_id":"cjfaw3sxr001vo1jmbsf3m8sk"},{"post_id":"cjfaw3sxa000io1jmp1goi8oh","tag_id":"cjfaw3swx0005o1jmmji1zljk","_id":"cjfaw3sxs001yo1jmqaxoxgmz"},{"post_id":"cjfaw3sxa000io1jmp1goi8oh","tag_id":"cjfaw3sxq001to1jm91316vmc","_id":"cjfaw3sxs001zo1jmcyjc0gr7"},{"post_id":"cjfaw3sxa000io1jmp1goi8oh","tag_id":"cjfaw3sxr001wo1jmvf08cs1r","_id":"cjfaw3sxt0021o1jm25el50jr"},{"post_id":"cjfaw3sxb000ko1jmvsuu6zfg","tag_id":"cjfaw3sxr001xo1jmejlfdgqp","_id":"cjfaw3sxt0023o1jmwv5oarmo"},{"post_id":"cjfaw3sxb000ko1jmvsuu6zfg","tag_id":"cjfaw3sxh0011o1jmdocqttgw","_id":"cjfaw3sxu0024o1jmbcymhcpe"},{"post_id":"cjfaw3sxd000oo1jmn7o9uaro","tag_id":"cjfaw3sxt0022o1jmyqrcs4kx","_id":"cjfaw3sxv0025o1jmp7n9yfke"}],"Tag":[{"name":"量子力学","_id":"cjfaw3swx0005o1jmmji1zljk"},{"name":"氢原子","_id":"cjfaw3sx2000bo1jmzvkrbg9a"},{"name":"薛定谔方程","_id":"cjfaw3sxa000ho1jmsahbkyz4"},{"name":"波尔半径","_id":"cjfaw3sxd000no1jmg92u7o0r"},{"name":"物理学","_id":"cjfaw3sxg000vo1jme8jnrvra"},{"name":"振动","_id":"cjfaw3sxh0011o1jmdocqttgw"},{"name":"定态","_id":"cjfaw3sxk001ao1jmd9szs17z"},{"name":"经典力学","_id":"cjfaw3sxm001eo1jmydend8vi"},{"name":"科里奥利力","_id":"cjfaw3sxn001ho1jmttpf9plt"},{"name":"C++","_id":"cjfaw3sxn001io1jmwu5btgfp"},{"name":"PAT","_id":"cjfaw3sxo001lo1jm26v3pll8"},{"name":"排序","_id":"cjfaw3sxo001no1jmdnjtqsap"},{"name":"物理化学","_id":"cjfaw3sxp001oo1jmytpkavjx"},{"name":"化学","_id":"cjfaw3sxq001ro1jmq19l2cqz"},{"name":"线性代数","_id":"cjfaw3sxq001to1jm91316vmc"},{"name":"数学基础","_id":"cjfaw3sxr001wo1jmvf08cs1r"},{"name":"物理","_id":"cjfaw3sxr001xo1jmejlfdgqp"},{"name":"VASP","_id":"cjfaw3sxt0022o1jmyqrcs4kx"}]}}